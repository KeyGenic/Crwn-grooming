/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={1553:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),s=new N(r||[]);return o._invoke=function(e,t,n){var r=h;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=k(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,s),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h="suspendedStart",d="suspendedYield",f="executing",p="completed",m={};function g(){}function y(){}function v(){}var w={};u(w,o,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(C([])));_&&_!==n&&r.call(_,o)&&(w=_);var E=v.prototype=g.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,o,s,a){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function k(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function C(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=v,u(E,"constructor",v),u(v,"constructor",y),y.displayName=u(v,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,a,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},S(I.prototype),u(I.prototype,s,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new I(c(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},S(E),u(E,a,"Generator"),u(E,o,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},7757:(e,t,n)=>{e.exports=n(1553)},2627:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".cart-dropdown{position:absolute;width:300px;height:500px;display:flex;flex-direction:column;padding:20px;border:1px solid black;background-color:white;top:90px;right:40px;z-index:5}.cart-dropdown .cart-items{height:100vh;display:flex;flex-direction:column;overflow-x:hidden}.cart-dropdown button{margin-top:auto}.cart-dropdown .no-items-message{margin:15px auto;font-size:18px}\n",""]);const o=i},5658:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".shop-icon-container{width:45px;height:45px;position:relative;display:flex;align-items:center;justify-content:center;cursor:pointer}.shop-icon-container .shop-icon{width:24px;height:24px}.shop-icon-container .item-count{position:absolute;font-size:10px;font-weight:bold;bottom:12px}\n",""]);const o=i},2321:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".cart-item{width:100%;display:flex;height:80px;margin-bottom:15px}.cart-item img{width:30%}.cart-item .items-info{width:70%;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;padding:10px 20px;font-size:13px}.cart-item .items-info .name{font-size:13px}\n",""]);const o=i},216:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".check-out-items{width:100%;display:flex;min-height:100px;border-bottom:1px solid darkgrey;padding:15px 0;font-size:20px;align-items:center}.check-out-items .image-container{width:23%;padding-right:15px}.check-out-items .image-container img{width:100%;height:100%}.check-out-items .name,.check-out-items .quantity,.check-out-items .price{width:23%}.check-out-items .quantity{display:flex}.check-out-items .quantity .arrow{margin:0 10px;cursor:pointer}.check-out-items .remove-btn{padding-left:12px;cursor:pointer}\n",""]);const o=i},2199:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".collections-overview{display:flex;flex-direction:column}\n",""]);const o=i},2364:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".custom-btn{min-width:165px;width:auto;height:50px;letter-spacing:0.5px;line-height:50px;padding:0 35px 0 35px;font-size:15px;background-color:black;color:white;text-transform:uppercase;font-family:'Open Sans Condensed';font-weight:bolder;border:none;display:flex;justify-content:center;cursor:pointer}.custom-btn:hover{background-color:white;color:black;border:1px solid black}.custom-btn.google-sign-in{background-color:#4285f4;color:#fff}.custom-btn.google-sign-in:hover{background-color:#357ae8;border:none}.custom-btn.inverted{background-color:#fff;color:#000;border:1px solid #000}.custom-btn.inverted:hover{background-color:#000;color:#fff;border:none}\n",""]);const o=i},1031:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".group{position:relative;margin:45px 0}.group .form-input{background:none;background-color:white;color:grey;font-size:18px;padding:10px 10px 10px 5px;display:block;width:100%;border:none;border-radius:0;border-bottom:1px solid grey;margin:25px 0}.group .form-input:focus{outline:none}.group .form-input:focus ~ .form-input-label{top:-14px;font-size:12px;color:#000}.group input[type='password']{letter-spacing:0.3em}.group .form-input-label{color:grey;font-size:16px;font-weight:normal;position:absolute;pointer-events:none;left:5px;top:10px;transition:300ms ease all}.group .form-input-label.shrink{top:-14px;font-size:12px;color:#000}\n",""]);const o=i},4732:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".menu{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between;background-size:cover;background-position:center}\n",""]);const o=i},3217:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".menu-lists{min-width:30%;height:30vh;flex:1 1 auto;display:flex;align-items:center;justify-content:center;border:1px solid black;margin:0 7.5px 15px;overflow:hidden}.menu-lists:hover{cursor:pointer}.menu-lists:hover .bg-img{transform:scale(1.1);transition:transform 6s cubic-bezier(0.25, 0.45, 0.45, 0.95)}.menu-lists:hover .contents{opacity:0.9}.menu-lists:first-child{margin-right:7.5px}.menu-lists:last-child{margin-left:7.5px}.menu-lists .bg-img{width:100%;height:100%;background-size:cover;background-position:center;transition:0.5s;-webkit-transition:0.5s;-moz-transition:0.5s;-ms-transition:0.5s;-o-transition:0.5s}.menu-lists .contents{position:absolute;background-color:white;opacity:0.7;height:90px;padding:0 25px;display:flex;flex-direction:column;align-items:center;justify-content:center;border:1px solid black;transition:0.5s;-webkit-transition:0.5s;-moz-transition:0.5s;-ms-transition:0.5s;-o-transition:0.5s}.menu-lists .contents .title{font-weight:bold;margin-bottom:6px;font-size:22px;color:#4a4a4a}.menu-lists .contents .sub{font-weight:lighter;font-size:16px}\n",""]);const o=i},2394:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".sign-in{width:400px;display:flex;flex-direction:column}.sign-in .btns{display:flex;justify-content:space-between}\n",""]);const o=i},1014:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".sign-up{display:flex;flex-direction:column;width:400px}\n",""]);const o=i},6711:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".collections-page{display:flex;flex-direction:column}.collections-page .title{font-size:38px;margin:0 auto 30px}.collections-page .items-container{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-gap:10px}.collections-page .items-container .collection-items{margin-bottom:30px}\n",""]);const o=i},336:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".checkout-page{width:55%;min-height:90vh;display:flex;flex-direction:column;align-items:center;margin:50px auto 0}.checkout-page .header-checkout{width:100%;padding:10px 0;display:flex;justify-content:space-between;border-bottom:1px solid darkgrey}.checkout-page .header-checkout .header-block{text-transform:capitalize;width:23%}.checkout-page .header-checkout .header-block:last-child{width:8%}.checkout-page .total-items{margin-top:30px;margin-left:auto;font-size:36px}.checkout-page button{margin-left:auto;margin-top:50px}.checkout-page .test-warning{color:red;text-align:center;margin-top:30px;font-size:20px}\n",""]);const o=i},3047:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".collection-items{width:22vw;display:flex;flex-direction:column;height:350px;align-items:center;position:relative}.collection-items .img{width:100%;height:95%;background-size:cover;background-position:center;margin-bottom:5px}.collection-items .custom-btn{width:80%;opacity:0.7;position:absolute;top:255px;display:none}.collection-items:hover .img{opacity:0.8}.collection-items:hover .custom-btn{opacity:0.85;display:block}.collection-items .collection-footer{width:100%;height:5%;display:flex;justify-content:space-between;font-size:18px}.collection-items .collection-footer .name{width:100%;margin-bottom:15px}.collection-items .collection-footer .price{width:50%}\n",""]);const o=i},4149:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,"header{height:70px;width:100%;display:flex;justify-content:space-between;margin-bottom:25px}header .logo-container{height:100%;width:70px}header .nav{width:50%;height:100%;display:flex;align-items:center;justify-content:flex-end}header .nav .nav-item{padding:10px 15px;color:#141414;font-size:20px}\n",""]);const o=i},9010:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".homepage{display:flex;flex-direction:column;align-items:center;padding:20px 80px}\n",""]);const o=i},4971:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".prev-collections{display:flex;flex-direction:column;margin-bottom:50px}.prev-collections .title{font-size:28px;margin-bottom:25px}.prev-collections .prev{display:flex;justify-content:space-between}\n",""]);const o=i},9499:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".sign-in-sign-up{display:flex;width:60vw;justify-content:space-between;margin:30px auto}\n",""]);const o=i},9847:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,"*{\r\n    padding: 0;\r\n    margin: 0;\r\n    box-sizing: border-box;\r\n}\r\n\r\n\r\nbody{\r\n    font-family: 'Open Sans Condensed', sans-serif;\r\n    padding: 20px 60px;\r\n}\r\n\r\na{\r\n    text-decoration: none;\r\n}",""]);const o=i},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<e.length;a++){var u=[].concat(e[a]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},8679:(e,t,n)=>{"use strict";var r=n(9864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function u(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=l(n);h&&(s=s.concat(h(n)));for(var a=u(t),m=u(n),g=0;g<s.length;++g){var y=s[g];if(!(o[y]||r&&r[y]||m&&m[y]||a&&a[y])){var v=d(n,y);try{c(t,y,v)}catch(e){}}}}return t}},7418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var s,a,u=i(e),c=1;c<arguments.length;c++){for(var l in s=Object(arguments[c]))n.call(s,l)&&(u[l]=s[l]);if(t){a=t(s);for(var h=0;h<a.length;h++)r.call(s,a[h])&&(u[a[h]]=s[a[h]])}}return u}},2703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4448:(e,t,n)=>{"use strict";var r=n(7294),i=n(7418),o=n(3840);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var a=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(d.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,w);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,S=60106,I=60107,k=60108,T=60114,x=60109,N=60110,C=60112,A=60113,O=60120,P=60115,D=60116,R=60121,L=60128,M=60129,F=60130,U=60131;if("function"==typeof Symbol&&Symbol.for){var j=Symbol.for;E=j("react.element"),S=j("react.portal"),I=j("react.fragment"),k=j("react.strict_mode"),T=j("react.profiler"),x=j("react.provider"),N=j("react.context"),C=j("react.forward_ref"),A=j("react.suspense"),O=j("react.suspense_list"),P=j("react.memo"),D=j("react.lazy"),R=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),F=j("react.offscreen"),U=j("react.legacy_hidden")}var V,z="function"==typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var $=!1;function K(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a])return"\n"+i[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function H(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return K(e.type,!1);case 11:return K(e.type.render,!1);case 22:return K(e.type._render,!1);case 1:return K(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case I:return"Fragment";case S:return"Portal";case T:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return W(e.type);case R:return W(e._render);case D:t=e._payload,e=e._init;try{return W(e(t))}catch(e){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function se(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ce(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ve).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(s(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,xe=null,Ne=null;function Ce(e){if(e=Xr(e)){if("function"!=typeof Te)throw Error(s(280));var t=e.stateNode;t&&(t=ti(t),Te(e.stateNode,e.type,t))}}function Ae(e){xe?Ne?Ne.push(e):Ne=[e]:xe=e}function Oe(){if(xe){var e=xe,t=Ne;if(Ne=xe=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Pe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Re(){}var Le=Pe,Me=!1,Fe=!1;function Ue(){null===xe&&null===Ne||(Re(),Oe())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ti(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var Ve=!1;if(h)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){Ve=!1}function Be(e,t,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var qe=!1,$e=null,Ke=!1,He=null,We={onError:function(e){qe=!0,$e=e}};function Ge(e,t,n,r,i,o,s,a,u){qe=!1,$e=null,Be.apply(We,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Je(e){if(Qe(e)!==e)throw Error(s(188))}function Ze(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Xe(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],st=null,at=null,ut=null,ct=new Map,lt=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ft(t,n,r,i,o),null!==t&&null!==(t=Xr(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=Zr(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Xr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function vt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=Xr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==at&&yt(at)&&(at=null),null!==ut&&yt(ut)&&(ut=null),ct.forEach(vt),lt.forEach(vt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wt)))}function _t(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&bt(st,e),null!==at&&bt(at,e),null!==ut&&bt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},It={},kt={};function Tt(e){if(It[e])return It[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return It[e]=n[t];return e}h&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var xt=Tt("animationend"),Nt=Tt("animationiteration"),Ct=Tt("animationstart"),At=Tt("transitionend"),Ot=new Map,Pt=new Map,Dt=["abort","abort",xt,"animationEnd",Nt,"animationIteration",Ct,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Ot.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!=(o=134217727&n)){var u=o&~s;0!==u?(r=Mt(u),i=Lt):0!=(a&=o)&&(r=Mt(a),i=Lt)}else 0!=(o=n&~s)?(r=Mt(o),i=Lt):0!==a&&(r=Mt(a),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-qt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&s)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-qt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?jt(10,t):e;case 10:return 0===(e=Vt(192&~t))?jt(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&0===(e=Vt(4186112&~t))&&(e=512),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function Vt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-qt(t)]=n}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-($t(e)/Kt|0)|0},$t=Math.log,Kt=Math.LN2,Ht=o.unstable_UserBlockingPriority,Wt=o.unstable_runWithPriority,Gt=!0;function Qt(e,t,n,r){Me||Re();var i=Jt,o=Me;Me=!0;try{De(i,e,t,n,r)}finally{(Me=o)||Ue()}}function Yt(e,t,n,r){Wt(Ht,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Gt)if((i=0==(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=ft(null,e,t,n,r),ot.push(e);else{var o=Zt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=ft(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return at=mt(at,e,t,n,r,i),!0;case"mouseover":return ut=mt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lt.set(o,mt(lt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Or(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=ke(r);if(null!==(i=Zr(i))){var o=Qe(i);if(null===o)i=null;else{var s=o.tag;if(13===s){if(null!==(i=Ye(o)))return i;i=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Or(e,t,r,i,n),null}var Xt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function an(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,ln,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(hn),fn=i({},hn,{view:0,detail:0}),pn=an(fn),mn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=an(mn),yn=an(i({},mn,{dataTransfer:0})),vn=an(i({},fn,{relatedTarget:0})),wn=an(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=an(i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),_n=an(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Tn(){return kn}var xn=an(i({},fn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Nn=an(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=an(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=an(i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Pn=[9,13,27,32],Dn=h&&"CompositionEvent"in window,Rn=null;h&&"documentMode"in document&&(Rn=document.documentMode);var Ln=h&&"TextEvent"in window&&!Rn,Mn=h&&(!Dn||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1,Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function $n(e,t,n,r){Ae(r),0<(t=Dr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Hn=null;function Wn(e){kr(e,0)}function Gn(e){if(J(ei(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(h){var Jn;if(h){var Zn="oninput"in document;if(!Zn){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),Zn="function"==typeof Xn.oninput}Jn=Zn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function er(){Kn&&(Kn.detachEvent("onpropertychange",tr),Hn=Kn=null)}function tr(e){if("value"===e.propertyName&&Gn(Hn)){var t=[];if($n(t,Hn,e,ke(e)),e=Wn,Me)e(t);else{Me=!0;try{Pe(e,t)}finally{Me=!1,Ue()}}}}function nr(e,t,n){"focusin"===e?(er(),Hn=n,(Kn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Hn)}function ir(e,t){if("click"===e)return Gn(t)}function or(e,t){if("input"===e||"change"===e)return Gn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ar=Object.prototype.hasOwnProperty;function ur(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ar.call(t,n[r])||!sr(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=h&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,vr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==mr||mr!==Z(r)||(r="selectionStart"in(r=mr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Dr(gr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(Dt,2);for(var br="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<br.length;_r++)Pt.set(br[_r],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,u,c){if(Ge.apply(this,arguments),qe){if(!qe)throw Error(s(198));var l=$e;qe=!1,$e=null,Ke||(Ke=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function kr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;Ir(i,a,c),o=u}else for(s=0;s<r.length;s++){if(u=(a=r[s]).instance,c=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;Ir(i,a,c),o=u}}}if(Ke)throw e=He,Ke=!1,He=null,e}function Tr(e,t){var n=ni(t),r=e+"__bubble";n.has(r)||(Ar(t,e,2,!1),n.add(r))}var xr="_reactListening"+Math.random().toString(36).slice(2);function Nr(e){e[xr]||(e[xr]=!0,a.forEach((function(t){Sr.has(t)||Cr(t,!1,e,null),Cr(t,!0,e,null)})))}function Cr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,o=r}var s=ni(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(i|=4),Ar(o,e,i,t),s.add(a))}function Ar(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=Yt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Or(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&((u=s.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=Zr(a)))return;if(5===(u=s.tag)||6===u){r=o=s;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e();Fe=!0;try{Le(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=o,i=ke(n),s=[];e:{var a=Ot.get(e);if(void 0!==a){var u=dn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=xn;break;case"focusin":c="focus",u=vn;break;case"focusout":c="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case xt:case Nt:case Ct:u=wn;break;case At:u=An;break;case"scroll":u=pn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!=(4&t),h=!l&&"scroll"===e,d=l?null!==a?a+"Capture":null:a;l=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&null!=(m=je(p,d))&&l.push(Pr(p,m,f))),h)break;p=p.return}0<l.length&&(a=new u(a,c,null,n,i),s.push({event:a,listeners:l}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!Zr(c)&&!c[Yr])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Zr(c):null)&&(c!==(h=Qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==u?a:ei(u),f=null==c?a:ei(c),(a=new l(m,p+"leave",u,n,i)).target=h,a.relatedTarget=f,m=null,Zr(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=f,l.relatedTarget=h,m=l),h=m,u&&c)e:{for(d=c,p=0,f=l=u;f;f=Rr(f))p++;for(f=0,m=d;m;m=Rr(m))f++;for(;0<p-f;)l=Rr(l),p--;for(;0<f-p;)d=Rr(d),f--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Rr(l),d=Rr(d)}l=null}else l=null;null!==u&&Lr(s,a,u,l,!1),null!==c&&null!==h&&Lr(s,h,c,l,!0)}if("select"===(u=(a=r?ei(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var g=Qn;else if(qn(a))if(Yn)g=or;else{g=rr;var y=nr}else(u=a.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ir);switch(g&&(g=g(e,r))?$n(s,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ie(a,"number",a.value)),y=r?ei(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,wr(s,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":wr(s,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?jn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(v=nn()):(en="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Dr(r,w)).length&&(w=new _n(w,e,null,n,i),s.push({event:w,listeners:y}),(v||null!==(v=Vn(n)))&&(w.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&jn(e,t)?(e=nn(),tn=en=Xt=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&0<(r=Dr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v)}kr(s,t)}))}function Pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=je(e,n))&&r.unshift(Pr(e,o,i)),null!=(o=je(e,t))&&r.push(Pr(e,o,i))),e=e.return}return r}function Rr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(null!==u&&u===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(u=je(n,o))&&s.unshift(Pr(n,u,a)):i||null!=(u=je(n,o))&&s.push(Pr(n,u,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function Mr(){}var Fr=null,Ur=null;function jr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var zr="function"==typeof setTimeout?setTimeout:void 0,Br="function"==typeof clearTimeout?clearTimeout:void 0;function qr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function $r(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Hr=0,Wr=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Wr,Qr="__reactProps$"+Wr,Yr="__reactContainer$"+Wr,Jr="__reactEvents$"+Wr;function Zr(e){var t=e[Gr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yr]||n[Gr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[Gr])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function Xr(e){return!(e=e[Gr]||e[Yr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ti(e){return e[Qr]||null}function ni(e){var t=e[Jr];return void 0===t&&(t=e[Jr]=new Set),t}var ri=[],ii=-1;function oi(e){return{current:e}}function si(e){0>ii||(e.current=ri[ii],ri[ii]=null,ii--)}function ai(e,t){ii++,ri[ii]=e.current,e.current=t}var ui={},ci=oi(ui),li=oi(!1),hi=ui;function di(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function fi(e){return null!=e.childContextTypes}function pi(){si(li),si(ci)}function mi(e,t,n){if(ci.current!==ui)throw Error(s(168));ai(ci,t),ai(li,n)}function gi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,W(t)||"Unknown",o));return i({},n,r)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,hi=ci.current,ai(ci,e),ai(li,li.current),!0}function vi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=gi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,si(li),si(ci),ai(ci,e)):si(li),ai(li,n)}var wi=null,bi=null,_i=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,Ii=o.unstable_shouldYield,ki=o.unstable_requestPaint,Ti=o.unstable_now,xi=o.unstable_getCurrentPriorityLevel,Ni=o.unstable_ImmediatePriority,Ci=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Oi=o.unstable_LowPriority,Pi=o.unstable_IdlePriority,Di={},Ri=void 0!==ki?ki:function(){},Li=null,Mi=null,Fi=!1,Ui=Ti(),ji=1e4>Ui?Ti:function(){return Ti()-Ui};function Vi(){switch(xi()){case Ni:return 99;case Ci:return 98;case Ai:return 97;case Oi:return 96;case Pi:return 95;default:throw Error(s(332))}}function zi(e){switch(e){case 99:return Ni;case 98:return Ci;case 97:return Ai;case 96:return Oi;case 95:return Pi;default:throw Error(s(332))}}function Bi(e,t){return e=zi(e),_i(e,t)}function qi(e,t,n){return e=zi(e),Ei(e,t,n)}function $i(){if(null!==Mi){var e=Mi;Mi=null,Si(e)}Ki()}function Ki(){if(!Fi&&null!==Li){Fi=!0;var e=0;try{var t=Li;Bi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),Ei(Ni,$i),t}finally{Fi=!1}}}var Hi=_.ReactCurrentBatchConfig;function Wi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Gi=oi(null),Qi=null,Yi=null,Ji=null;function Zi(){Ji=Yi=Qi=null}function Xi(e){var t=Gi.current;si(Gi),e.type._context._currentValue=t}function eo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function to(e,t){Qi=e,Ji=Yi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ds=!0),e.firstContext=null)}function no(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Yi){if(null===Qi)throw Error(s(308));Yi=t,Qi.dependencies={lanes:0,firstContext:t,responders:null}}else Yi=Yi.next=t;return e._currentValue}var ro=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function so(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ao(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function co(e,t,n,r){var o=e.updateQueue;ro=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===a?s=l:a.next=l,a=c;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==a&&(null===d?h.firstBaseUpdate=l:d.next=l,h.lastBaseUpdate=c)}}if(null!==s){for(d=o.baseState,a=0,h=l=c=null;;){u=s.lane;var f=s.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(u=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,u);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(u="function"==typeof(p=m.payload)?p.call(f,d,u):p))break e;d=i({},d,u);break e;case 2:ro=!0}}null!==s.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[s]:u.push(s))}else f={eventTime:f,lane:u,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===h?(l=h=f,c=d):h=h.next=f,a|=u;if(null===(s=s.next)){if(null===(u=o.shared.pending))break;s=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(c=d),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=h,La|=a,e.lanes=a,e.memoizedState=d}}function lo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(s(191,i));i.call(r)}}}var ho=(new r.Component).refs;function fo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=su(),i=au(e),o=so(r,i);o.payload=t,null!=n&&(o.callback=n),ao(e,o),uu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=su(),i=au(e),o=so(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),ao(e,o),uu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=su(),r=au(e),i=so(n,r);i.tag=2,null!=t&&(i.callback=t),ao(e,i),uu(e,r,n)}};function mo(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&ur(n,r)&&ur(i,o))}function go(e,t,n){var r=!1,i=ui,o=t.contextType;return"object"==typeof o&&null!==o?o=no(o):(i=fi(t)?hi:ci.current,o=(r=null!=(r=t.contextTypes))?di(e,i):ui),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function yo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function vo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ho,io(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=no(o):(o=fi(t)?hi:ci.current,i.context=di(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(fo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&po.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var wo=Array.isArray;function bo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ho&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function _o(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Eo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Vu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=bo(e,t,n),r.return=e,r):((r=zu(n.type,n.key,n.props,null,e.mode,r)).ref=bo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ku(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Bu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=$u(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=zu(t.type,t.key,t.props,null,e.mode,n)).ref=bo(e,null,t),n.return=e,n;case S:return(t=Ku(t,e.mode,n)).return=e,t}if(wo(t)||B(t))return(t=Bu(t,e.mode,n,null)).return=e,t;_o(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===I?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null}if(wo(n)||B(n))return null!==i?null:h(e,t,n,r,null);_o(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===I?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wo(r)||B(r))return h(t,e=e.get(n)||null,r,i,null);_o(t,r)}return null}function m(i,s,a,u){for(var c=null,l=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],u);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,m),null===l?c=y:l.sibling=y,l=y,h=g}if(m===a.length)return n(i,h),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],u))&&(s=o(h,s,m),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===l?c=g:l.sibling=g,l=g);return e&&h.forEach((function(e){return t(i,e)})),c}function g(i,a,u,c){var l=B(u);if("function"!=typeof l)throw Error(s(150));if(null==(u=l.call(u)))throw Error(s(151));for(var h=l=null,m=a,g=a=0,y=null,v=u.next();null!==m&&!v.done;g++,v=u.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,c);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?l=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),l;if(null===m){for(;!v.done;g++,v=u.next())null!==(v=d(i,v.value,c))&&(a=o(v,a,g),null===h?l=v:h.sibling=v,h=v);return l}for(m=r(i,m);!v.done;g++,v=u.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?l=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"==typeof o&&null!==o&&o.type===I&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case E:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===I){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=bo(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===I?((r=Bu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=zu(o.type,o.key,o.props,null,e.mode,u)).ref=bo(e,r,o),u.return=e,e=u)}return a(e);case S:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ku(o,e.mode,u)).return=e,e=r}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=$u(o,e.mode,u)).return=e,e=r),a(e);if(wo(o))return m(e,r,o,u);if(B(o))return g(e,r,o,u);if(l&&_o(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,W(e.type)||"Component"))}return n(e,r)}}var So=Eo(!0),Io=Eo(!1),ko={},To=oi(ko),xo=oi(ko),No=oi(ko);function Co(e){if(e===ko)throw Error(s(174));return e}function Ao(e,t){switch(ai(No,t),ai(xo,e),ai(To,ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}si(To),ai(To,t)}function Oo(){si(To),si(xo),si(No)}function Po(e){Co(No.current);var t=Co(To.current),n=fe(t,e.type);t!==n&&(ai(xo,e),ai(To,n))}function Do(e){xo.current===e&&(si(To),si(xo))}var Ro=oi(0);function Lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mo=null,Fo=null,Uo=!1;function jo(e,t){var n=Uu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Vo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function zo(e){if(Uo){var t=Fo;if(t){var n=t;if(!Vo(e,t)){if(!(t=$r(n.nextSibling))||!Vo(e,t))return e.flags=-1025&e.flags|2,Uo=!1,void(Mo=e);jo(Mo,n)}Mo=e,Fo=$r(t.firstChild)}else e.flags=-1025&e.flags|2,Uo=!1,Mo=e}}function Bo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Mo=e}function qo(e){if(e!==Mo)return!1;if(!Uo)return Bo(e),Uo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Vr(t,e.memoizedProps))for(t=Fo;t;)jo(e,t),t=$r(t.nextSibling);if(Bo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Fo=$r(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Fo=null}}else Fo=Mo?$r(e.stateNode.nextSibling):null;return!0}function $o(){Fo=Mo=null,Uo=!1}var Ko=[];function Ho(){for(var e=0;e<Ko.length;e++)Ko[e]._workInProgressVersionPrimary=null;Ko.length=0}var Wo=_.ReactCurrentDispatcher,Go=_.ReactCurrentBatchConfig,Qo=0,Yo=null,Jo=null,Zo=null,Xo=!1,es=!1;function ts(){throw Error(s(321))}function ns(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function rs(e,t,n,r,i,o){if(Qo=o,Yo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wo.current=null===e||null===e.memoizedState?Cs:As,e=n(r,i),es){o=0;do{if(es=!1,!(25>o))throw Error(s(301));o+=1,Zo=Jo=null,t.updateQueue=null,Wo.current=Os,e=n(r,i)}while(es)}if(Wo.current=Ns,t=null!==Jo&&null!==Jo.next,Qo=0,Zo=Jo=Yo=null,Xo=!1,t)throw Error(s(300));return e}function is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zo?Yo.memoizedState=Zo=e:Zo=Zo.next=e,Zo}function os(){if(null===Jo){var e=Yo.alternate;e=null!==e?e.memoizedState:null}else e=Jo.next;var t=null===Zo?Yo.memoizedState:Zo.next;if(null!==t)Zo=t,Jo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(Jo=e).memoizedState,baseState:Jo.baseState,baseQueue:Jo.baseQueue,queue:Jo.queue,next:null},null===Zo?Yo.memoizedState=Zo=e:Zo=Zo.next=e}return Zo}function ss(e,t){return"function"==typeof t?t(e):t}function as(e){var t=os(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=Jo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=a=o=null,c=i;do{var l=c.lane;if((Qo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(a=u=h,o=r):u=u.next=h,Yo.lanes|=l,La|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=a,sr(r,t.memoizedState)||(Ds=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function us(e){var t=os(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);sr(o,t.memoizedState)||(Ds=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function cs(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Qo&e)===e)&&(t._workInProgressVersionPrimary=r,Ko.push(t))),e)return n(t._source);throw Ko.push(t),Error(s(350))}function ls(e,t,n,r){var i=xa;if(null===i)throw Error(s(349));var o=t._getVersion,a=o(t._source),u=Wo.current,c=u.useState((function(){return cs(i,t,n)})),l=c[1],h=c[0];c=Zo;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,m=d.source;d=d.subscribe;var g=Yo;return e.memoizedState={refs:f,source:t,subscribe:r},u.useEffect((function(){f.getSnapshot=n,f.setSnapshot=l;var e=o(t._source);if(!sr(a,e)){e=n(t._source),sr(h,e)||(l(e),e=au(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var u=31-qt(s),c=1<<u;r[u]|=e,s&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=au(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),sr(p,n)&&sr(m,t)&&sr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ss,lastRenderedState:h}).dispatch=l=xs.bind(null,Yo,e),c.queue=e,c.baseQueue=null,h=cs(i,t,n),c.memoizedState=c.baseState=h),h}function hs(e,t,n){return ls(os(),e,t,n)}function ds(e){var t=is();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e}).dispatch=xs.bind(null,Yo,e),[t.memoizedState,e]}function fs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Yo.updateQueue)?(t={lastEffect:null},Yo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ps(e){return e={current:e},is().memoizedState=e}function ms(){return os().memoizedState}function gs(e,t,n,r){var i=is();Yo.flags|=e,i.memoizedState=fs(1|t,n,void 0,void 0===r?null:r)}function ys(e,t,n,r){var i=os();r=void 0===r?null:r;var o=void 0;if(null!==Jo){var s=Jo.memoizedState;if(o=s.destroy,null!==r&&ns(r,s.deps))return void fs(t,n,o,r)}Yo.flags|=e,i.memoizedState=fs(1|t,n,o,r)}function vs(e,t){return gs(516,4,e,t)}function ws(e,t){return ys(516,4,e,t)}function bs(e,t){return ys(4,2,e,t)}function _s(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Es(e,t,n){return n=null!=n?n.concat([e]):null,ys(4,2,_s.bind(null,t,e),n)}function Ss(){}function Is(e,t){var n=os();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ns(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ks(e,t){var n=os();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ns(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ts(e,t){var n=Vi();Bi(98>n?98:n,(function(){e(!0)})),Bi(97<n?97:n,(function(){var n=Go.transition;Go.transition=1;try{e(!1),t()}finally{Go.transition=n}}))}function xs(e,t,n){var r=su(),i=au(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===Yo||null!==s&&s===Yo)es=Xo=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,u=s(a,n);if(o.eagerReducer=s,o.eagerState=u,sr(u,a))return}catch(e){}uu(e,i,r)}}var Ns={readContext:no,useCallback:ts,useContext:ts,useEffect:ts,useImperativeHandle:ts,useLayoutEffect:ts,useMemo:ts,useReducer:ts,useRef:ts,useState:ts,useDebugValue:ts,useDeferredValue:ts,useTransition:ts,useMutableSource:ts,useOpaqueIdentifier:ts,unstable_isNewReconciler:!1},Cs={readContext:no,useCallback:function(e,t){return is().memoizedState=[e,void 0===t?null:t],e},useContext:no,useEffect:vs,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,gs(4,2,_s.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gs(4,2,e,t)},useMemo:function(e,t){var n=is();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=is();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=xs.bind(null,Yo,e),[r.memoizedState,e]},useRef:ps,useState:ds,useDebugValue:Ss,useDeferredValue:function(e){var t=ds(e),n=t[0],r=t[1];return vs((function(){var t=Go.transition;Go.transition=1;try{r(e)}finally{Go.transition=t}}),[e]),n},useTransition:function(){var e=ds(!1),t=e[0];return ps(e=Ts.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=is();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ls(r,e,t,n)},useOpaqueIdentifier:function(){if(Uo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Hr++).toString(36))),Error(s(355))})),n=ds(t)[1];return 0==(2&Yo.mode)&&(Yo.flags|=516,fs(5,(function(){n("r:"+(Hr++).toString(36))}),void 0,null)),t}return ds(t="r:"+(Hr++).toString(36)),t},unstable_isNewReconciler:!1},As={readContext:no,useCallback:Is,useContext:no,useEffect:ws,useImperativeHandle:Es,useLayoutEffect:bs,useMemo:ks,useReducer:as,useRef:ms,useState:function(){return as(ss)},useDebugValue:Ss,useDeferredValue:function(e){var t=as(ss),n=t[0],r=t[1];return ws((function(){var t=Go.transition;Go.transition=1;try{r(e)}finally{Go.transition=t}}),[e]),n},useTransition:function(){var e=as(ss)[0];return[ms().current,e]},useMutableSource:hs,useOpaqueIdentifier:function(){return as(ss)[0]},unstable_isNewReconciler:!1},Os={readContext:no,useCallback:Is,useContext:no,useEffect:ws,useImperativeHandle:Es,useLayoutEffect:bs,useMemo:ks,useReducer:us,useRef:ms,useState:function(){return us(ss)},useDebugValue:Ss,useDeferredValue:function(e){var t=us(ss),n=t[0],r=t[1];return ws((function(){var t=Go.transition;Go.transition=1;try{r(e)}finally{Go.transition=t}}),[e]),n},useTransition:function(){var e=us(ss)[0];return[ms().current,e]},useMutableSource:hs,useOpaqueIdentifier:function(){return us(ss)[0]},unstable_isNewReconciler:!1},Ps=_.ReactCurrentOwner,Ds=!1;function Rs(e,t,n,r){t.child=null===e?Io(t,null,n,r):So(t,e.child,n,r)}function Ls(e,t,n,r,i){n=n.render;var o=t.ref;return to(t,i),r=rs(e,t,n,r,o,i),null===e||Ds?(t.flags|=1,Rs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Xs(e,t,i))}function Ms(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!=typeof s||ju(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Fs(e,t,s,r,i,o))}return s=e.child,0==(i&o)&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)?Xs(e,t,o):(t.flags|=1,(e=Vu(s,r)).ref=t.ref,e.return=t,t.child=e)}function Fs(e,t,n,r,i,o){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(Ds=!1,0==(o&i))return t.lanes=e.lanes,Xs(e,t,o);0!=(16384&e.flags)&&(Ds=!0)}return Vs(e,t,n,r,o)}function Us(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},gu(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},gu(0,e),null;t.memoizedState={baseLanes:0},gu(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,gu(0,r);return Rs(e,t,i,n),t.child}function js(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Vs(e,t,n,r,i){var o=fi(n)?hi:ci.current;return o=di(t,o),to(t,i),n=rs(e,t,n,r,o,i),null===e||Ds?(t.flags|=1,Rs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Xs(e,t,i))}function zs(e,t,n,r,i){if(fi(n)){var o=!0;yi(t)}else o=!1;if(to(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),go(t,n,r),vo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,c=n.contextType;c="object"==typeof c&&null!==c?no(c):di(t,c=fi(n)?hi:ci.current);var l=n.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||u!==c)&&yo(t,s,r,c),ro=!1;var d=t.memoizedState;s.state=d,co(t,r,s,i),u=t.memoizedState,a!==r||d!==u||li.current||ro?("function"==typeof l&&(fo(t,n,l,r),u=t.memoizedState),(a=ro||mo(t,n,a,r,d,u,c))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4)):("function"==typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4),r=!1)}else{s=t.stateNode,oo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Wi(t.type,a),s.props=c,h=t.pendingProps,d=s.context,u="object"==typeof(u=n.contextType)&&null!==u?no(u):di(t,u=fi(n)?hi:ci.current);var f=n.getDerivedStateFromProps;(l="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==h||d!==u)&&yo(t,s,r,u),ro=!1,d=t.memoizedState,s.state=d,co(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||li.current||ro?("function"==typeof f&&(fo(t,n,f,r),p=t.memoizedState),(c=ro||mo(t,n,c,r,d,p,u))?(l||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,u),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=u,r=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Bs(e,t,n,r,o,i)}function Bs(e,t,n,r,i,o){js(e,t);var s=0!=(64&t.flags);if(!r&&!s)return i&&vi(t,n,!1),Xs(e,t,o);r=t.stateNode,Ps.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=So(t,e.child,null,o),t.child=So(t,null,a,o)):Rs(e,t,a,o),t.memoizedState=r.state,i&&vi(t,n,!0),t.child}function qs(e){var t=e.stateNode;t.pendingContext?mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mi(0,t.context,!1),Ao(e,t.containerInfo)}var $s,Ks,Hs,Ws={dehydrated:null,retryLane:0};function Gs(e,t,n){var r,i=t.pendingProps,o=Ro.current,s=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ai(Ro,1&o),null===e?(void 0!==i.fallback&&zo(t),e=i.children,o=i.fallback,s?(e=Qs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ws,e):"number"==typeof i.unstable_expectedLoadTime?(e=Qs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ws,t.lanes=33554432,e):((n=qu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(i=function(e,t,n,r,i){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return 0==(2&o)&&t.child!==s?((n=t.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Vu(s,a),null!==e?r=Vu(e,r):(r=Bu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Ws,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=Vu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Qs(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=qu(t,i,0,null),n=Bu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ys(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),eo(e.return,t)}function Js(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function Zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Rs(e,t,r.children,n),0!=(2&(r=Ro.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ys(e,n);else if(19===e.tag)Ys(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ai(Ro,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Js(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Js(t,!0,n,null,o,t.lastEffect);break;case"together":Js(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Xs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),La|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Vu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ea(e,t){if(!Uo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ta(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return fi(t.type)&&pi(),null;case 3:return Oo(),si(li),si(ci),Ho(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(qo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Do(t);var o=Co(No.current);if(n=t.type,null!==e&&null!=t.stateNode)Ks(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Co(To.current),qo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Gr]=t,r[Qr]=a,n){case"dialog":Tr("cancel",r),Tr("close",r);break;case"iframe":case"object":case"embed":Tr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Tr(Er[e],r);break;case"source":Tr("error",r);break;case"img":case"image":case"link":Tr("error",r),Tr("load",r);break;case"details":Tr("toggle",r);break;case"input":ee(r,a),Tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Tr("invalid",r);break;case"textarea":ue(r,a),Tr("invalid",r)}for(var c in Se(n,a),e=null,a)a.hasOwnProperty(c)&&(o=a[c],"children"===c?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Tr("scroll",r));switch(n){case"input":Y(r),re(r,a,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Mr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===he&&(e=de(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Gr]=t,e[Qr]=r,$s(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Tr("cancel",e),Tr("close",e),o=r;break;case"iframe":case"object":case"embed":Tr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Er.length;o++)Tr(Er[o],e);o=r;break;case"source":Tr("error",e),o=r;break;case"img":case"image":case"link":Tr("error",e),Tr("load",e),o=r;break;case"details":Tr("toggle",e),o=r;break;case"input":ee(e,r),o=X(e,r),Tr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Tr("invalid",e);break;case"textarea":ue(e,r),o=ae(e,r),Tr("invalid",e);break;default:o=r}Se(n,o);var l=o;for(a in l)if(l.hasOwnProperty(a)){var h=l[a];"style"===a?_e(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===a?"string"==typeof h?("textarea"!==n||""!==h)&&ye(e,h):"number"==typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(u.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Tr("scroll",e):null!=h&&b(e,a,h,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?se(e,!!r.multiple,a,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Mr)}jr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Hs(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));n=Co(No.current),Co(To.current),qo(t)?(r=t.stateNode,n=t.memoizedProps,r[Gr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Gr]=t,t.stateNode=r)}return null;case 13:return si(Ro),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&qo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ro.current)?0===Pa&&(Pa=3):(0!==Pa&&3!==Pa||(Pa=4),null===xa||0==(134217727&La)&&0==(134217727&Ma)||du(xa,Ca))),(r||n)&&(t.flags|=4),null);case 4:return Oo(),null===e&&Nr(t.stateNode.containerInfo),null;case 10:return Xi(t),null;case 17:return fi(t.type)&&pi(),null;case 19:if(si(Ro),null===(r=t.memoizedState))return null;if(a=0!=(64&t.flags),null===(c=r.rendering))if(a)ea(r,!1);else{if(0!==Pa||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Lo(e))){for(t.flags|=64,ea(r,!1),null!==(a=c.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ai(Ro,1&Ro.current|2),t.child}e=e.sibling}null!==r.tail&&ji()>Va&&(t.flags|=64,a=!0,ea(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Lo(c))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ea(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Uo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*ji()-r.renderingStartTime>Va&&1073741824!==n&&(t.flags|=64,a=!0,ea(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=ji(),n.sibling=null,t=Ro.current,ai(Ro,a?1&t|2:1&t),n):null;case 23:case 24:return yu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function na(e){switch(e.tag){case 1:fi(e.type)&&pi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Oo(),si(li),si(ci),Ho(),0!=(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Do(e),null;case 13:return si(Ro),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return si(Ro),null;case 4:return Oo(),null;case 10:return Xi(e),null;case 23:case 24:return yu(),null;default:return null}}function ra(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ia(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}$s=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ks=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Co(To.current);var s,a=null;switch(n){case"input":o=X(e,o),r=X(e,r),a=[];break;case"option":o=oe(e,o),r=oe(e,r),a=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":o=ae(e,o),r=ae(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Mr)}for(h in Se(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(a=a||[]).push(h,l)):"children"===h?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Tr("scroll",e),a||c===l||(a=[])):"object"==typeof l&&null!==l&&l.$$typeof===L?l.toString():(a=a||[]).push(h,l))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},Hs=function(e,t,n,r){n!==r&&(t.flags|=4)};var oa="function"==typeof WeakMap?WeakMap:Map;function sa(e,t,n){(n=so(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$a||($a=!0,Ka=r),ia(0,t)},n}function aa(e,t,n){(n=so(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ia(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ha?Ha=new Set([this]):Ha.add(this),ia(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ua="function"==typeof WeakSet?WeakSet:Set;function ca(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ru(e,t)}else t.current=null}function la(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Wi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&qr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(s(163))}function ha(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Ou(n,e),Au(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Wi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&lo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}lo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&jr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(s(163))}function da(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function fa(e,t){if(bi&&"function"==typeof bi.onCommitFiberUnmount)try{bi.onCommitFiberUnmount(wi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Ou(t,n);else{r=t;try{i()}catch(e){Ru(r,e)}}n=n.next}while(n!==e)}break;case 1:if(ca(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ru(t,e)}break;case 5:ca(t);break;case 4:wa(e,t)}}function pa(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ma(e){return 5===e.tag||3===e.tag||4===e.tag}function ga(e){e:{for(var t=e.return;null!==t;){if(ma(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ma(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ya(e,n,t):va(e,n,t)}function ya(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Mr));else if(4!==r&&null!==(e=e.child))for(ya(e,t,n),e=e.sibling;null!==e;)ya(e,t,n),e=e.sibling}function va(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(va(e,t,n),e=e.sibling;null!==e;)va(e,t,n),e=e.sibling}function wa(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,u=i,c=u;;)if(fa(a,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(a=n,u=i.stateNode,8===a.nodeType?a.parentNode.removeChild(u):a.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(fa(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ba(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Qr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<o.length;i+=2){var a=o[i],u=o[i+1];"style"===a?_e(n,u):"dangerouslySetInnerHTML"===a?ge(n,u):"children"===a?ye(n,u):b(n,a,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?se(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?se(n,!!r.multiple,r.defaultValue,!0):se(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(ja=ji(),da(t.child,!0)),void _a(t);case 19:return void _a(t);case 17:return;case 23:case 24:return void da(t,null!==t.memoizedState)}throw Error(s(163))}function _a(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ua),t.forEach((function(t){var r=Mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ea(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Sa=Math.ceil,Ia=_.ReactCurrentDispatcher,ka=_.ReactCurrentOwner,Ta=0,xa=null,Na=null,Ca=0,Aa=0,Oa=oi(0),Pa=0,Da=null,Ra=0,La=0,Ma=0,Fa=0,Ua=null,ja=0,Va=1/0;function za(){Va=ji()+500}var Ba,qa=null,$a=!1,Ka=null,Ha=null,Wa=!1,Ga=null,Qa=90,Ya=[],Ja=[],Za=null,Xa=0,eu=null,tu=-1,nu=0,ru=0,iu=null,ou=!1;function su(){return 0!=(48&Ta)?ji():-1!==tu?tu:tu=ji()}function au(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Vi()?1:2;if(0===nu&&(nu=Ra),0!==Hi.transition){0!==ru&&(ru=null!==Ua?Ua.pendingLanes:0),e=nu;var t=4186112&~ru;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Vi(),e=jt(0!=(4&Ta)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),nu)}function uu(e,t,n){if(50<Xa)throw Xa=0,eu=null,Error(s(185));if(null===(e=cu(e,t)))return null;Bt(e,t,n),e===xa&&(Ma|=t,4===Pa&&du(e,Ca));var r=Vi();1===t?0!=(8&Ta)&&0==(48&Ta)?fu(e):(lu(e,n),0===Ta&&(za(),$i())):(0==(4&Ta)||98!==r&&99!==r||(null===Za?Za=new Set([e]):Za.add(e)),lu(e,n)),Ua=e}function cu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function lu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-qt(a),c=1<<u,l=o[u];if(-1===l){if(0==(c&r)||0!=(c&i)){l=t,Mt(c);var h=Lt;o[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);a&=~c}if(r=Ft(e,e===xa?Ca:0),t=Lt,0===r)null!==n&&(n!==Di&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Di&&Si(n)}15===t?(n=fu.bind(null,e),null===Li?(Li=[n],Mi=Ei(Ni,Ki)):Li.push(n),n=Di):n=14===t?qi(99,fu.bind(null,e)):qi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),hu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function hu(e){if(tu=-1,ru=nu=0,0!=(48&Ta))throw Error(s(327));var t=e.callbackNode;if(Cu()&&e.callbackNode!==t)return null;var n=Ft(e,e===xa?Ca:0);if(0===n)return null;var r=n,i=Ta;Ta|=16;var o=bu();for(xa===e&&Ca===r||(za(),vu(e,r));;)try{Su();break}catch(t){wu(e,t)}if(Zi(),Ia.current=o,Ta=i,null!==Na?r=0:(xa=null,Ca=0,r=Pa),0!=(Ra&Ma))vu(e,0);else if(0!==r){if(2===r&&(Ta|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(n=Ut(e))&&(r=_u(e,n))),1===r)throw t=Da,vu(e,0),du(e,n),lu(e,ji()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:Tu(e);break;case 3:if(du(e,n),(62914560&n)===n&&10<(r=ja+500-ji())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){su(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zr(Tu.bind(null,e),r);break}Tu(e);break;case 4:if(du(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-qt(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=ji()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sa(n/1960))-n)){e.timeoutHandle=zr(Tu.bind(null,e),n);break}Tu(e);break;case 5:Tu(e);break;default:throw Error(s(329))}}return lu(e,ji()),e.callbackNode===t?hu.bind(null,e):null}function du(e,t){for(t&=~Fa,t&=~Ma,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function fu(e){if(0!=(48&Ta))throw Error(s(327));if(Cu(),e===xa&&0!=(e.expiredLanes&Ca)){var t=Ca,n=_u(e,t);0!=(Ra&Ma)&&(n=_u(e,t=Ft(e,t)))}else n=_u(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ta|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(t=Ut(e))&&(n=_u(e,t))),1===n)throw n=Da,vu(e,0),du(e,t),lu(e,ji()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tu(e),lu(e,ji()),null}function pu(e,t){var n=Ta;Ta|=1;try{return e(t)}finally{0===(Ta=n)&&(za(),$i())}}function mu(e,t){var n=Ta;Ta&=-2,Ta|=8;try{return e(t)}finally{0===(Ta=n)&&(za(),$i())}}function gu(e,t){ai(Oa,Aa),Aa|=t,Ra|=t}function yu(){Aa=Oa.current,si(Oa)}function vu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Br(n)),null!==Na)for(n=Na.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&pi();break;case 3:Oo(),si(li),si(ci),Ho();break;case 5:Do(r);break;case 4:Oo();break;case 13:case 19:si(Ro);break;case 10:Xi(r);break;case 23:case 24:yu()}n=n.return}xa=e,Na=Vu(e.current,null),Ca=Aa=Ra=t,Pa=0,Da=null,Fa=Ma=La=0}function wu(e,t){for(;;){var n=Na;try{if(Zi(),Wo.current=Ns,Xo){for(var r=Yo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Xo=!1}if(Qo=0,Zo=Jo=Yo=null,es=!1,ka.current=null,null===n||null===n.return){Pa=1,Da=t,Na=null;break}e:{var o=e,s=n.return,a=n,u=t;if(t=Ca,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u;if(0==(2&a.mode)){var l=a.alternate;l?(a.updateQueue=l.updateQueue,a.memoizedState=l.memoizedState,a.lanes=l.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&Ro.current),d=s;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=d.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(f){var g=d.updateQueue;if(null===g){var y=new Set;y.add(c),d.updateQueue=y}else g.add(c);if(0==(2&d.mode)){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=so(-1,1);v.tag=2,ao(a,v)}a.lanes|=1;break e}u=void 0,a=t;var w=o.pingCache;if(null===w?(w=o.pingCache=new oa,u=new Set,w.set(c,u)):void 0===(u=w.get(c))&&(u=new Set,w.set(c,u)),!u.has(a)){u.add(a);var b=Lu.bind(null,o,c,a);c.then(b,b)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((W(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Pa&&(Pa=2),u=ra(u,a),d=s;do{switch(d.tag){case 3:o=u,d.flags|=4096,t&=-t,d.lanes|=t,uo(d,sa(0,o,t));break e;case 1:o=u;var _=d.type,E=d.stateNode;if(0==(64&d.flags)&&("function"==typeof _.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Ha||!Ha.has(E)))){d.flags|=4096,t&=-t,d.lanes|=t,uo(d,aa(d,o,t));break e}}d=d.return}while(null!==d)}ku(n)}catch(e){t=e,Na===n&&null!==n&&(Na=n=n.return);continue}break}}function bu(){var e=Ia.current;return Ia.current=Ns,null===e?Ns:e}function _u(e,t){var n=Ta;Ta|=16;var r=bu();for(xa===e&&Ca===t||vu(e,t);;)try{Eu();break}catch(t){wu(e,t)}if(Zi(),Ta=n,Ia.current=r,null!==Na)throw Error(s(261));return xa=null,Ca=0,Pa}function Eu(){for(;null!==Na;)Iu(Na)}function Su(){for(;null!==Na&&!Ii();)Iu(Na)}function Iu(e){var t=Ba(e.alternate,e,Aa);e.memoizedProps=e.pendingProps,null===t?ku(e):Na=t,ka.current=null}function ku(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ta(n,t,Aa)))return void(Na=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Aa)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=na(t)))return n.flags&=2047,void(Na=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Na=t);Na=t=e}while(null!==t);0===Pa&&(Pa=5)}function Tu(e){var t=Vi();return Bi(99,xu.bind(null,e,t)),null}function xu(e,t){do{Cu()}while(null!==Ga);if(0!=(48&Ta))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-qt(o),l=1<<c;i[c]=0,a[c]=-1,u[c]=-1,o&=~l}if(null!==Za&&0==(24&r)&&Za.has(e)&&Za.delete(e),e===xa&&(Na=xa=null,Ca=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ta,Ta|=32,ka.current=null,Fr=Gt,fr(a=dr())){if("selectionStart"in a)u={start:a.selectionStart,end:a.selectionEnd};else e:if(u=(u=a.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(e){u=null;break e}var h=0,d=-1,f=-1,p=0,m=0,g=a,y=null;t:for(;;){for(var v;g!==u||0!==o&&3!==g.nodeType||(d=h+o),g!==c||0!==l&&3!==g.nodeType||(f=h+l),3===g.nodeType&&(h+=g.nodeValue.length),null!==(v=g.firstChild);)y=g,g=v;for(;;){if(g===a)break t;if(y===u&&++p===o&&(d=h),y===c&&++m===l&&(f=h),null!==(v=g.nextSibling))break;y=(g=y).parentNode}g=v}u=-1===d||-1===f?null:{start:d,end:f}}else u=null;u=u||{start:0,end:0}}else u=null;Ur={focusedElem:a,selectionRange:u},Gt=!1,iu=null,ou=!1,qa=r;do{try{Nu()}catch(e){if(null===qa)throw Error(s(330));Ru(qa,e),qa=qa.nextEffect}}while(null!==qa);iu=null,qa=r;do{try{for(a=e;null!==qa;){var w=qa.flags;if(16&w&&ye(qa.stateNode,""),128&w){var b=qa.alternate;if(null!==b){var _=b.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&w){case 2:ga(qa),qa.flags&=-3;break;case 6:ga(qa),qa.flags&=-3,ba(qa.alternate,qa);break;case 1024:qa.flags&=-1025;break;case 1028:qa.flags&=-1025,ba(qa.alternate,qa);break;case 4:ba(qa.alternate,qa);break;case 8:wa(a,u=qa);var E=u.alternate;pa(u),null!==E&&pa(E)}qa=qa.nextEffect}}catch(e){if(null===qa)throw Error(s(330));Ru(qa,e),qa=qa.nextEffect}}while(null!==qa);if(_=Ur,b=dr(),w=_.focusedElem,a=_.selectionRange,b!==w&&w&&w.ownerDocument&&hr(w.ownerDocument.documentElement,w)){null!==a&&fr(w)&&(b=a.start,void 0===(_=a.end)&&(_=b),"selectionStart"in w?(w.selectionStart=b,w.selectionEnd=Math.min(_,w.value.length)):(_=(b=w.ownerDocument||document)&&b.defaultView||window).getSelection&&(_=_.getSelection(),u=w.textContent.length,E=Math.min(a.start,u),a=void 0===a.end?E:Math.min(a.end,u),!_.extend&&E>a&&(u=a,a=E,E=u),u=lr(w,E),o=lr(w,a),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((b=b.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),E>a?(_.addRange(b),_.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),_.addRange(b))))),b=[];for(_=w;_=_.parentNode;)1===_.nodeType&&b.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<b.length;w++)(_=b[w]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Gt=!!Fr,Ur=Fr=null,e.current=n,qa=r;do{try{for(w=e;null!==qa;){var S=qa.flags;if(36&S&&ha(w,qa.alternate,qa),128&S){b=void 0;var I=qa.ref;if(null!==I){var k=qa.stateNode;switch(qa.tag){case 5:b=k;break;default:b=k}"function"==typeof I?I(b):I.current=b}}qa=qa.nextEffect}}catch(e){if(null===qa)throw Error(s(330));Ru(qa,e),qa=qa.nextEffect}}while(null!==qa);qa=null,Ri(),Ta=i}else e.current=n;if(Wa)Wa=!1,Ga=e,Qa=t;else for(qa=r;null!==qa;)t=qa.nextEffect,qa.nextEffect=null,8&qa.flags&&((S=qa).sibling=null,S.stateNode=null),qa=t;if(0===(r=e.pendingLanes)&&(Ha=null),1===r?e===eu?Xa++:(Xa=0,eu=e):Xa=0,n=n.stateNode,bi&&"function"==typeof bi.onCommitFiberRoot)try{bi.onCommitFiberRoot(wi,n,void 0,64==(64&n.current.flags))}catch(e){}if(lu(e,ji()),$a)throw $a=!1,e=Ka,Ka=null,e;return 0!=(8&Ta)||$i(),null}function Nu(){for(;null!==qa;){var e=qa.alternate;ou||null===iu||(0!=(8&qa.flags)?Xe(qa,iu)&&(ou=!0):13===qa.tag&&Ea(e,qa)&&Xe(qa,iu)&&(ou=!0));var t=qa.flags;0!=(256&t)&&la(e,qa),0==(512&t)||Wa||(Wa=!0,qi(97,(function(){return Cu(),null}))),qa=qa.nextEffect}}function Cu(){if(90!==Qa){var e=97<Qa?97:Qa;return Qa=90,Bi(e,Pu)}return!1}function Au(e,t){Ya.push(t,e),Wa||(Wa=!0,qi(97,(function(){return Cu(),null})))}function Ou(e,t){Ja.push(t,e),Wa||(Wa=!0,qi(97,(function(){return Cu(),null})))}function Pu(){if(null===Ga)return!1;var e=Ga;if(Ga=null,0!=(48&Ta))throw Error(s(331));var t=Ta;Ta|=32;var n=Ja;Ja=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===o)throw Error(s(330));Ru(o,e)}}for(n=Ya,Ya=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(e){if(null===o)throw Error(s(330));Ru(o,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ta=t,$i(),!0}function Du(e,t,n){ao(e,t=sa(0,t=ra(n,t),1)),t=su(),null!==(e=cu(e,1))&&(Bt(e,1,t),lu(e,t))}function Ru(e,t){if(3===e.tag)Du(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Du(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ha||!Ha.has(r))){var i=aa(n,e=ra(t,e),1);if(ao(n,i),i=su(),null!==(n=cu(n,1)))Bt(n,1,i),lu(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ha||!Ha.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Lu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=su(),e.pingedLanes|=e.suspendedLanes&n,xa===e&&(Ca&n)===n&&(4===Pa||3===Pa&&(62914560&Ca)===Ca&&500>ji()-ja?vu(e,0):Fa|=n),lu(e,t)}function Mu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Vi()?1:2:(0===nu&&(nu=Ra),0===(t=Vt(62914560&~nu))&&(t=4194304))),n=su(),null!==(e=cu(e,t))&&(Bt(e,t,n),lu(e,n))}function Fu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Uu(e,t,n,r){return new Fu(e,t,n,r)}function ju(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vu(e,t){var n=e.alternate;return null===n?((n=Uu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zu(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)ju(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case I:return Bu(n.children,i,o,t);case M:a=8,i|=16;break;case k:a=8,i|=1;break;case T:return(e=Uu(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=o,e;case A:return(e=Uu(13,n,t,i)).type=A,e.elementType=A,e.lanes=o,e;case O:return(e=Uu(19,n,t,i)).elementType=O,e.lanes=o,e;case F:return qu(n,i,o,t);case U:return(e=Uu(24,n,t,i)).elementType=U,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case x:a=10;break e;case N:a=9;break e;case C:a=11;break e;case P:a=14;break e;case D:a=16,r=null;break e;case R:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Uu(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Bu(e,t,n,r){return(e=Uu(7,e,r,t)).lanes=n,e}function qu(e,t,n,r){return(e=Uu(23,e,r,t)).elementType=F,e.lanes=n,e}function $u(e,t,n){return(e=Uu(6,e,null,t)).lanes=n,e}function Ku(e,t,n){return(t=Uu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Wu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Gu(e,t,n,r){var i=t.current,o=su(),a=au(i);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(fi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(s(171))}if(1===n.tag){var c=n.type;if(fi(c)){n=gi(n,c,u);break e}}n=u}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ao(i,t),uu(i,a,o),a}function Qu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Yu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ju(e,t){Yu(e,t),(e=e.alternate)&&Yu(e,t)}function Zu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Hu(e,t,null!=n&&!0===n.hydrate),t=Uu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,io(t),e[Yr]=n.current,Nr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=Qu(s);a.call(e)}}Gu(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Zu(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=Qu(s);u.call(e)}}mu((function(){Gu(t,s,e,i)}))}return Qu(s)}function tc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(s(200));return Wu(e,t,null,n)}Ba=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||li.current)Ds=!0;else{if(0==(n&r)){switch(Ds=!1,t.tag){case 3:qs(t),$o();break;case 5:Po(t);break;case 1:fi(t.type)&&yi(t);break;case 4:Ao(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ai(Gi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Gs(e,t,n):(ai(Ro,1&Ro.current),null!==(t=Xs(e,t,n))?t.sibling:null);ai(Ro,1&Ro.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Zs(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ai(Ro,Ro.current),r)break;return null;case 23:case 24:return t.lanes=0,Us(e,t,n)}return Xs(e,t,n)}Ds=0!=(16384&e.flags)}else Ds=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=di(t,ci.current),to(t,n),i=rs(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,fi(r)){var o=!0;yi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,io(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&fo(t,r,a,e),i.updater=po,t.stateNode=i,i._reactInternals=t,vo(t,r,e,n),t=Bs(null,t,r,!0,o,n)}else t.tag=0,Rs(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return ju(e)?1:0;if(null!=e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(i),e=Wi(i,e),o){case 0:t=Vs(null,t,i,e,n);break e;case 1:t=zs(null,t,i,e,n);break e;case 11:t=Ls(null,t,i,e,n);break e;case 14:t=Ms(null,t,i,Wi(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Vs(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 1:return r=t.type,i=t.pendingProps,zs(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 3:if(qs(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oo(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)$o(),t=Xs(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Fo=$r(t.stateNode.containerInfo.firstChild),Mo=t,o=Uo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Ko.push(o);for(n=Io(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Rs(e,t,r,n),$o();t=t.child}return t;case 5:return Po(t),null===e&&zo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,Vr(r,i)?a=null:null!==o&&Vr(r,o)&&(t.flags|=16),js(e,t),Rs(e,t,a,n),t.child;case 6:return null===e&&zo(t),null;case 13:return Gs(e,t,n);case 4:return Ao(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=So(t,null,r,n):Rs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ls(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 7:return Rs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Rs(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var u=t.type._context;if(ai(Gi,u._currentValue),u._currentValue=o,null!==a)if(u=a.value,0==(o=sr(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(a.children===i.children&&!li.current){t=Xs(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){a=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=so(-1,n&-n)).tag=2,ao(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),eo(u.return,n),c.lanes|=n;break}l=l.next}}else a=10===u.tag&&u.type===t.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===t){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}Rs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,to(t,n),r=r(i=no(i,o.unstable_observedBits)),t.flags|=1,Rs(e,t,r,n),t.child;case 14:return o=Wi(i=t.type,t.pendingProps),Ms(e,t,i,o=Wi(i.type,o),r,n);case 15:return Fs(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,fi(r)?(e=!0,yi(t)):e=!1,to(t,n),go(t,r,i),vo(t,r,i,n),Bs(null,t,r,!0,e,n);case 19:return Zs(e,t,n);case 23:case 24:return Us(e,t,n)}throw Error(s(156,t.tag))},Zu.prototype.render=function(e){Gu(e,this._internalRoot,null,null)},Zu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Gu(null,e,null,(function(){t[Yr]=null}))},et=function(e){13===e.tag&&(uu(e,4,su()),Ju(e,4))},tt=function(e){13===e.tag&&(uu(e,67108864,su()),Ju(e,67108864))},nt=function(e){if(13===e.tag){var t=su(),n=au(e);uu(e,n,t),Ju(e,n)}},rt=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ti(r);if(!i)throw Error(s(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&se(e,!!n.multiple,t,!1)}},Pe=pu,De=function(e,t,n,r,i){var o=Ta;Ta|=4;try{return Bi(98,e.bind(null,t,n,r,i))}finally{0===(Ta=o)&&(za(),$i())}},Re=function(){0==(49&Ta)&&(function(){if(null!==Za){var e=Za;Za=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,lu(e,ji())}))}$i()}(),Cu())},Le=function(e,t){var n=Ta;Ta|=2;try{return e(t)}finally{0===(Ta=n)&&(za(),$i())}};var nc={Events:[Xr,ei,ti,Ae,Oe,Cu,{current:!1}]},rc={findFiberByHostInstance:Zr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ic={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{wi=oc.inject(ic),bi=oc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,t.createPortal=tc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ta;if(0!=(48&n))return e(t);Ta|=1;try{if(e)return Bi(99,e.bind(null,t))}finally{Ta=n,$i()}},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(s(200));return ec(null,e,t,!0,n)},t.render=function(e,t,n){if(!Xu(t))throw Error(s(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(s(40));return!!e._reactRootContainer&&(mu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[Yr]=null}))})),!0)},t.unstable_batchedUpdates=pu,t.unstable_createPortal=function(e,t){return tc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ec(e,t,n,!1,r)},t.version="17.0.2"},3935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},9921:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case m:case u:return e;default:return t}}case i:return t}}}function E(e){return _(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||_(e)===l},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===a||e===s||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===v||e.$$typeof===w||e.$$typeof===b||e.$$typeof===y)},t.typeOf=_},9864:(e,t,n)=>{"use strict";e.exports=n(9921)},6585:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},9658:(e,t,n)=>{var r=n(6585);e.exports=function e(t,n,i){return r(n)||(i=n||i,n=[]),i=i||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(t,n):r(t)?function(t,n,r){for(var i=[],o=0;o<t.length;o++)i.push(e(t[o],n,r).source);return l(new RegExp("(?:"+i.join("|")+")",h(r)),n)}(t,n,i):function(e,t,n){return d(o(e,n),t,n)}(t,n,i)},e.exports.parse=o,e.exports.compile=function(e,t){return a(o(e,t),t)},e.exports.tokensToFunction=a,e.exports.tokensToRegExp=d;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,s=0,a="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var h=n[0],d=n[1],f=n.index;if(a+=e.slice(s,f),s=f+h.length,d)a+=d[1];else{var p=e[s],m=n[2],g=n[3],y=n[4],v=n[5],w=n[6],b=n[7];a&&(r.push(a),a="");var _=null!=m&&null!=p&&p!==m,E="+"===w||"*"===w,S="?"===w||"*"===w,I=n[2]||l,k=y||v;r.push({name:g||o++,prefix:m||"",delimiter:I,optional:S,repeat:E,partial:_,asterisk:!!b,pattern:k?c(k):b?".*":"[^"+u(I)+"]+?"})}}return s<e.length&&(a+=e.substr(s)),a&&r.push(a),r}function s(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function a(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var o="",a=t||{},u=(i||{}).pretty?s:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var h,d=a[l.name];if(null==d){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var f=0;f<d.length;f++){if(h=u(d[f]),!n[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===f?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(d),!n[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');o+=l.prefix+h}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,s="",a=0;a<e.length;a++){var c=e[a];if("string"==typeof c)s+=u(c);else{var d=u(c.prefix),f="(?:"+c.pattern+")";t.push(c),c.repeat&&(f+="(?:"+d+f+")*"),s+=f=c.optional?c.partial?d+"("+f+")?":"(?:"+d+"("+f+"))?":d+"("+f+")"}}var p=u(n.delimiter||"/"),m=s.slice(-p.length)===p;return i||(s=(m?s.slice(0,-p.length):s)+"(?:"+p+"(?=$))?"),s+=o?"$":i&&m?"":"(?="+p+"|$)",l(new RegExp("^"+s,h(n)),t)}},2052:(e,t,n)=>{"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(7294)),s=a(n(5697));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=!1,l=!1,h=!1,d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onScriptLoaded=function(){t.stripeHandler||(t.stripeHandler=StripeCheckout.configure({key:n.props.stripeKey}),n.hasPendingClick&&n.showStripeDialog())},n.onScriptError=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.hideLoadingDialog(),n.props.onScriptError&&n.props.onScriptError.apply(n,t)},n.onClosed=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n._isMounted&&n.setState({open:!1}),n.props.closed&&n.props.closed.apply(n,t)},n.onOpened=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.setState({open:!0}),n.props.opened&&n.props.opened.apply(n,t)},n.getConfig=function(){return["token","image","name","description","amount","locale","currency","panelLabel","zipCode","shippingAddress","billingAddress","email","allowRememberMe","bitcoin","alipay","alipayReusable"].reduce((function(e,t){return r({},e,n.props.hasOwnProperty(t)&&u({},t,n.props[t]))}),{opened:n.onOpened,closed:n.onClosed})},n.onClick=function(){if(!n.props.disabled)if(h)try{throw new Error("Tried to call onClick, but StripeCheckout failed to load")}catch(e){}else t.stripeHandler?n.showStripeDialog():(n.showLoadingDialog(),n.hasPendingClick=!0)},n.handleOnMouseDown=function(){n.setState({buttonActive:!0})},n.handleOnMouseUp=function(){n.setState({buttonActive:!1})},n.state={open:!1,buttonActive:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;if(this._isMounted=!0,!l&&!c){c=!0;var t,n,r=document.createElement("script");"function"==typeof this.props.onScriptTagCreated&&this.props.onScriptTagCreated(r),r.src="https://checkout.stripe.com/checkout.js",r.async=1,this.loadPromise=(t=!1,n=new Promise((function(t,n){r.onload=function(){l=!0,c=!1,t(),e.onScriptLoaded()},r.onerror=function(t){h=!0,c=!1,n(t),e.onScriptError(t)}})),{promise:new Promise((function(e,r){n.then((function(){return t?r({isCanceled:!0}):e()})),n.catch((function(e){return r(t?{isCanceled:!0}:e)}))})),cancel:function(){t=!0}}),this.loadPromise.promise.then(this.onScriptLoaded).catch(this.onScriptError),document.body.appendChild(r)}}},{key:"componentDidUpdate",value:function(){c||this.updateStripeHandler()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.loadPromise&&this.loadPromise.cancel(),t.stripeHandler&&this.state.open&&t.stripeHandler.close()}},{key:"updateStripeHandler",value:function(){t.stripeHandler&&!this.props.reconfigureOnUpdate||(t.stripeHandler=StripeCheckout.configure({key:this.props.stripeKey}))}},{key:"showLoadingDialog",value:function(){if(this.props.showLoadingDialog){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props.showLoadingDialog.apply(this,t)}}},{key:"hideLoadingDialog",value:function(){if(this.props.hideLoadingDialog){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props.hideLoadingDialog.apply(this,t)}}},{key:"showStripeDialog",value:function(){this.hideLoadingDialog(),t.stripeHandler.open(this.getConfig())}},{key:"renderDefaultStripeButton",value:function(){return o.default.createElement("button",r({},u({},this.props.triggerEvent,this.onClick),{className:this.props.className,onMouseDown:this.handleOnMouseDown,onFocus:this.handleOnMouseDown,onMouseUp:this.handleOnMouseUp,onMouseOut:this.handleOnMouseUp,onBlur:this.handleOnMouseUp,style:r({},{overflow:"hidden",display:"inline-block",background:"linear-gradient(#28a0e5,#015e94)",border:0,padding:1,textDecoration:"none",borderRadius:5,boxShadow:"0 1px 0 rgba(0,0,0,0.2)",cursor:"pointer",visibility:"visible",userSelect:"none"},this.state.buttonActive&&{background:"#005d93"},this.props.style)}),o.default.createElement("span",{style:r({},{backgroundImage:"linear-gradient(#7dc5ee,#008cdd 85%,#30a2e4)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",color:"#fff",fontWeight:"bold",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",textShadow:"0 -1px 0 rgba(0,0,0,0.25)",borderRadius:4},this.state.buttonActive&&{color:"#eee",boxShadow:"inset 0 1px 0 rgba(0,0,0,0.1)",backgroundImage:"linear-gradient(#008cdd,#008cdd 85%,#239adf)"},this.props.textStyle)},this.props.label))}},{key:"renderDisabledButton",value:function(){return o.default.createElement("button",{disabled:!0,style:{background:"rgba(0,0,0,0.2)",overflow:"hidden",display:"inline-block",border:0,padding:1,textDecoration:"none",borderRadius:5,userSelect:"none"}},o.default.createElement("span",{style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",borderRadius:4,color:"#999",background:"#f8f9fa",textShadow:"0 1px 0 rgba(255,255,255,0.5)"}},this.props.label))}},{key:"render",value:function(){!0!==this.props.desktopShowModal||this.state.open?!1===this.props.desktopShowModal&&this.state.open&&t.stripeHandler.close():this.onClick();var e=this.props.ComponentClass;return this.props.children?o.default.createElement(e,r({},u({},this.props.triggerEvent,this.onClick),{children:this.props.children})):this.props.disabled?this.renderDisabledButton():this.renderDefaultStripeButton()}}]),t}(o.default.Component);d.defaultProps={className:"StripeCheckout",label:"Pay With Card",locale:"auto",ComponentClass:"span",reconfigureOnUpdate:!1,triggerEvent:"onClick"},d.propTypes={desktopShowModal:s.default.bool,triggerEvent:s.default.oneOf(["onClick","onTouchTap","onTouchStart"]),label:s.default.string,style:s.default.object,textStyle:s.default.object,disabled:s.default.bool,ComponentClass:s.default.string,showLoadingDialog:s.default.func,hideLoadingDialog:s.default.func,onScriptError:s.default.func,onScriptTagCreated:s.default.func,reconfigureOnUpdate:s.default.bool,stripeKey:s.default.string.isRequired,token:s.default.func.isRequired,name:s.default.string,description:s.default.string,image:s.default.string,amount:s.default.number,locale:s.default.oneOf(["auto","zh","da","nl","en","fr","de","it","ja","no","es","sv"]),currency:s.default.oneOf(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BIF","BMD","BND","BOB","BRL","BSD","BWP","BZD","CAD","CDF","CHF","CLP","CNY","COP","CRC","CVE","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ETB","EUR","FJD","FKP","GBP","GEL","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","ISK","JMD","JPY","KES","KGS","KHR","KMF","KRW","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","MAD","MDL","MGA","MKD","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SEK","SGD","SHP","SLL","SOS","SRD","STD","SVC","SZL","THB","TJS","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VND","VUV","WST","XAF","XCD","XOF","XPF","YER","ZAR","ZMW"]),panelLabel:s.default.string,zipCode:s.default.bool,billingAddress:s.default.bool,shippingAddress:s.default.bool,email:s.default.string,allowRememberMe:s.default.bool,bitcoin:s.default.bool,alipay:s.default.oneOf(["auto",!0,!1]),alipayReusable:s.default.bool,opened:s.default.func,closed:s.default.func},d._isMounted=!1,t.Z=d},2408:(e,t,n)=>{"use strict";var r=n(7418),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),s=h("react.provider"),a=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=v.prototype=new y;w.constructor=v,r(w,g.prototype),w.isPureReactComponent=!0;var b={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:s,ref:a,props:o,_owner:b.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var k=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,n,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return s=s(u=e),e=""===r?"."+T(u,0):r,Array.isArray(s)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),x(s,t,n,"",(function(e){return e}))):null!=s&&(I(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(k,"$&/")+"/")+e)),t.push(s)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(a=e[c],c);u+=x(a,t,n,l,s)}else if("function"==typeof(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(a=e.next()).done;)u+=x(a=a.value,t,n,l=r+T(a,c++),s);else if("object"===a)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function O(){var e=A.current;if(null===e)throw Error(f(321));return e}var P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var o=r({},e.props),s=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=b.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:e.type,key:s,ref:a,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},7294:(e,t,n)=>{"use strict";e.exports=n(2408)},4500:function(e,t,n){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function s(e,t){s.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function a(e,t,n){a.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function u(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t=void 0===e?"undefined":k(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,h,d,f){f=f||[];var p=(h=h||[]).slice(0);if(void 0!==d){if(r){if("function"==typeof r&&r(p,d))return;if("object"===(void 0===r?"undefined":k(r))){if(r.prefilter&&r.prefilter(p,d))return;if(r.normalize){var m=r.normalize(p,d,e,t);m&&(e=m[0],t=m[1])}}}p.push(d)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var g=void 0===e?"undefined":k(e),y=void 0===t?"undefined":k(t),v="undefined"!==g||f&&f[f.length-1].lhs&&f[f.length-1].lhs.hasOwnProperty(d),w="undefined"!==y||f&&f[f.length-1].rhs&&f[f.length-1].rhs.hasOwnProperty(d);if(!v&&w)n(new o(p,t));else if(!w&&v)n(new s(p,e));else if(c(e)!==c(t))n(new i(p,e,t));else if("date"===c(e)&&e-t!=0)n(new i(p,e,t));else if("object"===g&&null!==e&&null!==t)if(f.filter((function(t){return t.lhs===e})).length)e!==t&&n(new i(p,e,t));else{if(f.push({lhs:e,rhs:t}),Array.isArray(e)){var b;for(e.length,b=0;b<e.length;b++)b>=t.length?n(new a(p,b,new s(void 0,e[b]))):l(e[b],t[b],n,r,p,b,f);for(;b<t.length;)n(new a(p,b,new o(void 0,t[b++])))}else{var _=Object.keys(e),E=Object.keys(t);_.forEach((function(i,o){var s=E.indexOf(i);s>=0?(l(e[i],t[i],n,r,p,i,f),E=u(E,s)):l(e[i],void 0,n,r,p,i,f)})),E.forEach((function(e){l(void 0,t[e],n,r,p,e,f)}))}f.length=f.length-1}else e!==t&&("number"===g&&isNaN(e)&&isNaN(t)||n(new i(p,e,t)))}function h(e,t,n,r){return r=r||[],l(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function d(e,t,n){if(n.path&&n.path.length){var r,i=e[t],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":d(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":d(e[t],n.index,n.item);break;case"D":e=u(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function f(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,o=n.path?n.path.length-1:0;++i<o;)void 0===r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":d(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function p(e,t,n){if(n.path&&n.path.length){var r,i=e[t],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":p(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":p(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=u(e,t)}return e}function m(e){return"color: "+N[e].color+"; font-weight: bold"}function g(e,t,n,r){var i=h(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach((function(e){var t=e.kind,r=function(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,o=e.index,s=e.item;switch(t){case"E":return[n.join("."),r,"→",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+o+"]",s];default:return[]}}(e);n.log.apply(n,["%c "+N[t].text,m(t)].concat(T(r)))})):n.log("—— no diff ——");try{n.groupEnd()}catch(e){n.log("—— diff end —— ")}}function y(e,t,n,r){switch(void 0===e?"undefined":k(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,T(n)):e[r];case"function":return e(t);default:return e}}function v(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,o=void 0===i?function(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var o=["action"];return o.push("%c"+String(e.type)),t&&o.push("%c@ "+r),n&&o.push("%c(in "+i.toFixed(2)+" ms)"),o.join(" ")}}(t):i,s=t.collapsed,a=t.colors,u=t.level,c=t.diff,l=void 0===t.titleFormatter;e.forEach((function(i,h){var d=i.started,f=i.startedTime,p=i.action,m=i.prevState,v=i.error,w=i.took,b=i.nextState,_=e[h+1];_&&(b=_.prevState,w=_.started-d);var E=r(p),I="function"==typeof s?s((function(){return b}),p,i):s,k=S(f),T=a.title?"color: "+a.title(E)+";":"",x=["color: gray; font-weight: lighter;"];x.push(T),t.timestamp&&x.push("color: gray; font-weight: lighter;"),t.duration&&x.push("color: gray; font-weight: lighter;");var N=o(E,k,w);try{I?a.title&&l?n.groupCollapsed.apply(n,["%c "+N].concat(x)):n.groupCollapsed(N):a.title&&l?n.group.apply(n,["%c "+N].concat(x)):n.group(N)}catch(e){n.log(N)}var C=y(u,E,[m],"prevState"),A=y(u,E,[E],"action"),O=y(u,E,[v,m],"error"),P=y(u,E,[b],"nextState");if(C)if(a.prevState){var D="color: "+a.prevState(m)+"; font-weight: bold";n[C]("%c prev state",D,m)}else n[C]("prev state",m);if(A)if(a.action){var R="color: "+a.action(E)+"; font-weight: bold";n[A]("%c action    ",R,E)}else n[A]("action    ",E);if(v&&O)if(a.error){var L="color: "+a.error(v,m)+"; font-weight: bold;";n[O]("%c error     ",L,v)}else n[O]("error     ",v);if(P)if(a.nextState){var M="color: "+a.nextState(b)+"; font-weight: bold";n[P]("%c next state",M,b)}else n[P]("next state",b);c&&g(m,b,n,I);try{n.groupEnd()}catch(e){n.log("—— log end ——")}}))}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},C,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,o=t.predicate,s=t.logErrors,a=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var u=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof o&&!o(n,c))return e(c);var l={};u.push(l),l.started=I.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=c;var h=void 0;if(s)try{h=e(c)}catch(e){l.error=i(e)}else h=e(c);l.took=I.now()-l.started,l.nextState=r(n());var d=t.diff&&"function"==typeof a?a(n,c):t.diff;if(v(u,Object.assign({},t,{diff:d})),u.length=0,l.error)throw l.error;return h}}}}var b,_,E=function(e,t){return function(e,t){return new Array(t+1).join(e)}("0",t-e.toString().length)+e},S=function(e){return E(e.getHours(),2)+":"+E(e.getMinutes(),2)+":"+E(e.getSeconds(),2)+"."+E(e.getMilliseconds(),3)},I="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},x=[];b="object"===(void 0===n.g?"undefined":k(n.g))&&n.g?n.g:"undefined"!=typeof window?window:{},(_=b.DeepDiff)&&x.push((function(){void 0!==_&&b.DeepDiff===h&&(b.DeepDiff=_,_=void 0)})),t(i,r),t(o,r),t(s,r),t(a,r),Object.defineProperties(h,{diff:{value:h,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:function(e,t,n){e&&t&&l(e,t,(function(r){n&&!n(e,t,r)||f(e,t,r)}))},enumerable:!0},applyChange:{value:f,enumerable:!0},revertChange:{value:function(e,t,n){if(e&&t&&n&&n.kind){var r,i,o=e;for(i=n.path.length-1,r=0;r<i;r++)void 0===o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":p(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==_},enumerable:!0},noConflict:{value:function(){return x&&(x.forEach((function(e){e()})),x=null),h},enumerable:!0}});var N={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},C={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?w()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=C,e.createLogger=w,e.logger=A,e.default=A,Object.defineProperty(e,"__esModule",{value:!0})}(t)},3488:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,i){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}};var r,i=(r=n(7290))&&r.__esModule?r:{default:r}},7290:(e,t)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"==typeof self?"undefined":n(self))||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(e){return!1}return!0}(t)?self[t]:i};var i={getItem:r,setItem:r,removeItem:r}},6734:(e,t,n)=>{"use strict";var r;t.Z=void 0;var i=(0,((r=n(3488))&&r.__esModule?r:{default:r}).default)("local");t.Z=i},53:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,h=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,y=-1,v=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,_=b.port2;b.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+v;try{g(!0,e)?_.postMessage(null):(m=!1,g=null)}catch(e){throw _.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,_.postMessage(null))},r=function(e,n){y=d((function(){e(t.unstable_now())}),n)},i=function(){f(y),y=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,u=e[a];if(void 0!==s&&0>k(s,n))void 0!==u&&0>k(u,s)?(e[r]=u,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==u&&0>k(u,n)))break e;e[r]=u,e[a]=n,r=a}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],x=[],N=1,C=null,A=3,O=!1,P=!1,D=!1;function R(e){for(var t=S(x);null!==t;){if(null===t.callback)I(x);else{if(!(t.startTime<=e))break;I(x),t.sortIndex=t.expirationTime,E(T,t)}t=S(x)}}function L(e){if(D=!1,R(e),!P)if(null!==S(T))P=!0,n(M);else{var t=S(x);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,D&&(D=!1,i()),O=!0;var o=A;try{for(R(n),C=S(T);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=C.callback;if("function"==typeof s){C.callback=null,A=C.priorityLevel;var a=s(C.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?C.callback=a:C===S(T)&&I(T),R(n)}else I(T);C=S(T)}if(null!==C)var u=!0;else{var c=S(x);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{C=null,A=o,O=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||O||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return S(T)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?a+s:a,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:N++,callback:o,priorityLevel:e,startTime:s,expirationTime:u=s+u,sortIndex:-1},s>a?(e.sortIndex=s,E(x,e),null===S(T)&&e===S(x)&&(D?i():D=!0,r(L,s-a))):(e.sortIndex=u,E(T,e),P||O||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},3840:(e,t,n)=>{"use strict";e.exports=n(53)},3379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},s=[],a=0;a<e.length;a++){var u=e[a],c=r.base?u[0]+r.base:u[0],l=o[c]||0,h="".concat(c," ").concat(l);o[c]=l+1;var d=n(h),f={css:u[1],media:u[2],sourceMap:u[3]};-1!==d?(t[d].references++,t[d].updater(f)):t.push({identifier:h,updater:i(f,r),references:1}),s.push(h)}return s}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var a=n(o[s]);t[a].references--}for(var u=r(e,i),c=0;c<o.length;c++){var l=n(o[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=u}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},3565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},3519:e=>{e.exports="data:image/svg+xml,%3c!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3e %3csvg version='1.1' id='Capa_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 407.453 407.453' style='enable-background:new 0 0 407.453 407.453;' xml:space='preserve'%3e %3cg%3e %3cpath style='fill:%23010002;' d='M255.099,116.515c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H143.486 c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129H255.099z'/%3e %3cpath style='fill:%23010002;' d='M367.062,100.258H311.69c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129h47.243 v274.681H48.519V116.515h44.536c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H40.391 c-4.487,0-8.129,3.633-8.129,8.129v290.938c0,4.495,3.642,8.129,8.129,8.129h326.671c4.487,0,8.129-3.633,8.129-8.129V108.386 C375.191,103.891,371.557,100.258,367.062,100.258z'/%3e %3cpath style='fill:%23010002;' d='M282.59,134.796c4.487,0,8.129-3.633,8.129-8.129V67.394C290.718,30.238,250.604,0,201.101,0 c-49.308,0-89.414,30.238-89.414,67.394v59.274c0,4.495,3.642,8.129,8.129,8.129s8.129-3.633,8.129-8.129V67.394 c0-28.198,32.823-51.137,73.36-51.137c40.334,0,73.157,22.939,73.157,51.137v59.274 C274.461,131.163,278.095,134.796,282.59,134.796z'/%3e %3cpath style='fill:%23010002;' d='M98.892,147.566c0,11.526,9.389,20.907,20.923,20.907c11.534,0,20.923-9.38,20.923-20.907 c0-4.495-3.642-8.129-8.129-8.129s-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.569,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129S98.892,143.071,98.892,147.566z'/%3e %3cpath style='fill:%23010002;' d='M282.59,168.473c11.534,0,20.923-9.38,20.923-20.907c0-4.495-3.642-8.129-8.129-8.129 c-4.487,0-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.577,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129c-4.487,0-8.129,3.633-8.129,8.129C261.667,159.092,271.055,168.473,282.59,168.473z'/%3e %3c/g%3e %3cg%3e %3c/g%3e %3cg%3e %3c/g%3e %3cg%3e %3c/g%3e %3cg%3e %3c/g%3e %3cg%3e %3c/g%3e %3cg%3e %3c/g%3e %3cg%3e %3c/g%3e %3cg%3e %3c/g%3e %3cg%3e %3c/g%3e %3cg%3e %3c/g%3e %3cg%3e %3c/g%3e %3cg%3e %3c/g%3e %3cg%3e %3c/g%3e %3cg%3e %3c/g%3e %3cg%3e %3c/g%3e %3c/svg%3e"},8657:e=>{e.exports="data:image/svg+xml,%3csvg width='50px' height='39px' viewBox='0 0 50 39' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 53.2 (72643) - https://sketchapp.com --%3e %3ctitle%3eGroup%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cg id='WiP' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='Artboard' transform='translate(-90.000000, -38.000000)'%3e %3cg id='Group' transform='translate(90.000000, 38.000000)'%3e %3cpolygon id='Rectangle' fill='%23808282' points='3 14 25 26.5 47 14 40.855176 39 9.08421785 39'%3e%3c/polygon%3e %3cpolygon id='Triangle' fill-opacity='0.262838724' fill='%23101A1A' points='25 8 40 39 10 39'%3e%3c/polygon%3e %3ccircle id='Oval' fill='%235E6363' cx='2' cy='9' r='2'%3e%3c/circle%3e %3ccircle id='Oval' fill='%235E6363' cx='25' cy='2' r='2'%3e%3c/circle%3e %3ccircle id='Oval' fill='%235E6363' cx='48' cy='9' r='2'%3e%3c/circle%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/svg%3e"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>Un,SDK_VERSION:()=>Tr,_DEFAULT_ENTRY_NAME:()=>pr,_addComponent:()=>vr,_addOrOverwriteComponent:()=>wr,_apps:()=>gr,_clearComponents:()=>Sr,_components:()=>yr,_getProvider:()=>_r,_registerComponent:()=>br,_removeServiceInstance:()=>Er,deleteApp:()=>Ar,getApp:()=>Nr,getApps:()=>Cr,initializeApp:()=>xr,onLog:()=>Pr,registerVersion:()=>Or,setLogLevel:()=>Dr});var t=n(7294),r=n(3935);function i(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var s=e.apply(t,n);function a(e){i(s,r,o,a,u,"next",e)}function u(e){i(s,r,o,a,u,"throw",e)}a(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=n(7757),y=n.n(g),v=n(3379),w=n.n(v),b=n(7795),_=n.n(b),E=n(569),S=n.n(E),I=n(3565),k=n.n(I),T=n(9216),x=n.n(T),N=n(4589),C=n.n(N),A=n(9010),O={};function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function R(e,t){if(null==e)return{};var n,r,i=D(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}O.styleTagTransform=C(),O.setAttributes=k(),O.insert=S().bind(null,"head"),O.domAPI=_(),O.insertStyleElement=x(),w()(A.Z,O),A.Z&&A.Z.locals&&A.Z.locals;var L=n(4732),M={};M.styleTagTransform=C(),M.setAttributes=k(),M.insert=S().bind(null,"head"),M.domAPI=_(),M.insertStyleElement=x(),w()(L.Z,M),L.Z&&L.Z.locals&&L.Z.locals;var F=n(3217),U={};function j(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,l(e,t)}U.styleTagTransform=C(),U.setAttributes=k(),U.insert=S().bind(null,"head"),U.domAPI=_(),U.insertStyleElement=x(),w()(F.Z,U),F.Z&&F.Z.locals&&F.Z.locals;var V=n(5697),z=n.n(V);function B(e){return"/"===e.charAt(0)}function q(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function $(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const K=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"==typeof t||"object"==typeof n){var r=$(t),i=$(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1};const H=function(e,t){if(!e)throw new Error("Invariant failed")};function W(e){return"/"===e.charAt(0)?e:"/"+e}function G(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function Q(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function Y(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function J(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(i=P({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&B(e),s=t&&B(t),a=o||s;if(e&&B(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=i.length;l>=0;l--){var h=i[l];"."===h?q(i,l):".."===h?(q(i,l),c++):c&&(q(i,l),c--)}if(!a)for(;c--;c)i.unshift("..");!a||""===i[0]||i[0]&&B(i[0])||i.unshift("");var d=i.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d}(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function Z(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var X=!("undefined"==typeof window||!window.document||!window.document.createElement);function ee(e,t){t(window.confirm(e))}var te="popstate",ne="hashchange";function re(){try{return window.history.state||{}}catch(e){return{}}}function ie(e){void 0===e&&(e={}),X||H(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,o=i.forceRefresh,s=void 0!==o&&o,a=i.getUserConfirmation,u=void 0===a?ee:a,c=i.keyLength,l=void 0===c?6:c,h=e.basename?Q(W(e.basename)):"";function d(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return h&&(o=G(o,h)),J(o,r,n)}function f(){return Math.random().toString(36).substr(2,l)}var p=Z();function m(e){P(x,e),x.length=t.length,p.notifyListeners(x.location,x.action)}function g(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||w(d(e.state))}function y(){w(d(re()))}var v=!1;function w(e){v?(v=!1,m()):p.confirmTransitionTo(e,"POP",u,(function(t){t?m({action:"POP",location:e}):function(e){var t=x.location,n=_.indexOf(t.key);-1===n&&(n=0);var r=_.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(v=!0,S(i))}(e)}))}var b=d(re()),_=[b.key];function E(e){return h+Y(e)}function S(e){t.go(e)}var I=0;function k(e){1===(I+=e)&&1===e?(window.addEventListener(te,g),r&&window.addEventListener(ne,y)):0===I&&(window.removeEventListener(te,g),r&&window.removeEventListener(ne,y))}var T=!1,x={length:t.length,action:"POP",location:b,createHref:E,push:function(e,r){var i="PUSH",o=J(e,r,f(),x.location);p.confirmTransitionTo(o,i,u,(function(e){if(e){var r=E(o),a=o.key,u=o.state;if(n)if(t.pushState({key:a,state:u},null,r),s)window.location.href=r;else{var c=_.indexOf(x.location.key),l=_.slice(0,c+1);l.push(o.key),_=l,m({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=J(e,r,f(),x.location);p.confirmTransitionTo(o,i,u,(function(e){if(e){var r=E(o),a=o.key,u=o.state;if(n)if(t.replaceState({key:a,state:u},null,r),s)window.location.replace(r);else{var c=_.indexOf(x.location.key);-1!==c&&(_[c]=o.key),m({action:i,location:o})}else window.location.replace(r)}}))},go:S,goBack:function(){S(-1)},goForward:function(){S(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return T||(k(1),T=!0),function(){return T&&(T=!1,k(-1)),t()}},listen:function(e){var t=p.appendListener(e);return k(1),function(){k(-1),t()}}};return x}var oe=1073741823,se="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:{};function ae(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}const ue=t.createContext||function(e,n){var r,i,o,s="__create-react-context-"+((se[o="__global_unique_id__"]=(se[o]||0)+1)+"__"),a=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=ae(t.props.value),t}j(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[s]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,i)?(t="function"==typeof n?n(r,i):oe,0!=(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);a.childContextTypes=((r={})[s]=z().object.isRequired,r);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}j(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?oe:t},r.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?oe:e},r.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},r.getValue=function(){return this.context[s]?this.context[s].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[s]=z().object,i),{Provider:a,Consumer:u}};var ce=n(9658),le=n.n(ce),he=n(9864),de=n(8679),fe=n.n(de),pe=function(e){var t=ue();return t.displayName=e,t},me=pe("Router-History"),ge=pe("Router"),ye=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}j(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(ge.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(me.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;var ve=function(e){function t(){return e.apply(this,arguments)||this}j(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(t.Component),we={},be=0;function _e(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(we[e])return we[e];var t=le().compile(e);return be<1e4&&(we[e]=t,be++),t}(e)(t,{pretty:!0})}function Ee(e){var n=e.computedMatch,r=e.to,i=e.push,o=void 0!==i&&i;return t.createElement(ge.Consumer,null,(function(e){e||H(!1);var i=e.history,s=e.staticContext,a=o?i.push:i.replace,u=J(n?"string"==typeof r?_e(r,n.params):P({},r,{pathname:_e(r.pathname,n.params)}):r);return s?(a(u),null):t.createElement(ve,{onMount:function(){a(u)},onUpdate:function(e,t){var n,r,i=J(t.to);n=i,r=P({},u,{key:i.key}),n.pathname===r.pathname&&n.search===r.search&&n.hash===r.hash&&n.key===r.key&&K(n.state,r.state)||a(u)},to:r})}))}var Se={},Ie=0;function ke(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,s=n.strict,a=void 0!==s&&s,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Se[n]||(Se[n]={});if(r[e])return r[e];var i=[],o={regexp:le()(e,i,t),keys:i};return Ie<1e4&&(r[e]=o,Ie++),o}(n,{end:o,strict:a,sensitive:c}),i=r.regexp,s=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],h=u.slice(1),d=e===l;return o&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:s.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var Te=function(e){function n(){return e.apply(this,arguments)||this}return j(n,e),n.prototype.render=function(){var e=this;return t.createElement(ge.Consumer,null,(function(n){n||H(!1);var r=e.props.location||n.location,i=P({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?ke(r.pathname,e.props):n.match}),o=e.props,s=o.children,a=o.component,u=o.render;return Array.isArray(s)&&function(e){return 0===t.Children.count(e)}(s)&&(s=null),t.createElement(ge.Provider,{value:i},i.match?s?"function"==typeof s?s(i):s:a?t.createElement(a,i):u?u(i):null:"function"==typeof s?s(i):null)}))},n}(t.Component);t.Component;var xe=function(e){function n(){return e.apply(this,arguments)||this}return j(n,e),n.prototype.render=function(){var e=this;return t.createElement(ge.Consumer,null,(function(n){n||H(!1);var r,i,o=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var s=e.props.path||e.props.from;i=s?ke(o.pathname,P({},e.props,{path:s})):n.match}})),i?t.cloneElement(r,{location:o,computedMatch:i}):null}))},n}(t.Component);function Ne(e){var n="withRouter("+(e.displayName||e.name)+")",r=function(n){var r=n.wrappedComponentRef,i=D(n,["wrappedComponentRef"]);return t.createElement(ge.Consumer,null,(function(n){return n||H(!1),t.createElement(e,P({},i,n,{ref:r}))}))};return r.displayName=n,r.WrappedComponent=e,fe()(r,e)}t.useContext;const Ce=Ne((function(e){var n=e.title,r=e.img,i=e.history,o=e.linkurl,s=e.match;return t.createElement("div",{className:"menu-lists",onClick:function(){i.push("".concat(s.url).concat(o))}},t.createElement("div",{className:"bg-img",style:{backgroundImage:"url(".concat(r,")")}}),t.createElement("div",{className:"contents"},t.createElement("h1",{className:"title"},n.toUpperCase()),t.createElement("span",{className:"sub"},"Shop Now")))}));var Ae=t.createContext(null),Oe=function(e){e()},Pe=function(){return Oe},De={notify:function(){},get:function(){return[]}};function Re(e,t){var n,r=De;function i(){s.onStateChange&&s.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Pe(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var s={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=De)},getListeners:function(){return r}};return s}var Le="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect;const Me=function(e){var n=e.store,r=e.context,i=e.children,o=(0,t.useMemo)((function(){var e=Re(n);return e.onStateChange=e.notifyNestedSubs,{store:n,subscription:e}}),[n]),s=(0,t.useMemo)((function(){return n.getState()}),[n]);Le((function(){var e=o.subscription;return e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,s]);var a=r||Ae;return t.createElement(a.Provider,{value:o},i)};var Fe=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Ue=["reactReduxForwardedRef"],je=[],Ve=[null,null];function ze(e,t){var n=e[1];return[t.payload,n+1]}function Be(e,t,n){Le((function(){return e.apply(void 0,t)}),n)}function qe(e,t,n,r,i,o,s){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,s())}function $e(e,t,n,r,i,o,s,a,u,c){if(e){var l=!1,h=null,d=function(){if(!l){var e,n,d=t.getState();try{e=r(d,i.current)}catch(e){n=e,h=e}n||(h=null),e===o.current?s.current||u():(o.current=e,a.current=e,s.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};return n.onStateChange=d,n.trySubscribe(),d(),function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}}var Ke=function(){return[null,0]};function He(e,n){void 0===n&&(n={});var r=n,i=r.getDisplayName,o=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,s=r.methodName,a=void 0===s?"connectAdvanced":s,u=r.renderCountProp,c=void 0===u?void 0:u,l=r.shouldHandleStateChanges,h=void 0===l||l,d=r.storeKey,f=void 0===d?"store":d,p=(r.withRef,r.forwardRef),m=void 0!==p&&p,g=r.context,y=void 0===g?Ae:g,v=D(r,Fe),w=y;return function(n){var r=n.displayName||n.name||"Component",i=o(r),s=P({},v,{getDisplayName:o,methodName:a,renderCountProp:c,shouldHandleStateChanges:h,storeKey:f,displayName:i,wrappedComponentName:r,WrappedComponent:n}),u=v.pure,l=u?t.useMemo:function(e){return e()};function d(r){var i=(0,t.useMemo)((function(){var e=r.reactReduxForwardedRef,t=D(r,Ue);return[r.context,e,t]}),[r]),o=i[0],a=i[1],u=i[2],c=(0,t.useMemo)((function(){return o&&o.Consumer&&(0,he.isContextConsumer)(t.createElement(o.Consumer,null))?o:w}),[o,w]),d=(0,t.useContext)(c),f=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(d)&&Boolean(d.store);var p=f?r.store:d.store,m=(0,t.useMemo)((function(){return function(t){return e(t.dispatch,s)}(p)}),[p]),g=(0,t.useMemo)((function(){if(!h)return Ve;var e=Re(p,f?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[p,f,d]),y=g[0],v=g[1],b=(0,t.useMemo)((function(){return f?d:P({},d,{subscription:y})}),[f,d,y]),_=(0,t.useReducer)(ze,je,Ke),E=_[0][0],S=_[1];if(E&&E.error)throw E.error;var I=(0,t.useRef)(),k=(0,t.useRef)(u),T=(0,t.useRef)(),x=(0,t.useRef)(!1),N=l((function(){return T.current&&u===k.current?T.current:m(p.getState(),u)}),[p,E,u]);Be(qe,[k,I,x,u,N,T,v]),Be($e,[h,p,y,m,k,I,x,T,v,S],[p,y,m]);var C=(0,t.useMemo)((function(){return t.createElement(n,P({},N,{ref:a}))}),[a,n,N]);return(0,t.useMemo)((function(){return h?t.createElement(c.Provider,{value:b},C):C}),[c,C,b])}var p=u?t.memo(d):d;if(p.WrappedComponent=n,p.displayName=d.displayName=i,m){var g=t.forwardRef((function(e,n){return t.createElement(p,P({},e,{reactReduxForwardedRef:n}))}));return g.displayName=i,g.WrappedComponent=n,fe()(g,n)}return fe()(p,n)}}function We(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Ge(e,t){if(We(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!We(e[n[i]],t[n[i]]))return!1;return!0}function Qe(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function Ye(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Je(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Ye(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=Ye(i),i=r(t,n)),i},r}}const Ze=[function(e){return"function"==typeof e?Je(e):void 0},function(e){return e?void 0:Qe((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?Qe((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"==typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}],Xe=[function(e){return"function"==typeof e?Je(e):void 0},function(e){return e?void 0:Qe((function(){return{}}))}];function et(e,t,n){return P({},n,e,t)}const tt=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,s=!1;return function(t,n,a){var u=e(t,n,a);return s?i&&o(u,r)||(r=u):(s=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return et}}];var nt=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function rt(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function it(e,t,n,r,i){var o,s,a,u,c,l=i.areStatesEqual,h=i.areOwnPropsEqual,d=i.areStatePropsEqual,f=!1;return function(i,p){return f?function(i,f){var p,m,g=!h(f,s),y=!l(i,o);return o=i,s=f,g&&y?(a=e(o,s),t.dependsOnOwnProps&&(u=t(r,s)),c=n(a,u,s)):g?(e.dependsOnOwnProps&&(a=e(o,s)),t.dependsOnOwnProps&&(u=t(r,s)),c=n(a,u,s)):y?(p=e(o,s),m=!d(p,a),a=p,m&&(c=n(a,u,s)),c):c}(i,p):(a=e(o=i,s=p),u=t(r,s),c=n(a,u,s),f=!0,c)}}function ot(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=D(t,nt),s=n(e,o),a=r(e,o),u=i(e,o);return(o.pure?it:rt)(s,a,u,e,o)}var st=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function at(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function ut(e,t){return e===t}function ct(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?He:n,i=t.mapStateToPropsFactories,o=void 0===i?Xe:i,s=t.mapDispatchToPropsFactories,a=void 0===s?Ze:s,u=t.mergePropsFactories,c=void 0===u?tt:u,l=t.selectorFactory,h=void 0===l?ot:l;return function(e,t,n,i){void 0===i&&(i={});var s=i,u=s.pure,l=void 0===u||u,d=s.areStatesEqual,f=void 0===d?ut:d,p=s.areOwnPropsEqual,m=void 0===p?Ge:p,g=s.areStatePropsEqual,y=void 0===g?Ge:g,v=s.areMergedPropsEqual,w=void 0===v?Ge:v,b=D(s,st),_=at(e,o,"mapStateToProps"),E=at(t,a,"mapDispatchToProps"),S=at(n,c,"mergeProps");return r(h,P({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:E,initMergeProps:S,pure:l,areStatesEqual:f,areOwnPropsEqual:m,areStatePropsEqual:y,areMergedPropsEqual:w},b))}}const lt=ct();var ht;function dt(e,t){return e===t}function ft(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}function pt(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}ht=r.unstable_batchedUpdates,Oe=ht;var mt=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=0,s=r.pop(),a=pt(r),u=e.apply(void 0,[function(){return o++,s.apply(null,arguments)}].concat(n)),c=e((function(){for(var e=[],t=a.length,n=0;n<t;n++)e.push(a[n].apply(null,arguments));return u.apply(null,e)}));return c.resultFunc=s,c.dependencies=a,c.recomputations=function(){return o},c.resetRecomputations=function(){return o=0},c}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt,n=null,r=null;return function(){return ft(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}));function gt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mt;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}))}var yt=mt((function(e){return e.main}),(function(e){return e.sections})),vt=["id"];const wt=lt(gt({sections:yt}))((function(e){var n=e.sections;return t.createElement("div",{className:"menu"},n.map((function(e){var n=e.id,r=R(e,vt);return t.createElement(Ce,P({key:n},r))})))})),bt=function(){return t.createElement("div",{className:"homepage"},t.createElement(wt,null))};var _t=n(336),Et={};Et.styleTagTransform=C(),Et.setAttributes=k(),Et.insert=S().bind(null,"head"),Et.domAPI=_(),Et.insertStyleElement=x(),w()(_t.Z,Et),_t.Z&&_t.Z.locals&&_t.Z.locals;var St=function(e){return e.cart},It=mt([St],(function(e){return e.cartItems})),kt=mt([It],(function(e){return e.reduce((function(e,t){return e+t.quantity}),0)})),Tt=mt(St,(function(e){return e.hidden})),xt=mt(It,(function(e){return e.reduce((function(e,t){return e+t.quantity*t.price}),0)})),Nt=n(216),Ct={};Ct.styleTagTransform=C(),Ct.setAttributes=k(),Ct.insert=S().bind(null,"head"),Ct.domAPI=_(),Ct.insertStyleElement=x(),w()(Nt.Z,Ct),Nt.Z&&Nt.Z.locals&&Nt.Z.locals;const At="HIDDEN_CART_TOGGLE",Ot="ADD_CART",Pt="DECREASE_ITEM",Dt="REMOVE_CART";var Rt=function(e){return{type:Ot,payload:e}};const Lt=function(){return{type:At}},Mt=lt(null,(function(e){return{removeItems:function(t){return e(function(e){return{type:Dt,payload:e}}(t))},decreaseItems:function(t){return e(function(e){return{type:Pt,payload:e}}(t))},addItems:function(t){return e(Rt(t))}}}))((function(e){var n=e.cartItems,r=e.removeItems,i=e.decreaseItems,o=e.addItems,s=n.img,a=n.name,u=n.quantity,c=n.price;return t.createElement("div",{className:"check-out-items"},t.createElement("div",{className:"image-container"},t.createElement("img",{src:s,alt:"items"})),t.createElement("span",{className:"name"},a),t.createElement("span",{className:"quantity"},t.createElement("div",{className:"arrow",onClick:function(){return i(n)}},"❮"),t.createElement("span",{className:"value"}," ",u),t.createElement("div",{className:"arrow",onClick:function(){return o(n)}},"❯")),t.createElement("span",{className:"price"},c),t.createElement("div",{className:"remove-btn",onClick:function(){return r(n)}},"✕"))}));var Ft=n(2052);const Ut=function(e){var n=e.price,r=100*n;return t.createElement(Ft.Z,{label:"pay now",name:"CRWN Grooming LTD.",billingAddress:!0,shippingAddress:!0,image:"https://i.pinimg.com/originals/0d/10/02/0d1002b06bf2b1d92b98464df5128e9e.png",description:"your total is $ ".concat(n),amount:r,panelLabel:"Pay Now",token:function(e){alert("payment successful")},stripeKey:"pk_test_51Jc0CqBCel5D8ubHIp9trfndBFUSwobU0xDnvOVGCyBwlCAdUrn04wA8lb7r7OiG7FgEVFnQZiwX8PK9fZAGrzsV00zUEsAkUE"})},jt=lt(gt({cartItems:It,total:xt}))((function(e){var n=e.cartItems,r=e.total;return t.createElement("div",{className:"checkout-page"},t.createElement("div",{className:"header-checkout"},t.createElement("div",{className:"header-block"},t.createElement("span",null,"Product")),t.createElement("div",{className:"header-block"},t.createElement("span",null,"Description")),t.createElement("div",{className:"header-block"},t.createElement("span",null,"Quantity")),t.createElement("div",{className:"header-block"},t.createElement("span",null,"Price")),t.createElement("div",{className:"header-block"},t.createElement("span",null,"Remove"))),n.map((function(e){return t.createElement(Mt,{key:e.id,cartItems:e})})),t.createElement("div",{className:"total-items"},t.createElement("span",null," Total:$",r)),t.createElement("div",{className:"test-warning"},"* Please use the following test credit cards for payments *",t.createElement("br",null),"4242 4242 4242 4242 - exp:1/23 - cvv :123"),t.createElement(Ut,{price:r}))}));var Vt=n(4971),zt={};zt.styleTagTransform=C(),zt.setAttributes=k(),zt.insert=S().bind(null,"head"),zt.domAPI=_(),zt.insertStyleElement=x(),w()(Vt.Z,zt),Vt.Z&&Vt.Z.locals&&Vt.Z.locals;var Bt=n(3047),qt={};qt.styleTagTransform=C(),qt.setAttributes=k(),qt.insert=S().bind(null,"head"),qt.domAPI=_(),qt.insertStyleElement=x(),w()(Bt.Z,qt),Bt.Z&&Bt.Z.locals&&Bt.Z.locals;var $t=n(2364),Kt={};Kt.styleTagTransform=C(),Kt.setAttributes=k(),Kt.insert=S().bind(null,"head"),Kt.domAPI=_(),Kt.insertStyleElement=x(),w()($t.Z,Kt),$t.Z&&$t.Z.locals&&$t.Z.locals;var Ht=["child","isGoogleIn","Isinverted"];const Wt=function(e){var n=e.child,r=e.isGoogleIn,i=e.Isinverted,o=R(e,Ht);return t.createElement("button",P({className:"".concat(i?"inverted":""," ").concat(r?"google-sign-in":""," custom-btn")},o),n)},Gt=lt(null,(function(e){return{addItems:function(t){return e(Rt(t))}}}))((function(e){var n=e.items,r=e.addItems,i=n.name,o=n.img,s=n.price;return t.createElement("div",{className:"collection-items"},t.createElement("div",{className:"img",style:{backgroundImage:"url(".concat(o,")")}}),Number.isInteger(s)?t.createElement("div",{className:"collection-footer"},t.createElement("span",{className:"name"},i),t.createElement("span",{className:"price"},"$",s)):t.createElement("div",{className:"collection-footer"},t.createElement("span",{className:"name"},i),t.createElement("span",{className:"price"},s)),t.createElement(Wt,{child:"Add to Cart",onClick:function(){return r(n)},Isinverted:!0}))})),Qt=function(e){var n=e.title,r=e.items;return t.createElement("div",{className:"prev-collections"},t.createElement("h1",{className:"title"},n),t.createElement("div",{className:"prev"},r.filter((function(e,t){return t<4})).map((function(e){return t.createElement(Gt,{key:e.id,items:e})}))))};var Yt=n(2199),Jt={};Jt.styleTagTransform=C(),Jt.setAttributes=k(),Jt.insert=S().bind(null,"head"),Jt.domAPI=_(),Jt.insertStyleElement=x(),w()(Yt.Z,Jt),Yt.Z&&Yt.Z.locals&&Yt.Z.locals;var Zt=mt((function(e){return e.shop}),(function(e){return e.collections})),Xt=mt(Zt,(function(e){return Object.keys(e).map((function(t){return e[t]}))})),en=["id","title"];const tn=lt(gt({collections:Xt}))((function(e){var n=e.collections;return console.log(n),t.createElement("div",{className:"collections-container"},t.createElement("h1",{style:{fontSize:"50px"}},"Collections"),n.map((function(e){var n=e.id,r=e.title,i=R(e,en);return console.log(r),t.createElement(Qt,P({key:n},i))})))}));var nn=n(6711),rn={};rn.styleTagTransform=C(),rn.setAttributes=k(),rn.insert=S().bind(null,"head"),rn.domAPI=_(),rn.insertStyleElement=x(),w()(nn.Z,rn),nn.Z&&nn.Z.locals&&nn.Z.locals;const on=lt((function(e,t){return{collection:(n=t.match.params.collectionsId,mt(Zt,(function(e){return e[n]})))(e)};var n}))((function(e){var n=e.collection,r=n.title,i=n.items;return t.createElement("div",{className:"collections-page"},t.createElement("h2",{className:"title"},r),t.createElement("div",{className:"items-container"},i.map((function(e){return t.createElement(Gt,{key:e.id,items:e})}))))})),sn=function(e){var n=e.match;return t.createElement("div",{className:"collections-container"},t.createElement(Te,{exact:!0,path:"".concat(n.path),component:tn}),t.createElement(Te,{path:"".concat(n.path,"/:collectionsId"),component:on}))};var an=n(4149),un={};un.styleTagTransform=C(),un.setAttributes=k(),un.insert=S().bind(null,"head"),un.domAPI=_(),un.insertStyleElement=x(),w()(an.Z,un),an.Z&&an.Z.locals&&an.Z.locals;var cn=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=ie(t.props),t}return j(n,e),n.prototype.render=function(){return t.createElement(ye,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var ln=function(e,t){return"function"==typeof e?e(t):e},hn=function(e,t){return"string"==typeof e?J(e,null,null,t):e},dn=function(e){return e},fn=t.forwardRef;void 0===fn&&(fn=dn);var pn=fn((function(e,n){var r=e.innerRef,i=e.navigate,o=e.onClick,s=D(e,["innerRef","navigate","onClick"]),a=s.target,u=P({},s,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||a&&"_self"!==a||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return u.ref=dn!==fn&&n||r,t.createElement("a",u)})),mn=fn((function(e,n){var r=e.component,i=void 0===r?pn:r,o=e.replace,s=e.to,a=e.innerRef,u=D(e,["component","replace","to","innerRef"]);return t.createElement(ge.Consumer,null,(function(e){e||H(!1);var r=e.history,c=hn(ln(s,e.location),e.location),l=c?r.createHref(c):"",h=P({},u,{href:l,navigate:function(){var t=ln(s,e.location),n=Y(e.location)===Y(hn(t));(o||n?r.replace:r.push)(t)}});return dn!==fn?h.ref=n||a:h.innerRef=a,t.createElement(i,h)}))})),gn=function(e){return e},yn=t.forwardRef;void 0===yn&&(yn=gn),yn((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,o=e.activeClassName,s=void 0===o?"active":o,a=e.activeStyle,u=e.className,c=e.exact,l=e.isActive,h=e.location,d=e.sensitive,f=e.strict,p=e.style,m=e.to,g=e.innerRef,y=D(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(ge.Consumer,null,(function(e){e||H(!1);var r=h||e.location,o=hn(ln(m,r),r),v=o.pathname,w=v&&v.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),b=w?ke(r.pathname,{path:w,exact:c,sensitive:d,strict:f}):null,_=!!(l?l(b,r):b),E="function"==typeof u?u(_):u,S="function"==typeof p?p(_):p;_&&(E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(E,s),S=P({},S,a));var I=P({"aria-current":_&&i||null,className:E,style:S,to:o},y);return gn!==yn?I.ref=n||g:I.innerRef=g,t.createElement(mn,I)}))}));var vn=n(8657),wn=n.n(vn),bn=function(e,t){return(bn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},_n=function(){return(_n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function En(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Sn(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function In(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function kn(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create;var Tn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},xn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|a>>4,d=(15&a)<<2|c>>6,f=63&c;u||(f=64,s||(d=64)),r.push(n[l],n[h],n[d],n[f])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Tn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{o=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var l=s<<4&240|a>>2;if(r.push(l),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Nn=function(e){return function(e){var t=Tn(e);return xn.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function Cn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Cn(e[n],t[n]));return e}var An=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function On(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Pn(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function Dn(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Rn(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function Ln(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Mn(){var e=On();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Fn(){return"indexedDB"in self&&null!=indexedDB}var Un=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,jn.prototype.create),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}bn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),jn=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?Vn(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new Un(i,a,r);return u},e}();function Vn(e,t){return e.replace(zn,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var zn=/\{\$([^}]+)}/g;function Bn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var s=o[i];if(!r.includes(s))return!1;var a=e[s],u=t[s];if($n(a)&&$n(u)){if(!qn(a,u))return!1}else if(a!==u)return!1}for(var c=0,l=r;c<l.length;c++)if(s=l[c],!n.includes(s))return!1;return!0}function $n(e){return null!==e&&"object"==typeof e}function Kn(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function Hn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Wn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Gn(e,t){var n=new Qn(e,t);return n.subscribe.bind(n)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=l^u&(c^l),s=1518500249):(o=u^c^l,s=1859775393):r<60?(o=u&c|l&(u|c),s=2400959708):(o=u^c^l,s=3395469782),i=(a<<5|a>>>27)+o+h+s+n[r]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=a,a=i;this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();var Qn=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=Yn),void 0===r.error&&(r.error=Yn),void 0===r.complete&&(r.complete=Yn);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function Yn(){}function Jn(e){return e&&e._delegate?e._delegate:e}var Zn,Xn=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),er="[DEFAULT]",tr=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new An;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:er})}catch(e){}try{for(var r=Sn(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=In(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=er),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var e;return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(kn(kn([],In(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),In(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=er),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=er),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var a=Sn(this.instancesDeferred.entries()),u=a.next();!u.done;u=a.next()){var c=In(u.value,2),l=c[0],h=c[1];o===this.normalizeInstanceIdentifier(l)&&h.resolve(s)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=Sn(i),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===er?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(e){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=er),this.component?this.component.multipleInstances?e:er:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),nr=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new tr(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function rr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var ir,or=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ir||(ir={}));var sr={debug:ir.DEBUG,verbose:ir.VERBOSE,info:ir.INFO,warn:ir.WARN,error:ir.ERROR,silent:ir.SILENT},ar=ir.INFO,ur=((Zn={})[ir.DEBUG]="log",Zn[ir.VERBOSE]="log",Zn[ir.INFO]="info",Zn[ir.WARN]="warn",Zn[ir.ERROR]="error",Zn),cr=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=ur[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,rr(["["+i+"]  "+e.name+":"],n))}},lr=function(){function e(e){this.name=e,this._logLevel=ar,this._logHandler=cr,this._userLogHandler=null,or.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in ir))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?sr[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,rr([this,ir.DEBUG],e)),this._logHandler.apply(this,rr([this,ir.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,rr([this,ir.VERBOSE],e)),this._logHandler.apply(this,rr([this,ir.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,rr([this,ir.INFO],e)),this._logHandler.apply(this,rr([this,ir.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,rr([this,ir.WARN],e)),this._logHandler.apply(this,rr([this,ir.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,rr([this,ir.ERROR],e)),this._logHandler.apply(this,rr([this,ir.ERROR],e))},e}();class hr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const dr="@firebase/app",fr=new lr("@firebase/app"),pr="[DEFAULT]",mr={[dr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gr=new Map,yr=new Map;function vr(e,t){try{e.container.addComponent(t)}catch(n){fr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function wr(e,t){e.container.addOrOverwriteComponent(t)}function br(e){const t=e.name;if(yr.has(t))return fr.debug(`There were multiple attempts to register component ${t}.`),!1;yr.set(t,e);for(const t of gr.values())vr(t,e);return!0}function _r(e,t){return e.container.getProvider(t)}function Er(e,t,n=pr){_r(e,t).clearInstance(n)}function Sr(){yr.clear()}const Ir=new jn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class kr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Xn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}const Tr="9.0.0";function xr(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:pr,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw Ir.create("bad-app-name",{appName:String(r)});const i=gr.get(r);if(i){if(qn(e,i.options)&&qn(n,i.config))return i;throw Ir.create("duplicate-app",{appName:r})}const o=new nr(r);for(const e of yr.values())o.addComponent(e);const s=new kr(e,n,o);return gr.set(r,s),s}function Nr(e=pr){const t=gr.get(e);if(!t)throw Ir.create("no-app",{appName:e});return t}function Cr(){return Array.from(gr.values())}async function Ar(e){const t=e.name;gr.has(t)&&(gr.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Or(e,t,n){var r;let i=null!==(r=mr[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void fr.warn(e.join(" "))}br(new Xn(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function Pr(e,t){if(null!==e&&"function"!=typeof e)throw Ir.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=sr[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:ir[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=or;r<i.length;r++)n(i[r])}(e,t)}function Dr(e){var t;t=e,or.forEach((function(e){e.setLogLevel(t)}))}br(new Xn("platform-logger",(e=>new hr(e)),"PRIVATE")),Or(dr,"0.7.0",undefined),Or("fire-js","");class Rr{constructor(e,t){this._delegate=e,this.firebase=t,vr(e,new Xn("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Ar(this._delegate))))}_getService(e,t=pr){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=pr){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){vr(this._delegate,e)}_addOrOverwriteComponent(e){wr(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Lr=new jn("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Mr=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e,i={}){const o=xr(e,i);if(Bn(n,o.name))return n[o.name];const s=new t(o,r);return n[o.name]=s,s},app:i,registerVersion:Or,setLogLevel:Dr,onLog:Pr,apps:null,SDK_VERSION:Tr,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(br(e)&&"PUBLIC"===e.type){const s=(e=i())=>{if("function"!=typeof e[o])throw Lr.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&Cn(s,e.serviceProps),r[o]=s,t.prototype[o]=function(...t){return this._getService.bind(this,n).apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Bn(n,e=e||pr))throw Lr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Rr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Cn(n,e)},createSubscribe:Gn,ErrorFactory:jn,deepExtend:Cn}),n}(),Fr=new lr("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Fr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Fr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ur=Mr;Or("@firebase/app-compat","0.1.1",void 0);const jr=Ur;jr.registerVersion("firebase","9.0.1","app-compat");const Vr=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},zr=new jn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Br=new lr("@firebase/auth");function qr(e,...t){Br.logLevel<=ir.ERROR&&Br.error(`Auth (${Tr}): ${e}`,...t)}function $r(e,...t){throw Hr(e,...t)}function Kr(e,...t){return Hr(e,...t)}function Hr(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return zr.create(e,...t)}function Wr(e,t,...n){if(!e)throw Hr(t,...n)}function Gr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw qr(t),new Error(t)}function Qr(e,t){e||Gr(t)}const Yr=new Map;function Jr(e){Qr(e instanceof Function,"Expected a class definition");let t=Yr.get(e);return t?(Qr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Yr.set(e,t),t)}function Zr(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Xr(){return"http:"===ei()||"https:"===ei()}function ei(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ti{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qr(t>e,"Short delay should be less than long delay!"),this.isMobile=Pn()||Ln()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Xr()||Rn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ni(e,t){Qr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class ri{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ii={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},oi=new ti(3e4,6e4);function si(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ai(e,t,n,r,i={}){return ui(e,i,(()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Kn(Object.assign({key:e.config.apiKey},o)).slice(1),a=new(ri.headers());return a.set("Content-Type","application/json"),a.set("X-Client-Version",e._getSdkClientVersion()),e.languageCode&&a.set("X-Firebase-Locale",e.languageCode),ri.fetch()(li(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function ui(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ii),t);try{const t=new hi(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw di(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=(i.ok?o.errorMessage:o.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw di(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===t)throw di(e,"email-already-in-use",o);$r(e,r[t]||t.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(t){if(t instanceof Un)throw t;$r(e,"network-request-failed")}}async function ci(e,t,n,r,i={}){const o=await ai(e,t,n,r,i);return"mfaPendingCredential"in o&&$r(e,"multi-factor-auth-required",{serverResponse:o}),o}function li(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?ni(e.config,i):`${e.config.apiScheme}://${i}`}class hi{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Kr(this.auth,"timeout"))),oi.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function di(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kr(e,t,r);return i.customData._tokenResponse=n,i}function fi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function pi(e){return 1e3*Number(e)}function mi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return qr("JWT malformed, contained fewer than 3 sections"),null;try{const e=function(e){try{return xn.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return e?JSON.parse(e):(qr("Failed to decode base64 JWT payload"),null)}catch(e){return qr("Caught error parsing JWT payload as JSON",e),null}}async function gi(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof Un&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class yi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class vi{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fi(this.lastLoginAt),this.creationTime=fi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function wi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await gi(e,async function(e,t){return ai(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Wr(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=En(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],a=(u=e.providerData,c=s,[...u.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var u,c;const l=e.isAnonymous,h=!(e.email&&o.passwordHash||(null==a?void 0:a.length)),d=!!l&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new vi(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class bi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Wr(e.idToken,"internal-error"),Wr(void 0!==e.idToken,"internal-error"),Wr(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=mi(e);return Wr(t,"internal-error"),Wr(void 0!==t.exp,"internal-error"),Wr(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Wr(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ui(e,{},(()=>{const n=Kn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=li(e,r,"/v1/token",`key=${i}`);return ri.fetch()(o,{method:"POST",headers:{"X-Client-Version":e._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new bi;return n&&(Wr("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Wr("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Wr("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bi,this.toJSON())}_performRefresh(){return Gr("not implemented")}}function _i(e,t){Wr("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Ei{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=En(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new yi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.metadata=new vi(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await gi(this,this.stsTokenManager.getToken(this.auth,e));return Wr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Jn(e),r=await n.getIdToken(t),i=mi(r);Wr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:fi(pi(i.auth_time)),issuedAtTime:fi(pi(i.iat)),expirationTime:fi(pi(i.exp)),signInProvider:s||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Jn(e);await wi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Wr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Wr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await wi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await gi(this,async function(e,t){return ai(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,u,c;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(u=t.createdAt)&&void 0!==u?u:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:E}=t;Wr(v&&E,e,"internal-error");const S=bi.fromJSON(this.name,E);Wr("string"==typeof v,e,"internal-error"),_i(l,e.name),_i(h,e.name),Wr("boolean"==typeof w,e,"internal-error"),Wr("boolean"==typeof b,e,"internal-error"),_i(d,e.name),_i(f,e.name),_i(p,e.name),_i(m,e.name),_i(g,e.name),_i(y,e.name);const I=new Ei({uid:v,auth:e,email:h,emailVerified:w,displayName:l,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(I.providerData=_.map((e=>Object.assign({},e)))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t,n=!1){const r=new bi;r.updateFromServerResponse(t);const i=new Ei({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await wi(i),i}}class Si{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Si.type="NONE";const Ii=Si;function ki(e,t,n){return`firebase:${e}:${t}:${n}`}class Ti{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ki(this.userKey,r.apiKey,i),this.fullPersistenceKey=ki("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ei._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Ti(Jr(Ii),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Jr(Ii);const o=ki(n,e.config.apiKey,e.name);let s=null;for(const n of t)try{const t=await n._get(o);if(t){const r=Ei._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(e){}}))),new Ti(i,e,n)):new Ti(i,e,n)}}function xi(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Oi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ni(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Di(t))return"Blackberry";if(Ri(t))return"Webos";if(Ci(t))return"Safari";if((t.includes("chrome/")||Ai(t))&&!t.includes("edge/"))return"Chrome";if(Pi(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Ni(e=On()){return/firefox\//i.test(e)}function Ci(e=On()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ai(e=On()){return/crios\//i.test(e)}function Oi(e=On()){return/iemobile/i.test(e)}function Pi(e=On()){return/android/i.test(e)}function Di(e=On()){return/blackberry/i.test(e)}function Ri(e=On()){return/webos/i.test(e)}function Li(e=On()){return/iphone|ipad|ipod/i.test(e)}function Mi(e=On()){return Li(e)||Pi(e)||Ri(e)||Di(e)||/windows phone/i.test(e)||Oi(e)}function Fi(e,t=[]){let n;switch(e){case"Browser":n=xi(On());break;case"Worker":n=`${xi(On())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tr}/${r}`}class Ui{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vi(this),this.idTokenSubscription=new Vi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Jr(t)),this._initializationPromise=this.queue((async()=>{var n;this._deleted||(this.persistenceManager=await Ti.create(this,e),this._deleted||((null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)&&await this._popupRedirectResolver._initialize(this),await this.initializeCurrentUser(t),this._deleted||(this._isInitialized=!0)))})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==n?void 0:n._redirectEventId,o=await this.tryRedirectSignIn(e);r&&r!==i||!(null==o?void 0:o.user)||(n=o.user)}return n?n._redirectEventId?(Wr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await wi(e)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Jn(e):null;return t&&Wr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&Wr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Jr(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Jr(e)||this._popupRedirectResolver;Wr(t,this,"argument-error"),this.redirectPersistenceManager=await Ti.create(this,[Jr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Wr(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Wr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function ji(e){return Jn(e)}class Vi{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gn((e=>this.observer=e))}get next(){return Wr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zi(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Bi(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class qi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,t){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}async function $i(e,t){return ai(e,"POST","/v1/accounts:resetPassword",si(e,t))}async function Ki(e,t){return ai(e,"POST","/v1/accounts:update",t)}async function Hi(e,t){return ai(e,"POST","/v1/accounts:sendOobCode",si(e,t))}class Wi extends qi{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Wi(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Wi(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return ci(e,"POST","/v1/accounts:signInWithPassword",si(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return ci(e,"POST","/v1/accounts:signInWithEmailLink",si(e,t))}(e,{email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ki(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return ci(e,"POST","/v1/accounts:signInWithEmailLink",si(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Gi(e,t){return ci(e,"POST","/v1/accounts:signInWithIdp",si(e,t))}class Qi extends qi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$r("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=En(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Qi(n,r);return Object.assign(o,i),o}_getIdTokenResponse(e){return Gi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Gi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Gi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Kn(t)}return e}}const Yi={USER_NOT_FOUND:"user-not-found"};class Ji extends qi{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ji({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ji({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return ci(e,"POST","/v1/accounts:signInWithPhoneNumber",si(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await ci(e,"POST","/v1/accounts:signInWithPhoneNumber",si(e,t));if(n.temporaryProof)throw di(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return ci(e,"POST","/v1/accounts:signInWithPhoneNumber",si(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Yi)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ji({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Zi{constructor(e){var t,n,r,i,o,s;const a=Hn(Wn(e)),u=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,l=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Wr(u&&c&&l,"argument-error"),this.apiKey=u,this.operation=l,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Hn(Wn(e)).link,n=t?Hn(Wn(t)).deep_link_id:null,r=Hn(Wn(e)).deep_link_id;return(r?Hn(Wn(r)).link:null)||r||n||t||e}(e);try{return new Zi(t)}catch(e){return null}}}class Xi{constructor(){this.providerId=Xi.PROVIDER_ID}static credential(e,t){return Wi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Zi.parseLink(t);return Wr(n,"argument-error"),Wi._fromEmailAndCode(e,n.code,n.tenantId)}}Xi.PROVIDER_ID="password",Xi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Xi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class eo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class to extends eo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class no extends to{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return Wr("providerId"in t&&"signInMethod"in t,"argument-error"),Qi._fromParams(t)}credential(e){return this._credential(e)}_credential(e){return Wr(e.idToken||e.accessToken,"argument-error"),Qi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return no.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return no.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:o,providerId:s}=e;if(!(n||r||t||i))return null;if(!s)return null;try{return new no(s)._credential({idToken:t,accessToken:n,rawNonce:o,pendingToken:i})}catch(e){return null}}}class ro extends to{constructor(){super("facebook.com")}static credential(e){return Qi._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch(e){return null}}}ro.FACEBOOK_SIGN_IN_METHOD="facebook.com",ro.PROVIDER_ID="facebook.com";class io extends to{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qi._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return io.credential(t,n)}catch(e){return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com",io.PROVIDER_ID="google.com";class oo extends to{constructor(){super("github.com")}static credential(e){return Qi._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch(e){return null}}}oo.GITHUB_SIGN_IN_METHOD="github.com",oo.PROVIDER_ID="github.com";class so extends qi{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Gi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Gi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Gi(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new so(n,i):null}static _create(e,t){return new so(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ao extends to{constructor(){super("twitter.com")}static credential(e,t){return Qi._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return ao.credential(t,n)}catch(e){return null}}}async function uo(e,t){return ci(e,"POST","/v1/accounts:signUp",si(e,t))}ao.TWITTER_SIGN_IN_METHOD="twitter.com",ao.PROVIDER_ID="twitter.com";class co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await Ei._fromIdTokenResponse(e,n,r),o=lo(n);return new co({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=lo(n);return new co({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function lo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ho extends Un{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,this.name="FirebaseError",Object.setPrototypeOf(this,ho.prototype),this.appName=e.name,this.code=t.code,this.tenantId=null!==(i=e.tenantId)&&void 0!==i?i:void 0,this.serverResponse=t.customData.serverResponse}static _fromErrorAndOperation(e,t,n,r){return new ho(e,t,n,r)}}function fo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw ho._fromErrorAndOperation(e,n,t,r);throw n}))}function po(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function mo(e,t,n=!1){const r=await gi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return co._forOperation(e,"link",r)}async function go(e,t,n){await wi(t);const r=!1===e?"provider-already-linked":"no-such-provider";Wr(po(t.providerData).has(n)===e,t.auth,r)}async function yo(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await gi(e,fo(r,i,t,e),n);Wr(o.idToken,r,"internal-error");const s=mi(o.idToken);Wr(s,r,"internal-error");const{sub:a}=s;return Wr(e.uid===a,r,"user-mismatch"),co._forOperation(e,i,o)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&$r(r,"user-mismatch"),e}}async function vo(e,t,n=!1){const r="signIn",i=await fo(e,r,t),o=await co._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function wo(e,t){return vo(ji(e),t)}async function bo(e,t){const n=Jn(e);return await go(!1,n,t.providerId),mo(n,t)}async function _o(e,t){return yo(Jn(e),t)}class Eo{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?So._fromServerResponse(e,t):$r(e,"internal-error")}}class So extends Eo{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new So(t)}}function Io(e,t,n){var r;Wr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Wr(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Wr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iosBundleId=n.iOS.bundleId),n.android&&(Wr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function ko(e,t){const n=Jn(e),r=await $i(n,{oobCode:t}),i=r.requestType;switch(Wr(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Wr(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Wr(r.mfaInfo,n,"internal-error");default:Wr(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Eo._fromServerResponse(ji(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function To(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await gi(e,Ki(r,i));await e._updateTokensIfNecessary(o,!0)}class xo{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class No extends xo{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Co extends xo{constructor(e,t){super(e,"facebook.com",t)}}class Ao extends No{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class Oo extends xo{constructor(e,t){super(e,"google.com",t)}}class Po extends No{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Do(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=mi(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new xo(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Co(o,i);case"github.com":return new Ao(o,i);case"google.com":return new Oo(o,i);case"twitter.com":return new Po(o,i,e.screenName||null);case"custom":case"anonymous":return new xo(o,null);default:return new xo(o,r,i)}}(n)}class Ro{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new Ro("enroll",e)}static _fromMfaPendingCredential(e){return new Ro("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Ro._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Ro._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Lo{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=ji(e),r=(t.serverResponse.mfaInfo||[]).map((e=>Eo._fromServerResponse(n,e)));Wr(t.serverResponse.mfaPendingCredential,n,"internal-error");const i=Ro._fromMfaPendingCredential(t.serverResponse.mfaPendingCredential);return new Lo(i,r,(async e=>{const r=await e._process(n,i);delete t.serverResponse.mfaInfo,delete t.serverResponse.mfaPendingCredential;const o=Object.assign(Object.assign({},t.serverResponse),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=await co._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Wr(t.user,n,"internal-error"),co._forOperation(t.user,t.operationType,o);default:$r(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Mo{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Eo._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Mo(e)}async getSession(){return Ro._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,r=await this.getSession(),i=await gi(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken(),r=await gi(this.user,function(e,t){return ai(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:e.tenantId},t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(e){if("auth/user-token-expired"!==e.code)throw e}}}const Fo=new WeakMap,Uo="__sak";class jo{constructor(e,t){this.storage=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Uo,"1"),this.storage.removeItem(Uo),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}}class Vo extends jo{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=On();return Ci(e)||Li(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Mi(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Mn()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vo.type="LOCAL";const zo=Vo;class Bo extends jo{constructor(){super(window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Bo.type="SESSION";const qo=Bo;class $o{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new $o(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ko(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}$o.receivers=[];class Ho{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const u=Ko("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===u)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Wo(){return window}function Go(){return void 0!==Wo().WorkerGlobalScope&&"function"==typeof Wo().importScripts}const Qo="firebaseLocalStorageDb",Yo="firebaseLocalStorage",Jo="fbase_key";class Zo{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Xo(e,t){return e.transaction([Yo],t?"readwrite":"readonly").objectStore(Yo)}function es(){const e=indexedDB.open(Qo,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Yo,{keyPath:Jo})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Yo)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Qo);return new Zo(e).toPromise()}(),t(await es()))}))}))}async function ts(e,t,n){const r=Xo(e,!0).put({[Jo]:t,value:n});return new Zo(r).toPromise()}function ns(e,t){const n=Xo(e,!0).delete(t);return new Zo(n).toPromise()}class rs{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await es()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Go()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$o._getInstance(Go()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ho(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await es();return await ts(e,Uo,"1"),await ns(e,Uo),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>ts(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Xo(e,!1).get(t),r=await new Zo(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ns(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Xo(e,!1).getAll();return new Zo(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}rs.type="LOCAL";const is=rs;function os(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Kr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ss(e){return`__${e}${Math.floor(1e6*Math.random())}`}const as=1e12;class us{constructor(e){this.auth=e,this.counter=as,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new cs(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||as;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||as;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||as;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class cs{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;Wr(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let e=0;e<50;e++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ls=ss("rcb"),hs=new ti(3e4,6e4);class ds{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Wo().grecaptcha}load(e,t=""){return Wr(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Wo().grecaptcha):new Promise(((n,r)=>{const i=Wo().setTimeout((()=>{r(Kr(e,"network-request-failed"))}),hs.get());Wo()[ls]=()=>{Wo().clearTimeout(i),delete Wo()[ls];const o=Wo().grecaptcha;if(!o)return void r(Kr(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)},os(`https://www.google.com/recaptcha/api.js??${Kn({onload:ls,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(i),r(Kr(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Wo().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class fs{async load(e){return new us(e)}clearedOneInstance(){}}const ps="recaptcha",ms={theme:"light",type:"image"};class gs{constructor(e,t=Object.assign({},ms),n){this.parameters=t,this.type=ps,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ji(n),this.isInvisible="invisible"===this.parameters.size,Wr("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;Wr(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fs:new ds,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha();return t.getResponse(e)||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Wr(!this.parameters.sitekey,this.auth,"argument-error"),Wr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Wr("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"==typeof e)e(t);else if("string"==typeof e){const n=Wo()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){Wr(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Wr(Xr()&&!Go(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await ai(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Wr(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Wr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ys{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ji._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function vs(e,t,n){var r;const i=await n.verify();try{let o;if(Wr("string"==typeof i,e,"argument-error"),Wr(n.type===ps,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o)return Wr("enroll"===t.type,e,"internal-error"),(await function(e,t){return ai(e,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:e.tenantId},t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{Wr("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;return Wr(n,e,"missing-multi-factor-info"),(await function(e,t){return ai(e,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:e.tenantId},t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return ai(e,"POST","/v1/accounts:sendVerificationCode",si(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class ws{constructor(e){this.providerId=ws.PROVIDER_ID,this.auth=ji(e)}verifyPhoneNumber(e,t){return vs(this.auth,e,Jn(t))}static credential(e,t){return Ji._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ws.credentialFromTaggedObject(t)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Ji._fromTokenResponse(t,n):null}}function bs(e,t){return t?Jr(t):(Wr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ws.PROVIDER_ID="phone",ws.PHONE_SIGN_IN_METHOD="phone";class _s extends qi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Gi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Gi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Es(e){return vo(e.auth,new _s(e),e.bypassAuthState)}function Ss(e){const{auth:t,user:n}=e;return Wr(n,t,"internal-error"),yo(n,new _s(e),e.bypassAuthState)}async function Is(e){const{auth:t,user:n}=e;return Wr(n,t,"internal-error"),mo(n,new _s(e),e.bypassAuthState)}class ks{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Es;case"linkViaPopup":case"linkViaRedirect":return Is;case"reauthViaPopup":case"reauthViaRedirect":return Ss;default:$r(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ts=new ti(2e3,1e4);class xs extends ks{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Wr(e,this.auth,"internal-error"),e}async onExecution(){Qr(1===this.filter.length,"Popup operations only handle one event");const e=Ko();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Kr(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,Ts.get())};e()}}xs.currentPopupAction=null;const Ns=new Map;class Cs extends ks{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Ns.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ps(t),r="true"===await Os(e)._get(n);return await Os(e)._remove(n),r}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Ns.set(this.auth._key(),e)}return e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function As(e,t){return Os(e)._set(Ps(t),"true")}function Os(e){return Jr(e._redirectPersistence)}function Ps(e){return ki("pendingRedirect",e.config.apiKey,e.name)}async function Ds(e,t,n=!1){const r=ji(e),i=bs(r,t),o=new Cs(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function Rs(e){const t=Ko(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Ls{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Fs(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Kr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ms(e))}saveEventToCache(e){this.cachedEventUids.add(Ms(e)),this.lastProcessedEventTime=Date.now()}}function Ms(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Fs({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function Us(e,t={}){return ai(e,"GET","/v1/projects",t)}const js=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vs=/^https?/;function zs(e){const t=Zr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Vs.test(n))return!1;if(js.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Bs=new ti(3e4,6e4);function qs(){const e=Wo().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let $s=null;function Ks(e){return $s=$s||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){qs(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qs(),n(Kr(e,"network-request-failed"))},timeout:Bs.get()})}if(null===(i=null===(r=Wo().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Wo().gapi)||void 0===o?void 0:o.load)){const t=ss("iframefcb");return Wo()[t]=()=>{gapi.load?s():n(Kr(e,"network-request-failed"))},os(`https://apis.google.com/js/api.js?onload=${t}`)}s()}})).catch((e=>{throw $s=null,e}))}(e),$s}const Hs=new ti(5e3,15e3),Ws={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Gs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qs(e){const t=e.config;Wr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ni(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Tr},i=Gs.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Kn(r).slice(1)}`}const Ys={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Js{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Zs(e,t,n,r,i,o){Wr(e.config.authDomain,e,"auth-domain-config-required"),Wr(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Tr,eventId:i};if(t instanceof eo){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof to){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];return`${function({config:e}){return e.emulator?ni(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${Kn(a).slice(1)}`}const Xs="webStorageSupport";class ea extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Gr("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ea(e)}_finalizeEnroll(e,t,n){return function(e,t){return ai(e,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:e.tenantId},t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return ai(e,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:e.tenantId},t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}var ta;class na{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Wr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ra(){return window}ta="Browser",br(new Xn("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{Wr(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),Wr(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:ta,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fi(ta)},o=new Ui(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jr);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(o,t),o})(n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),br(new Xn("auth-internal",(e=>(e=>new na(e))(ji(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Or("@firebase/auth","0.17.1",void 0);class ia extends Ls{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function oa(e){const t=await aa()._get(ua(e));return t&&await aa()._remove(ua(e)),t}function sa(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function aa(){return Jr(zo)}function ua(e){return ki("authEvent",e.config.apiKey,e.name)}function ca(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Hn(n.join("?"))}function la(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Kr("no-auth-event")}}function ha(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function da(e=On()){return!("file:"!==ha()&&"ionic:"!==ha()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function fa(){try{const e=self.localStorage,t=Ko();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=On()){return Mn()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=On()){return/Edge\/\d+/.test(e)}(e)}()||Fn()}catch(e){return pa()&&Fn()}return!1}function pa(){return void 0!==n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function ma(){return("http:"===ha()||"https:"===ha()||Rn()||da())&&!(Ln()||Dn())&&fa()&&!pa()}function ga(){return da()&&"undefined"!=typeof document}const ya={LOCAL:"local",NONE:"none",SESSION:"session"},va=Wr,wa="persistence";async function ba(e){await e._initializationPromise;const t=_a(),n=ki(wa,e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())}function _a(){return"undefined"!=typeof window?window:null}const Ea=Wr;class Sa{constructor(){this.browserResolver=Jr(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qo,this._completeRedirectFn=Ds}async _openPopup(e,t,n,r){var i;return Qr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Ys),{width:r.toString(),height:i.toString(),top:o,left:s}),c=On().toLowerCase();n&&(a=Ai(c)?"_blank":n),Ni(c)&&(t=t||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=On()){var t;return Li(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Js(null);const h=window.open(t||"",a,l);Wr(h,e,"popup-blocked");try{h.focus()}catch(e){}return new Js(h)}(e,Zs(e,t,n,Zr(),r),Ko())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=Zs(e,t,n,Zr(),r),Wo().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Qr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n}async initAndGetManager(e){const t=await async function(e){const t=await Ks(e),n=Wo().gapi;return Wr(n,e,"internal-error"),t.open({where:document.body,url:Qs(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ws,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Kr(e,"network-request-failed"),o=Wo().setTimeout((()=>{r(i)}),Hs.get());function s(){Wo().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new Ls(e);return t.register("authEvent",(t=>(Wr(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xs,{type:Xs},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),$r(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Us(e);for(const e of t)try{if(zs(e))return}catch(e){}$r(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Mi()||Ci()||Li()}}),this.cordovaResolver=Jr(class{constructor(){this._redirectPersistence=qo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ds}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new ia(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){$r(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,u,c,l;const h=ra();Wr("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Wr(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Wr("function"==typeof(null===(o=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Wr("function"==typeof(null===(u=null===(a=null===(s=null==h?void 0:h.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Wr("function"==typeof(null===(l=null===(c=null==h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Ns.clear(),await this._originValidation(e);const o=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:sa(),postBody:null,tenantId:e.tenantId,error:Kr(e,"no-auth-event")}}(e,n,r);await function(e,t){return aa()._set(ua(e),t)}(e,o);const s=await async function(e,t,n){var r;const{BuildInfo:i}=ra();Qr(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(Qr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return Li()?s.ibi=i.packageName:Pi()?s.apn=i.packageName:$r(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,Zs(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}(e,o,t);return async function(e,t,n){const{cordova:r}=ra();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function u(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{s(Kr(e,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(u),document.addEventListener("resume",c,!1),Pi()&&document.addEventListener("visibilitychange",l,!1),i=()=>{t.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await function(e){const{cordova:t}=ra();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=On()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=ra(),n={};Li()?n.iosBundleId=t.packageName:Pi()?n.androidPackageName=t.packageName:$r(e,"operation-not-supported-in-this-environment"),await Us(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=ra(),o=setTimeout((async()=>{await oa(e),t.onEvent(la())}),500),s=async n=>{clearTimeout(o);const r=await oa(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=ca(e),n=t.link?decodeURIComponent(t.link):void 0,r=ca(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ca(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=ca(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null==o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?Kr(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||la())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,s);const a=r,u=`${i.packageName.toLowerCase()}://`;ra().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(u)&&s({url:e}),"function"==typeof a)try{a(e)}catch(e){console.error(e)}}}}),this.underlyingResolver=null,this._redirectPersistence=qo,this._completeRedirectFn=Ds}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return ga()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ea(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!ga()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Ia(e){return e.unwrap()}function ka(e){const{_tokenResponse:t}=e instanceof Un?e.customData:e;if(!t)return null;if(!(e instanceof Un)&&"temporaryProof"in t&&"phoneNumber"in t)return ws.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=io;break;case"facebook.com":r=ro;break;case"github.com":r=oo;break;case"twitter.com":r=ao;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?so._create(n,s):Qi._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new no(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof Un?r.credentialFromError(e):r.credentialFromResult(e)}async function Ta(e,t){let n;try{n=await t}catch(t){throw t instanceof Un&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Na(e,function(e,t){var n;const r=Jn(e),i=t;return Wr(t.operationType,r,"argument-error"),Wr(null===(n=i.serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Lo._fromError(r,i)}(e,t));else if(r){const e=ka(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,t),t}const{operationType:r,user:i}=n;return{operationType:r,credential:(o=n,ka(o)),additionalUserInfo:Do(n),user:Ca.getOrCreate(i)};var o}async function xa(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Ta(e,n.confirm(t))}}class Na{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Ta(Ia(this.auth),this.resolver.resolveSignIn(e))}}class Ca{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Jn(e);return Fo.has(t)||Fo.set(t,Mo._fromUser(t)),Fo.get(t)}(e)}static getOrCreate(e){return Ca.USER_MAP.has(e)||Ca.USER_MAP.set(e,new Ca(e)),Ca.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Ta(this.auth,bo(this._delegate,e))}async linkWithPhoneNumber(e,t){return xa(this.auth,async function(e,t,n){const r=Jn(e);await go(!1,r,"phone");const i=await vs(r.auth,t,Jn(n));return new ys(i,(e=>bo(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Ta(this.auth,async function(e,t,n){const r=Jn(e);Wr(t instanceof eo,r.auth,"argument-error");const i=bs(r.auth,n);return new xs(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Sa))}async linkWithRedirect(e){return await ba(ji(this.auth)),function(e,t,n){return async function(e,t,n){const r=Jn(e);Wr(t instanceof eo,r.auth,"argument-error");const i=bs(r.auth,n);await go(!1,r,t.providerId),await As(i,r.auth);const o=await Rs(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}(this._delegate,e,Sa)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Ta(this.auth,_o(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return xa(this.auth,async function(e,t,n){const r=Jn(e),i=await vs(r.auth,t,Jn(n));return new ys(i,(e=>_o(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Ta(this.auth,async function(e,t,n){const r=Jn(e);Wr(t instanceof eo,r.auth,"argument-error");const i=bs(r.auth,n);return new xs(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Sa))}async reauthenticateWithRedirect(e){return await ba(ji(this.auth)),function(e,t,n){return async function(e,t,n){const r=Jn(e);Wr(t instanceof eo,r.auth,"argument-error");const i=bs(r.auth,n);await As(i,r.auth);const o=await Rs(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}(this._delegate,e,Sa)}sendEmailVerification(e){return async function(e,t){const n=Jn(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Io(n.auth,r,t);const{email:i}=await async function(e,t){return Hi(e,t)}(n.auth,r);i!==e.email&&await e.reload()}(this._delegate,e)}async unlink(e){return await async function(e,t){const n=Jn(e);await go(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return ai(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=po(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}(this._delegate,e),this}updateEmail(e){return function(e,t){return To(Jn(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return To(Jn(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await mo(Jn(e),t)}(this._delegate,e)}updateProfile(e){return async function(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=Jn(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await gi(r,async function(e,t){return ai(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const s=r.providerData.find((({providerId:e})=>"password"===e));s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return async function(e,t,n){const r=Jn(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Io(r.auth,i,n);const{email:o}=await async function(e,t){return Hi(e,t)}(r.auth,i);o!==e.email&&await e.reload()}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ca.USER_MAP=new WeakMap;const Aa=Wr;class Oa{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Aa(n,"invalid-api-key",{appName:e.name});let r=[Ii];if("undefined"!=typeof window){r=function(e,t){const n=_a();if(!(null==n?void 0:n.sessionStorage))return[];const r=ki(wa,e,t);switch(n.sessionStorage.getItem(r)){case ya.NONE:return[Ii];case ya.LOCAL:return[is,qo];case ya.SESSION:return[qo];default:return[]}}(n,e.name);for(const e of[is,zo,qo])r.includes(e)||r.push(e)}Aa(n,"invalid-api-key",{appName:e.name});const i="undefined"!=typeof window?Sa:void 0;this._delegate=t.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(Vr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ca.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=ji(e);Wr(r._canInitEmulator,r,"emulator-config-failed"),Wr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),o=zi(t),{host:s,port:a}=function(e){const t=zi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Bi(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Bi(t)}}}(t),u=null===a?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),function(e){function t(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"==typeof window||"undefined"==typeof document||e||("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}(i)}(this._delegate,e,t)}applyActionCode(e){return async function(e,t){await async function(e,t){return ai(e,"POST","/v1/accounts:update",si(e,t))}(Jn(e),{oobCode:t})}(this._delegate,e)}checkActionCode(e){return ko(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await $i(Jn(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Ta(this._delegate,async function(e,t,n){const r=ji(e),i=await uo(r,{returnSecureToken:!0,email:t,password:n}),o=await co._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return async function(e,t){const n={identifier:t,continueUri:Xr()?Zr():"http://localhost"},{signinMethods:r}=await async function(e,t){return ai(e,"POST","/v1/accounts:createAuthUri",si(e,t))}(Jn(e),n);return r||[]}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Zi.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Aa(ma(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await ji(e)._initializationPromise,Ds(e,t,!1)}(this._delegate,Sa);return e?Ta(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){ji(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=Pa(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=Pa(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Jn(e),i={requestType:"EMAIL_SIGNIN",email:t};Wr(n.handleCodeInApp,r,"argument-error"),n&&Io(r,i,n),await async function(e,t){return Hi(e,t)}(r,i)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Jn(e),i={requestType:"PASSWORD_RESET",email:t};n&&Io(r,i,n),await async function(e,t){return Hi(e,t)}(r,i)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){va(Object.values(ya).includes(t),e,"invalid-persistence-type"),Ln()?va(t!==ya.SESSION,e,"unsupported-persistence-type"):Dn()?va(t===ya.NONE,e,"unsupported-persistence-type"):pa()?va(t===ya.NONE||t===ya.LOCAL&&Fn(),e,"unsupported-persistence-type"):va(t===ya.NONE||fa(),e,"unsupported-persistence-type")}(this._delegate,e),e){case ya.SESSION:t=qo;break;case ya.LOCAL:t=await Jr(is)._isAvailable()?is:zo;break;case ya.NONE:t=Ii;break;default:return $r("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Ta(this._delegate,async function(e){var t;const n=ji(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new co({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await uo(n,{returnSecureToken:!0}),i=await co._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Ta(this._delegate,wo(this._delegate,e))}signInWithCustomToken(e){return Ta(this._delegate,async function(e,t){const n=ji(e),r=await async function(e,t){return ci(e,"POST","/v1/accounts:signInWithCustomToken",si(e,t))}(n,{token:t,returnSecureToken:!0}),i=await co._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}(this._delegate,e))}signInWithEmailAndPassword(e,t){return Ta(this._delegate,function(e,t,n){return wo(Jn(e),Xi.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Ta(this._delegate,async function(e,t,n){const r=Jn(e),i=Xi.credentialWithLink(t,n||Zr());return Wr(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),wo(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return xa(this._delegate,async function(e,t,n){const r=ji(e),i=await vs(r,t,Jn(n));return new ys(i,(e=>wo(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Aa(ma(),this._delegate,"operation-not-supported-in-this-environment"),Ta(this._delegate,async function(e,t,n){const r=ji(e);Wr(t instanceof eo,e,"argument-error");const i=bs(r,n);return new xs(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,Sa))}async signInWithRedirect(e){return Aa(ma(),this._delegate,"operation-not-supported-in-this-environment"),await ba(this._delegate),function(e,t,n){return async function(e,t,n){const r=ji(e);Wr(t instanceof eo,e,"argument-error");const i=bs(r,n);return await As(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}(this._delegate,e,Sa)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await ko(Jn(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Pa(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Ca.getOrCreate(e)),error:t,complete:n}}Oa.Persistence=ya;class Da{constructor(){this.providerId="phone",this._delegate=new ws(Ia(jr.auth()))}static credential(e,t){return ws.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Da.PHONE_SIGN_IN_METHOD=ws.PHONE_SIGN_IN_METHOD,Da.PROVIDER_ID=ws.PROVIDER_ID;const Ra=Wr;var La;(La=jr).INTERNAL.registerComponent(new Xn("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Oa(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Xi,FacebookAuthProvider:ro,GithubAuthProvider:oo,GoogleAuthProvider:io,OAuthProvider:no,PhoneAuthProvider:Da,PhoneMultiFactorGenerator:class{constructor(){}static assertion(e){return ea._fromCredential(e)}},RecaptchaVerifier:class{constructor(e,t,n=jr.app()){var r;Ra(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new gs(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:ao,Auth:Oa,AuthCredential:qi,Error:Un}).setInstantiationMode("LAZY").setMultipleInstances(!1)),La.registerVersion("@firebase/auth-compat","0.1.1");var Ma=function(e,t){return(Ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Fa(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ua,ja="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},Va=Va||{},za=ja||self;function Ba(){}function qa(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function $a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ka="closure_uid_"+(1e9*Math.random()>>>0),Ha=0;function Wa(e,t,n){return e.call.apply(e.bind,arguments)}function Ga(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Qa(e,t,n){return(Qa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wa:Ga).apply(null,arguments)}function Ya(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ja(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Za(){this.s=this.s,this.o=this.o}var Xa={};Za.prototype.s=!1,Za.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ka)&&e[Ka]||(e[Ka]=++Ha)}(this);delete Xa[e]}},Za.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var eu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},tu=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function nu(e){return Array.prototype.concat.apply([],arguments)}function ru(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function iu(e){return/^[\s\xa0]*$/.test(e)}var ou,su=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function au(e,t){return-1!=e.indexOf(t)}function uu(e,t){return e<t?-1:e>t?1:0}e:{var cu=za.navigator;if(cu){var lu=cu.userAgent;if(lu){ou=lu;break e}}ou=""}function hu(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function du(e){var t={};for(var n in e)t[n]=e[n];return t}var fu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pu(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<fu.length;o++)n=fu[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function mu(e){return mu[" "](e),e}mu[" "]=Ba;var gu,yu,vu=au(ou,"Opera"),wu=au(ou,"Trident")||au(ou,"MSIE"),bu=au(ou,"Edge"),_u=bu||wu,Eu=au(ou,"Gecko")&&!(au(ou.toLowerCase(),"webkit")&&!au(ou,"Edge"))&&!(au(ou,"Trident")||au(ou,"MSIE"))&&!au(ou,"Edge"),Su=au(ou.toLowerCase(),"webkit")&&!au(ou,"Edge");function Iu(){var e=za.document;return e?e.documentMode:void 0}e:{var ku="",Tu=(yu=ou,Eu?/rv:([^\);]+)(\)|;)/.exec(yu):bu?/Edge\/([\d\.]+)/.exec(yu):wu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(yu):Su?/WebKit\/(\S+)/.exec(yu):vu?/(?:Version)[ \/]?(\S+)/.exec(yu):void 0);if(Tu&&(ku=Tu?Tu[1]:""),wu){var xu=Iu();if(null!=xu&&xu>parseFloat(ku)){gu=String(xu);break e}}gu=ku}var Nu,Cu={};function Au(){return e=Cu,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var e=0,t=su(String(gu)).split("."),n=su("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;e=uu(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||uu(0==o[2].length,0==s[2].length)||uu(o[2],s[2]),o=o[3],s=s[3]}while(0==e)}return 0<=e}();var e}za.document&&wu?Nu=Iu()||parseInt(gu,10)||void 0:Nu=void 0;var Ou=Nu,Pu=function(){if(!za.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{za.addEventListener("test",Ba,t),za.removeEventListener("test",Ba,t)}catch(e){}return e}();function Du(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Ru(e,t){if(Du.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Eu){e:{try{mu(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Lu[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ru.Z.h.call(this)}}Du.prototype.h=function(){this.defaultPrevented=!0},Ja(Ru,Du);var Lu={2:"touch",3:"pen",4:"mouse"};Ru.prototype.h=function(){Ru.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Mu="closure_listenable_"+(1e6*Math.random()|0),Fu=0;function Uu(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Fu,this.ca=this.fa=!1}function ju(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Vu(e){this.src=e,this.g={},this.h=0}function zu(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=eu(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ju(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Bu(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}Vu.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=Bu(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new Uu(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var qu="closure_lm_"+(1e6*Math.random()|0),$u={};function Ku(e,t,n,r,i){if(r&&r.once)return Wu(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ku(e,t[o],n,r,i);return null}return n=ec(n),e&&e[Mu]?e.N(t,n,$a(r)?!!r.capture:!!r,i):Hu(e,t,n,!1,r,i)}function Hu(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=$a(i)?!!i.capture:!!i,a=Zu(e);if(a||(e[qu]=a=new Vu(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){var e=Ju;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Pu||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Yu(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Wu(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Wu(e,t[o],n,r,i);return null}return n=ec(n),e&&e[Mu]?e.O(t,n,$a(r)?!!r.capture:!!r,i):Hu(e,t,n,!0,r,i)}function Gu(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Gu(e,t[o],n,r,i);else r=$a(r)?!!r.capture:!!r,n=ec(n),e&&e[Mu]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Bu(o=e.g[t],n,r,i))&&(ju(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=Zu(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Bu(t,n,r,i)),(n=-1<e?t[e]:null)&&Qu(n))}function Qu(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Mu])zu(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Yu(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Zu(t))?(zu(n,e),0==n.h&&(n.src=null,t[qu]=null)):ju(e)}}}function Yu(e){return e in $u?$u[e]:$u[e]="on"+e}function Ju(e,t){if(e.ca)e=!0;else{t=new Ru(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Qu(e),e=n.call(r,t)}return e}function Zu(e){return(e=e[qu])instanceof Vu?e:null}var Xu="__closure_events_fn_"+(1e9*Math.random()>>>0);function ec(e){return"function"==typeof e?e:(e[Xu]||(e[Xu]=function(t){return e.handleEvent(t)}),e[Xu])}function tc(){Za.call(this),this.i=new Vu(this),this.P=this,this.I=null}function nc(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Du(t,e);else if(t instanceof Du)t.target=t.target||e;else{var i=t;pu(t=new Du(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=rc(s,r,!0,t)&&i}if(i=rc(s=t.g=e,r,!0,t)&&i,i=rc(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=rc(s=t.g=n[o],r,!1,t)&&i}function rc(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&zu(e.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ja(tc,Za),tc.prototype[Mu]=!0,tc.prototype.removeEventListener=function(e,t,n,r){Gu(this,e,t,n,r)},tc.prototype.M=function(){if(tc.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ju(n[r]);delete t.g[e],t.h--}}this.I=null},tc.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},tc.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ic=za.JSON.stringify;function oc(){var e=fc,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var sc,ac=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=uc.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),uc=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new cc}),(function(e){return e.reset()})),cc=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function lc(e){za.setTimeout((function(){throw e}),0)}function hc(e,t){sc||function(){var e=za.Promise.resolve(void 0);sc=function(){e.then(pc)}}(),dc||(sc(),dc=!0),fc.add(e,t)}var dc=!1,fc=new ac;function pc(){for(var e;e=oc();){try{e.h.call(e.g)}catch(e){lc(e)}var t=uc;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}dc=!1}function mc(e,t){tc.call(this),this.h=e||1,this.g=t||za,this.j=Qa(this.kb,this),this.l=Date.now()}function gc(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function yc(e,t,n){if("function"==typeof e)n&&(e=Qa(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Qa(e.handleEvent,e)}return 2147483647<Number(t)?-1:za.setTimeout(e,t||0)}function vc(e){e.g=yc((function(){e.g=null,e.i&&(e.i=!1,vc(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ja(mc,tc),(Ua=mc.prototype).da=!1,Ua.S=null,Ua.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),nc(this,"tick"),this.da&&(gc(this),this.start()))}},Ua.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ua.M=function(){mc.Z.M.call(this),gc(this),delete this.g};var wc=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ma(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:vc(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(za.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Za);function bc(e){Za.call(this),this.h=e,this.g={}}Ja(bc,Za);var _c=[];function Ec(e,t,n,r){Array.isArray(n)||(n&&(_c[0]=n.toString()),n=_c);for(var i=0;i<n.length;i++){var o=Ku(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Sc(e){hu(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Qu(e)}),e),e.g={}}function Ic(){this.g=!0}function kc(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ic(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}bc.prototype.M=function(){bc.Z.M.call(this),Sc(this)},bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ic.prototype.Aa=function(){this.g=!1},Ic.prototype.info=function(){};var Tc={},xc=null;function Nc(){return xc=xc||new tc}function Cc(e){Du.call(this,Tc.Ma,e)}function Ac(e){var t=Nc();nc(t,new Cc(t,e))}function Oc(e,t){Du.call(this,Tc.STAT_EVENT,e),this.stat=t}function Pc(e){var t=Nc();nc(t,new Oc(t,e))}function Dc(e,t){Du.call(this,Tc.Na,e),this.size=t}function Rc(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return za.setTimeout((function(){e()}),t)}Tc.Ma="serverreachability",Ja(Cc,Du),Tc.STAT_EVENT="statevent",Ja(Oc,Du),Tc.Na="timingevent",Ja(Dc,Du);var Lc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Mc={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Fc(){}function Uc(e){return e.h||(e.h=e.i())}function jc(){}Fc.prototype.h=null;var Vc,zc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Bc(){Du.call(this,"d")}function qc(){Du.call(this,"c")}function $c(){}function Kc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new bc(this),this.P=Wc,e=_u?125:void 0,this.W=new mc(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Hc}function Hc(){this.i=null,this.g="",this.h=!1}Ja(Bc,Du),Ja(qc,Du),Ja($c,Fc),$c.prototype.g=function(){return new XMLHttpRequest},$c.prototype.i=function(){return{}},Vc=new $c;var Wc=45e3,Gc={},Qc={};function Yc(e,t,n){e.K=1,e.v=wl(fl(t)),e.s=n,e.U=!0,Jc(e,null)}function Jc(e,t){e.F=Date.now(),tl(e),e.A=fl(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Pl(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Hc,e.g=Dh(e.l,n?t:null,!e.s),0<e.O&&(e.L=new wc(Qa(e.Ia,e,e.g),e.O)),Ec(e.V,e.g,"readystatechange",e.gb),t=e.H?du(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ac(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Zc(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Xc(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=el(e,n))==Qc){4==t&&(e.o=4,Pc(14),i=!1),kc(e.j,e.m,null,"[Incomplete Response]");break}if(r==Gc){e.o=4,Pc(15),kc(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}kc(e.j,e.m,r,null),sl(e,r)}Zc(e)&&r!=Qc&&r!=Gc&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Pc(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),kh(t),t.L=!0,Pc(11))):(kc(e.j,e.m,n,"[Invalid Chunked Response]"),ol(e),il(e))}function el(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Qc:(n=Number(t.substring(n,r)),isNaN(n)?Gc:(r+=1)+n>t.length?Qc:(t=t.substr(r,n),e.C=r+n,t))}function tl(e){e.Y=Date.now()+e.P,nl(e,e.P)}function nl(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Rc(Qa(e.eb,e),t)}function rl(e){e.B&&(za.clearTimeout(e.B),e.B=null)}function il(e){0==e.l.G||e.I||Nh(e.l,e)}function ol(e){rl(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,gc(e.W),Sc(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function sl(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||jl(n.i,e)))if(n.I=e.N,!e.J&&jl(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;xh(n),gh(n)}Ih(n),Pc(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Rc(Qa(n.ab,n),6e3));if(1>=Ul(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Ah(n,11)}else if((e.J||n.g==e)&&xh(n),!iu(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(au(l,"spdy")||au(l,"quic")||au(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Vl(h,h.h),h.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,vl(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=e;if((r=n).oa=Ph(r,r.H?r.la:null,r.W),f.J){zl(r.i,f);var p=f,m=r.K;m&&p.setTimeout(m),p.B&&(rl(p),tl(p)),r.g=f}else Sh(r);0<n.l.length&&wh(n)}else"stop"!=o[0]&&"close"!=o[0]||Ah(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Ah(n,7):mh(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Ac(4)}catch(o){}}function al(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(qa(e)||"string"==typeof e)tu(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(qa(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(qa(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function ul(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ul)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function cl(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ll(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ll(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ll(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ua=Kc.prototype).setTimeout=function(e){this.P=e},Ua.gb=function(e){e=e.target;var t=this.L;t&&3==lh(e)?t.l():this.Ia(e)},Ua.Ia=function(e){try{if(e==this.g)e:{var t=lh(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||_u||this.g&&(this.h.h||this.g.ga()||hh(this.g)))){this.I||4!=t||7==n||Ac(8==n||0>=r?3:2),rl(this);var i=this.g.ba();this.N=i;t:if(Zc(this)){var o=hh(this.g);e="";var s=o.length,a=4==lh(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ol(this),il(this);var u="";break t}this.h.i=new za.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!iu(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,Pc(12),ol(this),il(this);break e}kc(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sl(this,i)}this.U?(Xc(this,t,u),_u&&this.i&&3==t&&(Ec(this.V,this.W,"tick",this.fb),this.W.start())):(kc(this.j,this.m,u,null),sl(this,u)),4==t&&ol(this),this.i&&!this.I&&(4==t?Nh(this.l,this):(this.i=!1,tl(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Pc(12)):(this.o=0,Pc(13)),ol(this),il(this)}}}catch(t){}},Ua.fb=function(){if(this.g){var e=lh(this.g),t=this.g.ga();this.C<t.length&&(rl(this),Xc(this,e,t),this.i&&4!=e&&tl(this))}},Ua.cancel=function(){this.I=!0,ol(this)},Ua.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ac(3),Pc(17)),ol(this),this.o=2,il(this)):nl(this,this.Y-e)},(Ua=ul.prototype).R=function(){cl(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ua.T=function(){return cl(this),this.g.concat()},Ua.get=function(e,t){return ll(this.h,e)?this.h[e]:t},Ua.set=function(e,t){ll(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ua.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var hl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function dl(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof dl){this.g=void 0!==t?t:e.g,pl(this,e.j),this.s=e.s,ml(this,e.i),gl(this,e.m),this.l=e.l,t=e.h;var n=new Nl;n.i=t.i,t.g&&(n.g=new ul(t.g),n.h=t.h),yl(this,n),this.o=e.o}else e&&(n=String(e).match(hl))?(this.g=!!t,pl(this,n[1]||"",!0),this.s=bl(n[2]||""),ml(this,n[3]||"",!0),gl(this,n[4]),this.l=bl(n[5]||"",!0),yl(this,n[6]||"",!0),this.o=bl(n[7]||"")):(this.g=!!t,this.h=new Nl(null,this.g))}function fl(e){return new dl(e)}function pl(e,t,n){e.j=n?bl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ml(e,t,n){e.i=n?bl(t,!0):t}function gl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function yl(e,t,n){t instanceof Nl?(e.h=t,function(e,t){t&&!e.j&&(Cl(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Al(this,t),Pl(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=_l(t,Tl)),e.h=new Nl(t,e.g))}function vl(e,t,n){e.h.set(t,n)}function wl(e){return vl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function bl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function _l(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,El),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function El(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}dl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(_l(t,Sl,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(_l(t,Sl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(_l(n,"/"==n.charAt(0)?kl:Il,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",_l(n,xl)),e.join("")};var Sl=/[#\/\?@]/g,Il=/[#\?:]/g,kl=/[#\?]/g,Tl=/[#\?@]/g,xl=/#/g;function Nl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Cl(e){e.g||(e.g=new ul,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Al(e,t){Cl(e),t=Dl(e,t),ll(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ll((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&cl(e)))}function Ol(e,t){return Cl(e),t=Dl(e,t),ll(e.g.h,t)}function Pl(e,t,n){Al(e,t),0<n.length&&(e.i=null,e.g.set(Dl(e,t),ru(n)),e.h+=n.length)}function Dl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ua=Nl.prototype).add=function(e,t){Cl(this),this.i=null,e=Dl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ua.forEach=function(e,t){Cl(this),this.g.forEach((function(n,r){tu(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ua.T=function(){Cl(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Ua.R=function(e){Cl(this);var t=[];if("string"==typeof e)Ol(this,e)&&(t=nu(t,this.g.get(Dl(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=nu(t,e[n])}return t},Ua.set=function(e,t){return Cl(this),this.i=null,Ol(this,e=Dl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ua.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ua.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.i=e.join("&")};var Rl=function(e,t){this.h=e,this.g=t};function Ll(e){this.l=e||Ml,e=za.PerformanceNavigationTiming?0<(e=za.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(za.g&&za.g.Ea&&za.g.Ea()&&za.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ml=10;function Fl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ul(e){return e.h?1:e.g?e.g.size:0}function jl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Vl(e,t){e.g?e.g.add(t):e.h=t}function zl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Bl(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=Fa(e.g.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.D)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return ru(e.i)}function ql(){}function $l(){this.g=new ql}function Kl(e,t,n){var r=n||"";try{al(e,(function(e,n){var i=e;$a(e)&&(i=ic(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Hl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function Wl(e){this.l=e.$b||null,this.j=e.ib||!1}function Gl(e,t){tc.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ql,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ll.prototype.cancel=function(){var e,t;if(this.i=Bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Fa(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},ql.prototype.stringify=function(e){return za.JSON.stringify(e,void 0)},ql.prototype.parse=function(e){return za.JSON.parse(e,void 0)},Ja(Wl,Fc),Wl.prototype.g=function(){return new Gl(this.l,this.j)},Wl.prototype.i=function(e){return function(){return e}}({}),Ja(Gl,tc);var Ql=0;function Yl(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Jl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Zl(e)}function Zl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ua=Gl.prototype).open=function(e,t){if(this.readyState!=Ql)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Zl(this)},Ua.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||za).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ua.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jl(this)),this.readyState=Ql},Ua.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Zl(this)),this.g&&(this.readyState=3,Zl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==za.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Yl(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ua.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Jl(this):Zl(this),3==this.readyState&&Yl(this)}},Ua.Ua=function(e){this.g&&(this.response=this.responseText=e,Jl(this))},Ua.Ta=function(e){this.g&&(this.response=e,Jl(this))},Ua.ha=function(){this.g&&Jl(this)},Ua.setRequestHeader=function(e,t){this.v.append(e,t)},Ua.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ua.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Gl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Xl=za.JSON.parse;function eh(e){tc.call(this),this.headers=new ul,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=th,this.K=this.L=!1}Ja(eh,tc);var th="",nh=/^https?$/i,rh=["POST","PUT"];function ih(e){return"content-type"==e.toLowerCase()}function oh(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,sh(e),uh(e)}function sh(e){e.D||(e.D=!0,nc(e,"complete"),nc(e,"error"))}function ah(e){if(e.h&&void 0!==Va&&(!e.C[1]||4!=lh(e)||2!=e.ba()))if(e.v&&4==lh(e))yc(e.Fa,0,e);else if(nc(e,"readystatechange"),4==lh(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(hl)[1]||null;if(!o&&za.self&&za.self.location){var s=za.self.location.protocol;o=s.substr(0,s.length-1)}i=!nh.test(o?o.toLowerCase():"")}t=i}if(t)nc(e,"complete"),nc(e,"success");else{e.m=6;try{var a=2<lh(e)?e.g.statusText:""}catch(e){a=""}e.j=a+" ["+e.ba()+"]",sh(e)}}finally{uh(e)}}}function uh(e,t){if(e.g){ch(e);var n=e.g,r=e.C[0]?Ba:null;e.g=null,e.C=null,t||nc(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function ch(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(za.clearTimeout(e.A),e.A=null)}function lh(e){return e.g?e.g.readyState:0}function hh(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case th:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function dh(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return hu(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):vl(e,t,n))}function fh(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ph(e){this.za=0,this.l=[],this.h=new Ic,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=fh("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=fh("baseRetryDelayMs",5e3,e),this.$a=fh("retryDelaySeedMs",1e4,e),this.Ya=fh("forwardChannelMaxRetries",2,e),this.ra=fh("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ll(e&&e.concurrentRequestLimit),this.Ca=new $l,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function mh(e){if(yh(e),3==e.G){var t=e.V++,n=fl(e.F);vl(n,"SID",e.J),vl(n,"RID",t),vl(n,"TYPE","terminate"),_h(e,n),(t=new Kc(e,e.h,t,void 0)).K=2,t.v=wl(fl(n)),n=!1,za.navigator&&za.navigator.sendBeacon&&(n=za.navigator.sendBeacon(t.v.toString(),"")),!n&&za.Image&&((new Image).src=t.v,n=!0),n||(t.g=Dh(t.l,null),t.g.ea(t.v)),t.F=Date.now(),tl(t)}Oh(e)}function gh(e){e.g&&(kh(e),e.g.cancel(),e.g=null)}function yh(e){gh(e),e.u&&(za.clearTimeout(e.u),e.u=null),xh(e),e.i.cancel(),e.m&&("number"==typeof e.m&&za.clearTimeout(e.m),e.m=null)}function vh(e,t){e.l.push(new Rl(e.Za++,t)),3==e.G&&wh(e)}function wh(e){Fl(e.i)||e.m||(e.m=!0,hc(e.Ha,e),e.C=0)}function bh(e,t){var n;n=t?t.m:e.V++;var r=fl(e.F);vl(r,"SID",e.J),vl(r,"RID",n),vl(r,"AID",e.U),_h(e,r),e.o&&e.s&&dh(r,e.o,e.s),n=new Kc(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Eh(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Vl(e.i,n),Yc(n,r,t)}function _h(e,t){e.j&&al({},(function(e,n){vl(t,n,e)}))}function Eh(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Qa(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{Kl(l,s,"req"+c+"_")}catch(e){r&&r(l)}}if(a){r=s.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Sh(e){e.g||e.u||(e.Y=1,hc(e.Ga,e),e.A=0)}function Ih(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=Rc(Qa(e.Ga,e),Ch(e,e.A)),e.A++,0))}function kh(e){null!=e.B&&(za.clearTimeout(e.B),e.B=null)}function Th(e){e.g=new Kc(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=fl(e.oa);vl(t,"RID","rpc"),vl(t,"SID",e.J),vl(t,"CI",e.N?"0":"1"),vl(t,"AID",e.U),_h(e,t),vl(t,"TYPE","xmlhttp"),e.o&&e.s&&dh(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=wl(fl(t)),n.s=null,n.U=!0,Jc(n,e)}function xh(e){null!=e.v&&(za.clearTimeout(e.v),e.v=null)}function Nh(e,t){var n=null;if(e.g==t){xh(e),kh(e),e.g=null;var r=2}else{if(!jl(e.i,t))return;n=t.D,zl(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;nc(r=Nc(),new Dc(r,n,t,i)),wh(e)}else Sh(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ul(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Rc(Qa(e.Ha,e,t),Ch(e,e.C)),e.C++,0)))}(e,t)||2==r&&Ih(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ah(e,5);break;case 4:Ah(e,10);break;case 3:Ah(e,6);break;default:Ah(e,2)}}function Ch(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ah(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Qa(e.jb,e);n||(n=new dl("//www.google.com/images/cleardot.gif"),za.location&&"http"==za.location.protocol||pl(n,"https"),wl(n)),function(e,t){var n=new Ic;if(za.Image){var r=new Image;r.onload=Ya(Hl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ya(Hl,n,r,"TestLoadImage: error",!1,t),r.onabort=Ya(Hl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ya(Hl,n,r,"TestLoadImage: timeout",!1,t),za.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Pc(2);e.G=0,e.j&&e.j.va(t),Oh(e),yh(e)}function Oh(e){e.G=0,e.I=-1,e.j&&(0==Bl(e.i).length&&0==e.l.length||(e.i.i.length=0,ru(e.l),e.l.length=0),e.j.ua())}function Ph(e,t,n){var r=function(e){return e instanceof dl?fl(e):new dl(e,void 0)}(n);if(""!=r.i)t&&ml(r,t+"."+r.i),gl(r,r.m);else{var i=za.location;r=function(e,t,n,r){var i=new dl(null,void 0);return e&&pl(i,e),t&&ml(i,t),n&&gl(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&hu(e.aa,(function(e,t){vl(r,t,e)})),t=e.D,n=e.sa,t&&n&&vl(r,t,n),vl(r,"VER",e.ma),_h(e,r),r}function Dh(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new eh(new Wl({ib:!0})):new eh(e.qa)).L=e.H,t}function Rh(){}function Lh(){if(wu&&!(10<=Number(Ou)))throw Error("Environmental error: no available transport.")}function Mh(e,t){tc.call(this),this.g=new ph(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!iu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!iu(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new jh(this)}function Fh(e){Bc.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Uh(){qc.call(this),this.status=1}function jh(e){this.g=e}(Ua=eh.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Vc.g(),this.C=this.u?Uc(this.u):Uc(Vc),this.g.onreadystatechange=Qa(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void oh(this,e)}e=n||"";var i=new ul(this.headers);r&&al(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=ih,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=za.FormData&&e instanceof za.FormData,!(0<=eu(rh,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ch(this),0<this.B&&((this.K=function(e){return wu&&Au()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qa(this.pa,this)):this.A=yc(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){oh(this,e)}},Ua.pa=function(){void 0!==Va&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nc(this,"timeout"),this.abort(8))},Ua.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,nc(this,"complete"),nc(this,"abort"),uh(this))},Ua.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uh(this,!0)),eh.Z.M.call(this)},Ua.Fa=function(){this.s||(this.F||this.v||this.l?ah(this):this.cb())},Ua.cb=function(){ah(this)},Ua.ba=function(){try{return 2<lh(this)?this.g.status:-1}catch(e){return-1}},Ua.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},Ua.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Xl(t)}},Ua.Da=function(){return this.m},Ua.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ua=ph.prototype).ma=8,Ua.G=1,Ua.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},Ua.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Kc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?pu(n=du(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Eh(this,t,r),vl(i=fl(this.F),"RID",e),vl(i,"CVER",22),this.D&&vl(i,"X-HTTP-Session-Id",this.D),_h(this,i),this.o&&n&&dh(i,this.o,n),Vl(this.i,t),this.Ra&&vl(i,"TYPE","init"),this.ja?(vl(i,"$req",r),vl(i,"SID","null"),t.$=!0,Yc(t,i,null)):Yc(t,i,r),this.G=2}}else 3==this.G&&(e?bh(this,e):0==this.l.length||Fl(this.i)||bh(this))},Ua.Ga=function(){if(this.u=null,Th(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Rc(Qa(this.bb,this),e)}},Ua.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pc(10),gh(this),Th(this))},Ua.ab=function(){null!=this.v&&(this.v=null,gh(this),Ih(this),Pc(19))},Ua.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Pc(2)):(this.h.info("Failed to ping google.com"),Pc(1))},(Ua=Rh.prototype).xa=function(){},Ua.wa=function(){},Ua.va=function(){},Ua.ua=function(){},Ua.Oa=function(){},Lh.prototype.g=function(e,t){return new Mh(e,t)},Ja(Mh,tc),Mh.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),hc(Qa(e.hb,e,t))),Pc(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ph(e,null,e.W),wh(e)},Mh.prototype.close=function(){mh(this.g)},Mh.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,vh(this.g,t)}else this.v?((t={}).__data__=ic(e),vh(this.g,t)):vh(this.g,e)},Mh.prototype.M=function(){this.g.j=null,delete this.j,mh(this.g),delete this.g,Mh.Z.M.call(this)},Ja(Fh,Bc),Ja(Uh,qc),Ja(jh,Rh),jh.prototype.xa=function(){nc(this.g,"a")},jh.prototype.wa=function(e){nc(this.g,new Fh(e))},jh.prototype.va=function(e){nc(this.g,new Uh(e))},jh.prototype.ua=function(){nc(this.g,"b")},Lh.prototype.createWebChannel=Lh.prototype.g,Mh.prototype.send=Mh.prototype.u,Mh.prototype.open=Mh.prototype.m,Mh.prototype.close=Mh.prototype.close,Lc.NO_ERROR=0,Lc.TIMEOUT=8,Lc.HTTP_ERROR=6,Mc.COMPLETE="complete",jc.EventType=zc,zc.OPEN="a",zc.CLOSE="b",zc.ERROR="c",zc.MESSAGE="d",tc.prototype.listen=tc.prototype.N,eh.prototype.listenOnce=eh.prototype.O,eh.prototype.getLastError=eh.prototype.La,eh.prototype.getLastErrorCode=eh.prototype.Da,eh.prototype.getStatus=eh.prototype.ba,eh.prototype.getResponseJson=eh.prototype.Qa,eh.prototype.getResponseText=eh.prototype.ga,eh.prototype.send=eh.prototype.ea;var Vh=Lc,zh=Mc,Bh=Tc,qh=10,$h=11,Kh=Wl,Hh=jc,Wh=eh;class Gh{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gh.UNAUTHENTICATED=new Gh(null),Gh.GOOGLE_CREDENTIALS=new Gh("google-credentials-uid"),Gh.FIRST_PARTY=new Gh("first-party-uid"),Gh.MOCK_USER=new Gh("mock-user");let Qh="9.0.1";const Yh=new lr("@firebase/firestore");function Jh(){return Yh.logLevel}function Zh(e,...t){if(Yh.logLevel<=ir.DEBUG){const n=t.map(td);Yh.debug(`Firestore (${Qh}): ${e}`,...n)}}function Xh(e,...t){if(Yh.logLevel<=ir.ERROR){const n=t.map(td);Yh.error(`Firestore (${Qh}): ${e}`,...n)}}function ed(e,...t){if(Yh.logLevel<=ir.WARN){const n=t.map(td);Yh.warn(`Firestore (${Qh}): ${e}`,...n)}}function td(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function nd(e="Unexpected state"){const t=`FIRESTORE (${Qh}) INTERNAL ASSERTION FAILED: `+e;throw Xh(t),new Error(t)}function rd(e,t){e||nd()}function id(e,t){return e}const od={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class sd extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ad{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ud{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class cd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Gh.UNAUTHENTICATED)))}shutdown(){}}class ld{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class hd{constructor(e){this.t=e,this.currentUser=Gh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ad;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ad,e.enqueueRetryable((()=>r(this.currentUser)))};const o=t=>{e.enqueueRetryable((async()=>{Zh("FirebaseCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),await i.promise,await r(this.currentUser)}))};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Zh("FirebaseCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ad)}}),0),e.enqueueRetryable((async()=>{0===this.i&&(await i.promise,await r(this.currentUser))}))}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Zh("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(rd("string"==typeof t.accessToken),new ud(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rd(null===e||"string"==typeof e),new Gh(e)}}class dd{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Gh.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class fd{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new dd(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Gh.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function md(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}pd.T=-1;class gd{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=md(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function yd(e,t){return e<t?-1:e>t?1:0}function vd(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function wd(e){return e+"\0"}class bd{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new sd(od.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new sd(od.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new sd(od.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new sd(od.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bd.fromMillis(Date.now())}static fromDate(e){return bd.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new bd(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yd(this.nanoseconds,e.nanoseconds):yd(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _d{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _d(e)}static min(){return new _d(new bd(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Ed(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Sd(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Id(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class kd{constructor(e,t,n){void 0===t?t=0:t>e.length&&nd(),void 0===n?n=e.length-t:n>e.length-t&&nd(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===kd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof kd?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Td extends kd{construct(e,t,n){return new Td(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new sd(od.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new Td(t)}static emptyPath(){return new Td([])}}const xd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nd extends kd{construct(e,t,n){return new Nd(e,t,n)}static isValidIdentifier(e){return xd.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nd.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Nd(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new sd(od.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new sd(od.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new sd(od.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new sd(od.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nd(t)}static emptyPath(){return new Nd([])}}class Cd{constructor(e){this.fields=e,e.sort(Nd.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vd(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Ad{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ad(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ad(t)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yd(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ad.EMPTY_BYTE_STRING=new Ad("");const Od=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pd(e){if(rd(!!e),"string"==typeof e){let t=0;const n=Od.exec(e);if(rd(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Dd(e.seconds),nanos:Dd(e.nanos)}}function Dd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Rd(e){return"string"==typeof e?Ad.fromBase64String(e):Ad.fromUint8Array(e)}function Ld(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Md(e){const t=e.mapValue.fields.__previous_value__;return Ld(t)?Md(t):t}function Fd(e){const t=Pd(e.mapValue.fields.__local_write_time__.timestampValue);return new bd(t.seconds,t.nanos)}function Ud(e){return null==e}function jd(e){return 0===e&&1/e==-1/0}function Vd(e){return"number"==typeof e&&Number.isInteger(e)&&!jd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class zd{constructor(e){this.path=e}static fromPath(e){return new zd(Td.fromString(e))}static fromName(e){return new zd(Td.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Td.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Td.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zd(new Td(e.slice()))}}function Bd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ld(e)?4:10:nd()}function qd(e,t){const n=Bd(e);if(n!==Bd(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fd(e).isEqual(Fd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Pd(e.timestampValue),r=Pd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Rd(e.bytesValue).isEqual(Rd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Dd(e.geoPointValue.latitude)===Dd(t.geoPointValue.latitude)&&Dd(e.geoPointValue.longitude)===Dd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Dd(e.integerValue)===Dd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Dd(e.doubleValue),r=Dd(t.doubleValue);return n===r?jd(n)===jd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return vd(e.arrayValue.values||[],t.arrayValue.values||[],qd);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ed(n)!==Ed(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!qd(n[e],r[e])))return!1;return!0}(e,t);default:return nd()}}function $d(e,t){return void 0!==(e.values||[]).find((e=>qd(e,t)))}function Kd(e,t){const n=Bd(e),r=Bd(t);if(n!==r)return yd(n,r);switch(n){case 0:return 0;case 1:return yd(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Dd(e.integerValue||e.doubleValue),r=Dd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Hd(e.timestampValue,t.timestampValue);case 4:return Hd(Fd(e),Fd(t));case 5:return yd(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Rd(e),r=Rd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=yd(n[e],r[e]);if(0!==t)return t}return yd(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=yd(Dd(e.latitude),Dd(t.latitude));return 0!==n?n:yd(Dd(e.longitude),Dd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=Kd(n[e],r[e]);if(t)return t}return yd(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let e=0;e<r.length&&e<o.length;++e){const t=yd(r[e],o[e]);if(0!==t)return t;const s=Kd(n[r[e]],i[o[e]]);if(0!==s)return s}return yd(r.length,o.length)}(e.mapValue,t.mapValue);default:throw nd()}}function Hd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return yd(e,t);const n=Pd(e),r=Pd(t),i=yd(n.seconds,r.seconds);return 0!==i?i:yd(n.nanos,r.nanos)}function Wd(e){return Gd(e)}function Gd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Pd(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Rd(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,zd.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Gd(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Gd(e.fields[i])}`;return n+"}"}(e.mapValue):nd();var t,n}function Qd(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Yd(e){return!!e&&"integerValue"in e}function Jd(e){return!!e&&"arrayValue"in e}function Zd(e){return!!e&&"nullValue"in e}function Xd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ef(e){return!!e&&"mapValue"in e}function tf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Sd(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=tf(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=tf(e.arrayValue.values[n]);return t}return Object.assign({},e)}class nf{constructor(e){this.value=e}static empty(){return new nf({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ef(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tf(t)}setAll(e){let t=Nd.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=tf(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ef(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ef(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Sd(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new nf(tf(this.value))}}function rf(e){const t=[];return Sd(e.fields,((e,n)=>{const r=new Nd([e]);if(ef(n)){const e=rf(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Cd(t)}class of{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new of(e,0,_d.min(),nf.empty(),0)}static newFoundDocument(e,t,n){return new of(e,1,t,n,0)}static newNoDocument(e,t){return new of(e,2,t,nf.empty(),0)}static newUnknownDocument(e,t){return new of(e,3,t,nf.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nf.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nf.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof of&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new of(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sf{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.A=null}}function af(e,t=null,n=[],r=[],i=null,o=null,s=null){return new sf(e,t,n,r,i,o,s)}function uf(e){const t=id(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>function(e){return e.field.canonicalString()+e.op.toString()+Wd(e.value)}(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ud(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=_f(t.startAt)),t.endAt&&(e+="|ub:",e+=_f(t.endAt)),t.A=e}return t.A}function cf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Sf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!qd(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!kf(e.startAt,t.startAt)&&kf(e.endAt,t.endAt)}function lf(e){return zd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class hf extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new df(e,t,n):"array-contains"===t?new gf(e,n):"in"===t?new yf(e,n):"not-in"===t?new vf(e,n):"array-contains-any"===t?new wf(e,n):new hf(e,t,n)}static R(e,t,n){return"in"===t?new ff(e,n):new pf(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Kd(t,this.value)):null!==t&&Bd(this.value)===Bd(t)&&this.P(Kd(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nd()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class df extends hf{constructor(e,t,n){super(e,t,n),this.key=zd.fromName(n.referenceValue)}matches(e){const t=zd.comparator(e.key,this.key);return this.P(t)}}class ff extends hf{constructor(e,t){super(e,"in",t),this.keys=mf(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class pf extends hf{constructor(e,t){super(e,"not-in",t),this.keys=mf(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function mf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>zd.fromName(e.referenceValue)))}class gf extends hf{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jd(t)&&$d(t.arrayValue,this.value)}}class yf extends hf{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&$d(this.value.arrayValue,t)}}class vf extends hf{constructor(e,t){super(e,"not-in",t)}matches(e){if($d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!$d(this.value.arrayValue,t)}}class wf extends hf{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>$d(this.value.arrayValue,e)))}}class bf{constructor(e,t){this.position=e,this.before=t}}function _f(e){return`${e.before?"b":"a"}:${e.position.map((e=>Wd(e))).join(",")}`}class Ef{constructor(e,t="asc"){this.field=e,this.dir=t}}function Sf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function If(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?zd.comparator(zd.fromName(s.referenceValue),n.key):Kd(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function kf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!qd(e.position[n],t.position[n]))return!1;return!0}class Tf{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.V=null,this.S=null,this.startAt,this.endAt}}function xf(e,t,n,r,i,o,s,a){return new Tf(e,t,n,r,i,o,s,a)}function Nf(e){return new Tf(e)}function Cf(e){return!Ud(e.limit)&&"F"===e.limitType}function Af(e){return!Ud(e.limit)&&"L"===e.limitType}function Of(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Pf(e){for(const t of e.filters)if(t.v())return t.field;return null}function Df(e){return null!==e.collectionGroup}function Rf(e){const t=id(e);if(null===t.V){t.V=[];const e=Pf(t),n=Of(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new Ef(e)),t.V.push(new Ef(Nd.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new Ef(Nd.keyField(),e))}}}return t.V}function Lf(e){const t=id(e);if(!t.S)if("F"===t.limitType)t.S=af(t.path,t.collectionGroup,Rf(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of Rf(t)){const t="desc"===n.dir?"asc":"desc";e.push(new Ef(n.field,t))}const n=t.endAt?new bf(t.endAt.position,!t.endAt.before):null,r=t.startAt?new bf(t.startAt.position,!t.startAt.before):null;t.S=af(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function Mf(e,t,n){return new Tf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ff(e,t){return cf(Lf(e),Lf(t))&&e.limitType===t.limitType}function Uf(e){return`${uf(Lf(e))}|lt:${e.limitType}`}function jf(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Wd(t.value)}`;var t})).join(", ")}]`),Ud(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: "+_f(e.startAt)),e.endAt&&(t+=", endAt: "+_f(e.endAt)),`Target(${t})`}(Lf(e))}; limitType=${e.limitType})`}function Vf(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):zd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!If(e.startAt,Rf(e),t)||e.endAt&&If(e.endAt,Rf(e),t))}(e,t)}function zf(e){return(t,n)=>{let r=!1;for(const i of Rf(e)){const e=Bf(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Bf(e,t,n){const r=e.field.isKeyField()?zd.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Kd(r,i):nd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return nd()}}function qf(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jd(t)?"-0":t}}function $f(e){return{integerValue:""+e}}function Kf(e,t){return Vd(t)?$f(t):qf(e,t)}class Hf{constructor(){this._=void 0}}function Wf(e,t,n){return e instanceof Yf?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Jf?Zf(e,t):e instanceof Xf?ep(e,t):function(e,t){const n=Qf(e,t),r=np(n)+np(e.C);return Yd(n)&&Yd(e.C)?$f(r):qf(e.N,r)}(e,t)}function Gf(e,t,n){return e instanceof Jf?Zf(e,t):e instanceof Xf?ep(e,t):n}function Qf(e,t){return e instanceof tp?Yd(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Yf extends Hf{}class Jf extends Hf{constructor(e){super(),this.elements=e}}function Zf(e,t){const n=rp(t);for(const t of e.elements)n.some((e=>qd(e,t)))||n.push(t);return{arrayValue:{values:n}}}class Xf extends Hf{constructor(e){super(),this.elements=e}}function ep(e,t){let n=rp(t);for(const t of e.elements)n=n.filter((e=>!qd(e,t)));return{arrayValue:{values:n}}}class tp extends Hf{constructor(e,t){super(),this.N=e,this.C=t}}function np(e){return Dd(e.integerValue||e.doubleValue)}function rp(e){return Jd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ip{constructor(e,t){this.field=e,this.transform=t}}class op{constructor(e,t){this.version=e,this.transformResults=t}}class sp{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new sp}static exists(e){return new sp(void 0,e)}static updateTime(e){return new sp(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ap(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class up{}function cp(e,t,n){e instanceof pp?function(e,t,n){const r=e.value.clone(),i=yp(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof mp?function(e,t,n){if(!ap(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=yp(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(gp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function lp(e,t,n){e instanceof pp?function(e,t,n){if(!ap(e.precondition,t))return;const r=e.value.clone(),i=vp(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(fp(t),r).setHasLocalMutations()}(e,t,n):e instanceof mp?function(e,t,n){if(!ap(e.precondition,t))return;const r=vp(e.fieldTransforms,n,t),i=t.data;i.setAll(gp(e)),i.setAll(r),t.convertToFoundDocument(fp(t),i).setHasLocalMutations()}(e,t,n):function(e,t){ap(e.precondition,t)&&t.convertToNoDocument(_d.min())}(e,t)}function hp(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Qf(r.transform,e||null);null!=i&&(null==n&&(n=nf.empty()),n.set(r.field,i))}return n||null}function dp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&vd(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Jf&&t instanceof Jf||e instanceof Xf&&t instanceof Xf?vd(e.elements,t.elements,qd):e instanceof tp&&t instanceof tp?qd(e.C,t.C):e instanceof Yf&&t instanceof Yf}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function fp(e){return e.isFoundDocument()?e.version:_d.min()}class pp extends up{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class mp extends up{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function gp(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function yp(e,t,n){const r=new Map;rd(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Gf(s,a,n[i]))}return r}function vp(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Wf(e,o,t))}return r}class wp extends up{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class bp extends up{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class _p{constructor(e){this.count=e}}var Ep,Sp;function Ip(e){switch(e){case od.OK:return nd();case od.CANCELLED:case od.UNKNOWN:case od.DEADLINE_EXCEEDED:case od.RESOURCE_EXHAUSTED:case od.INTERNAL:case od.UNAVAILABLE:case od.UNAUTHENTICATED:return!1;case od.INVALID_ARGUMENT:case od.NOT_FOUND:case od.ALREADY_EXISTS:case od.PERMISSION_DENIED:case od.FAILED_PRECONDITION:case od.ABORTED:case od.OUT_OF_RANGE:case od.UNIMPLEMENTED:case od.DATA_LOSS:return!0;default:return nd()}}function kp(e){if(void 0===e)return Xh("GRPC error has no .code"),od.UNKNOWN;switch(e){case Ep.OK:return od.OK;case Ep.CANCELLED:return od.CANCELLED;case Ep.UNKNOWN:return od.UNKNOWN;case Ep.DEADLINE_EXCEEDED:return od.DEADLINE_EXCEEDED;case Ep.RESOURCE_EXHAUSTED:return od.RESOURCE_EXHAUSTED;case Ep.INTERNAL:return od.INTERNAL;case Ep.UNAVAILABLE:return od.UNAVAILABLE;case Ep.UNAUTHENTICATED:return od.UNAUTHENTICATED;case Ep.INVALID_ARGUMENT:return od.INVALID_ARGUMENT;case Ep.NOT_FOUND:return od.NOT_FOUND;case Ep.ALREADY_EXISTS:return od.ALREADY_EXISTS;case Ep.PERMISSION_DENIED:return od.PERMISSION_DENIED;case Ep.FAILED_PRECONDITION:return od.FAILED_PRECONDITION;case Ep.ABORTED:return od.ABORTED;case Ep.OUT_OF_RANGE:return od.OUT_OF_RANGE;case Ep.UNIMPLEMENTED:return od.UNIMPLEMENTED;case Ep.DATA_LOSS:return od.DATA_LOSS;default:return nd()}}(Sp=Ep||(Ep={}))[Sp.OK=0]="OK",Sp[Sp.CANCELLED=1]="CANCELLED",Sp[Sp.UNKNOWN=2]="UNKNOWN",Sp[Sp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sp[Sp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sp[Sp.NOT_FOUND=5]="NOT_FOUND",Sp[Sp.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sp[Sp.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sp[Sp.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sp[Sp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sp[Sp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sp[Sp.ABORTED=10]="ABORTED",Sp[Sp.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sp[Sp.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sp[Sp.INTERNAL=13]="INTERNAL",Sp[Sp.UNAVAILABLE=14]="UNAVAILABLE",Sp[Sp.DATA_LOSS=15]="DATA_LOSS";class Tp{constructor(e,t){this.comparator=e,this.root=t||Np.EMPTY}insert(e,t){return new Tp(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Np.BLACK,null,null))}remove(e){return new Tp(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Np.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xp(this.root,e,this.comparator,!1)}getReverseIterator(){return new xp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xp(this.root,e,this.comparator,!0)}}class xp{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Np{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Np.RED,this.left=null!=r?r:Np.EMPTY,this.right=null!=i?i:Np.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Np(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Np.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Np.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Np.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Np.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw nd();if(this.right.isRed())throw nd();const e=this.left.check();if(e!==this.right.check())throw nd();return e+(this.isRed()?0:1)}}Np.EMPTY=null,Np.RED=!0,Np.BLACK=!1,Np.EMPTY=new class{constructor(){this.size=0}get key(){throw nd()}get value(){throw nd()}get color(){throw nd()}get left(){throw nd()}get right(){throw nd()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Np(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cp{constructor(e){this.comparator=e,this.data=new Tp(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ap(this.data.getIterator())}getIteratorFrom(e){return new Ap(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Cp))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Cp(this.comparator);return t.data=e,t}}class Ap{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Op=new Tp(zd.comparator);function Pp(){return Op}const Dp=new Tp(zd.comparator);function Rp(){return Dp}const Lp=new Tp(zd.comparator);function Mp(){return Lp}const Fp=new Cp(zd.comparator);function Up(...e){let t=Fp;for(const n of e)t=t.add(n);return t}const jp=new Cp(yd);function Vp(){return jp}class zp{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Bp.createSynthesizedTargetChangeForCurrentChange(e,t)),new zp(_d.min(),n,Vp(),Pp(),Up())}}class Bp{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Bp(Ad.EMPTY_BYTE_STRING,t,Up(),Up(),Up())}}class qp{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class $p{constructor(e,t){this.targetId=e,this.O=t}}class Kp{constructor(e,t,n=Ad.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Hp{constructor(){this.F=0,this.M=Qp(),this.L=Ad.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Up(),t=Up(),n=Up();return this.M.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:nd()}})),new Bp(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=Qp()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Wp{constructor(e){this.tt=e,this.et=new Map,this.nt=Pp(),this.st=Gp(),this.it=new Cp(yd)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,(t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:nd()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach(((e,n)=>{this.ht(n)&&t(n)}))}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(lf(e))if(0===n){const n=new zd(e.path);this.at(t,n,of.newNoDocument(n,_d.min()))}else rd(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach(((n,r)=>{const i=this.dt(r);if(i){if(n.current&&lf(i.target)){const t=new zd(i.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.at(r,t,of.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}}));let n=Up();this.st.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))}));const r=new zp(e,t,this.it,this.nt,n);return this.nt=Pp(),this.st=Gp(),this.it=new Cp(yd),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new Hp,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new Cp(yd),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Zh("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Et(e)}lt(e){this.et.set(e,new Hp),this.tt.getRemoteKeysForTarget(e).forEach((t=>{this.at(e,t,null)}))}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function Gp(){return new Tp(zd.comparator)}function Qp(){return new Tp(zd.comparator)}const Yp={asc:"ASCENDING",desc:"DESCENDING"},Jp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Zp{constructor(e,t){this.databaseId=e,this.D=t}}function Xp(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function em(e,t){return e.D?t.toBase64():t.toUint8Array()}function tm(e,t){return Xp(e,t.toTimestamp())}function nm(e){return rd(!!e),_d.fromTimestamp(function(e){const t=Pd(e);return new bd(t.seconds,t.nanos)}(e))}function rm(e,t){return function(e){return new Td(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function im(e){const t=Td.fromString(e);return rd(Nm(t)),t}function om(e,t){return rm(e.databaseId,t.path)}function sm(e,t){const n=im(t);if(n.get(1)!==e.databaseId.projectId)throw new sd(od.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new sd(od.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zd(lm(n))}function am(e,t){return rm(e.databaseId,t)}function um(e){const t=im(e);return 4===t.length?Td.emptyPath():lm(t)}function cm(e){return new Td(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function lm(e){return rd(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function hm(e,t,n){return{name:om(e,t),fields:n.value.mapValue.fields}}function dm(e,t,n){const r=sm(e,t.name),i=nm(t.updateTime),o=new nf({mapValue:{fields:t.fields}}),s=of.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function fm(e,t){let n;if(t instanceof pp)n={update:hm(e,t.key,t.value)};else if(t instanceof wp)n={delete:om(e,t.key)};else if(t instanceof mp)n={update:hm(e,t.key,t.data),updateMask:xm(t.fieldMask)};else{if(!(t instanceof bp))return nd();n={verify:om(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Yf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Jf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Xf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof tp)return{fieldPath:t.field.canonicalString(),increment:n.C};throw nd()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:tm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:nd()}(e,t.precondition)),n}function pm(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?sp.updateTime(nm(e.updateTime)):void 0!==e.exists?sp.exists(e.exists):sp.none()}(t.currentDocument):sp.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)rd("REQUEST_TIME"===t.setToServerValue),n=new Yf;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Jf(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Xf(e)}else"increment"in t?n=new tp(e,t.increment):nd();const r=Nd.fromServerFormat(t.fieldPath);return new ip(r,n)}(e,t))):[];if(t.update){t.update.name;const i=sm(e,t.update.name),o=new nf({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Cd(t.map((e=>Nd.fromServerFormat(e))))}(t.updateMask);return new mp(i,o,e,n,r)}return new pp(i,o,n,r)}if(t.delete){const r=sm(e,t.delete);return new wp(r,n)}if(t.verify){const r=sm(e,t.verify);return new bp(r,n)}return nd()}function mm(e,t){return{documents:[am(e,t.path)]}}function gm(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=am(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=am(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(Xd(e.value))return{unaryFilter:{field:Sm(e.field),op:"IS_NAN"}};if(Zd(e.value))return{unaryFilter:{field:Sm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Xd(e.value))return{unaryFilter:{field:Sm(e.field),op:"IS_NOT_NAN"}};if(Zd(e.value))return{unaryFilter:{field:Sm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sm(e.field),op:Em(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Sm(e.field),direction:_m(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=function(e,t){return e.D||Ud(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=wm(t.startAt)),t.endAt&&(n.structuredQuery.endAt=wm(t.endAt)),n}function ym(e){let t=um(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rd(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=vm(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((e=>function(e){return new Ef(Im(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Ud(t)?null:t}(n.limit));let u=null;n.startAt&&(u=bm(n.startAt));let c=null;return n.endAt&&(c=bm(n.endAt)),xf(t,i,s,o,a,"F",u,c)}function vm(e){return e?void 0!==e.unaryFilter?[Tm(e)]:void 0!==e.fieldFilter?[km(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>vm(e))).reduce(((e,t)=>e.concat(t))):nd():[]}function wm(e){return{before:e.before,values:e.position}}function bm(e){const t=!!e.before,n=e.values||[];return new bf(n,t)}function _m(e){return Yp[e]}function Em(e){return Jp[e]}function Sm(e){return{fieldPath:e.canonicalString()}}function Im(e){return Nd.fromServerFormat(e.fieldPath)}function km(e){return hf.create(Im(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return nd()}}(e.fieldFilter.op),e.fieldFilter.value)}function Tm(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Im(e.unaryFilter.field);return hf.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Im(e.unaryFilter.field);return hf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Im(e.unaryFilter.field);return hf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Im(e.unaryFilter.field);return hf.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return nd()}}function xm(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Nm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Cm(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Om(t)),t=Am(e.get(n),t);return Om(t)}function Am(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function Om(e){return e+""}function Pm(e){const t=e.length;if(rd(t>=2),2===t)return rd(""===e.charAt(0)&&""===e.charAt(1)),Td.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("",o);switch((t<0||t>n)&&nd(),e.charAt(t+1)){case"":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"":i+=e.substring(o,t),i+="\0";break;case"":i+=e.substring(o,t+1);break;default:nd()}o=t+2}return new Td(r)}class Dm{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Rm{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}Rm.store="owner",Rm.key="owner";class Lm{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}Lm.store="mutationQueues",Lm.keyPath="userId";class Mm{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}Mm.store="mutations",Mm.keyPath="batchId",Mm.userMutationsIndex="userMutationsIndex",Mm.userMutationsKeyPath=["userId","batchId"];class Fm{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Cm(t)]}static key(e,t,n){return[e,Cm(t),n]}}Fm.store="documentMutations",Fm.PLACEHOLDER=new Fm;class Um{constructor(e,t){this.path=e,this.readTime=t}}class jm{constructor(e,t){this.path=e,this.version=t}}class Vm{constructor(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}}Vm.store="remoteDocuments",Vm.readTimeIndex="readTimeIndex",Vm.readTimeIndexPath="readTime",Vm.collectionReadTimeIndex="collectionReadTimeIndex",Vm.collectionReadTimeIndexPath=["parentPath","readTime"];class zm{constructor(e){this.byteSize=e}}zm.store="remoteDocumentGlobal",zm.key="remoteDocumentGlobalKey";class Bm{constructor(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}}Bm.store="targets",Bm.keyPath="targetId",Bm.queryTargetsIndexName="queryTargetsIndex",Bm.queryTargetsKeyPath=["canonicalId","targetId"];class qm{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}qm.store="targetDocuments",qm.keyPath=["targetId","path"],qm.documentTargetsIndex="documentTargetsIndex",qm.documentTargetsKeyPath=["path","targetId"];class $m{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}$m.key="targetGlobalKey",$m.store="targetGlobal";class Km{constructor(e,t){this.collectionId=e,this.parent=t}}Km.store="collectionParents",Km.keyPath=["collectionId","parent"];class Hm{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}Hm.store="clientMetadata",Hm.keyPath="clientId";class Wm{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}Wm.store="bundles",Wm.keyPath="bundleId";class Gm{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}Gm.store="namedQueries",Gm.keyPath="name";const Qm=[Lm.store,Mm.store,Fm.store,Vm.store,Bm.store,Rm.store,$m.store,qm.store,Hm.store,zm.store,Km.store,Wm.store,Gm.store],Ym="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}class Zm{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Zm(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Zm?t:Zm.resolve(t)}catch(e){return Zm.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Zm.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Zm.reject(t)}static resolve(e){return new Zm(((t,n)=>{t(e)}))}static reject(e){return new Zm(((t,n)=>{n(e)}))}static waitFor(e){return new Zm(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Zm.resolve(!1);for(const n of e)t=t.next((e=>e?Zm.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}class Xm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Tt=new ad,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{t.error?this.Tt.reject(new ng(e,t.error)):this.Tt.resolve()},this.transaction.onerror=t=>{const n=ag(t.target.error);this.Tt.reject(new ng(e,n))}}static open(e,t,n,r){try{return new Xm(t,e.transaction(r,n))}catch(e){throw new ng(t,e)}}get It(){return this.Tt.promise}abort(e){e&&this.Tt.reject(e),this.aborted||(Zh("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new ig(t)}}class eg{constructor(e,t,n){this.name=e,this.version=t,this.At=n,12.2===eg.Rt(On())&&Xh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Zh("SimpleDb","Removing database:",e),og(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(eg.bt())return!0;const e=On(),t=eg.Rt(e),n=0<t&&t<10,r=eg.vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static bt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Dt(e){return this.db||(Zh("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new ng(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new sd(od.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):n(new ng(e,r))},r.onupgradeneeded=e=>{Zh("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.At.Ct(t,r.transaction,e.oldVersion,this.version).next((()=>{Zh("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.Nt&&(this.db.onversionchange=e=>this.Nt(e)),this.db}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.Dt(e);const t=Xm.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).catch((e=>(t.abort(e),Zm.reject(e)))).toPromise();return o.catch((()=>{})),await t.It,o}catch(e){const t="FirebaseError"!==e.name&&o<3;if(Zh("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class tg{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return og(this.kt.delete())}}class ng extends sd{constructor(e,t){super(od.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function rg(e){return"IndexedDbTransactionError"===e.name}class ig{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Zh("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Zh("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),og(n)}add(e){return Zh("SimpleDb","ADD",this.store.name,e,e),og(this.store.add(e))}get(e){return og(this.store.get(e)).next((t=>(void 0===t&&(t=null),Zh("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Zh("SimpleDb","DELETE",this.store.name,e),og(this.store.delete(e))}count(){return Zh("SimpleDb","COUNT",this.store.name),og(this.store.count())}Lt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,((e,t)=>{r.push(t)})).next((()=>r))}Ut(e,t){Zh("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.qt=!1;const r=this.cursor(n);return this.Bt(r,((e,t,n)=>n.delete()))}Kt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Bt(r,t)}jt(e){const t=this.cursor({});return new Zm(((n,r)=>{t.onerror=e=>{const t=ag(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}Bt(e,t){const n=[];return new Zm(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new tg(i),s=t(i.primaryKey,i.value,o);if(s instanceof Zm){const e=s.catch((e=>(o.done(),Zm.reject(e))));n.push(e)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}})).next((()=>Zm.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function og(e){return new Zm(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=ag(e.target.error);n(t)}}))}let sg=!1;function ag(e){const t=eg.Rt(On());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new sd("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sg||(sg=!0,setTimeout((()=>{throw e}),0)),e}}return e}class ug extends Jm{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function cg(e,t){const n=id(e);return eg.St(n.Qt,t)}class lg{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&cp(r,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&lp(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&lp(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(_d.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Up())}isEqual(e){return this.batchId===e.batchId&&vd(this.mutations,e.mutations,((e,t)=>dp(e,t)))&&vd(this.baseMutations,e.baseMutations,((e,t)=>dp(e,t)))}}class hg{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){rd(e.mutations.length===n.length);let r=Mp();const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new hg(e,t,n,r)}}class dg{constructor(e,t,n,r,i=_d.min(),o=_d.min(),s=Ad.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}withSequenceNumber(e){return new dg(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new dg(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new dg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class fg{constructor(e){this.Wt=e}}function pg(e,t){if(t.document)return dm(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=zd.fromSegments(t.noDocument.path),n=wg(t.noDocument.readTime),r=of.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=zd.fromSegments(t.unknownDocument.path),n=wg(t.unknownDocument.version);return of.newUnknownDocument(e,n)}return nd()}function mg(e,t,n){const r=gg(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:om(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Xp(e,t.version.toTimestamp())}}(e.Wt,t),o=t.hasCommittedMutations;return new Vm(null,null,n,o,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=vg(t.version),o=t.hasCommittedMutations;return new Vm(null,new Um(e,n),null,o,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=vg(t.version);return new Vm(new jm(e,n),null,null,!0,r,i)}return nd()}function gg(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function yg(e){const t=new bd(e[0],e[1]);return _d.fromTimestamp(t)}function vg(e){const t=e.toTimestamp();return new Dm(t.seconds,t.nanoseconds)}function wg(e){const t=new bd(e.seconds,e.nanoseconds);return _d.fromTimestamp(t)}function bg(e,t){const n=(t.baseMutations||[]).map((t=>pm(e.Wt,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map((t=>pm(e.Wt,t))),i=bd.fromMillis(t.localWriteTimeMs);return new lg(t.batchId,i,n,r)}function _g(e){const t=wg(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?wg(e.lastLimboFreeSnapshotVersion):_d.min();let r;var i;return void 0!==e.query.documents?(rd(1===(i=e.query).documents.length),r=Lf(Nf(um(i.documents[0])))):r=function(e){return Lf(ym(e))}(e.query),new dg(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Ad.fromBase64String(e.resumeToken))}function Eg(e,t){const n=vg(t.snapshotVersion),r=vg(t.lastLimboFreeSnapshotVersion);let i;i=lf(t.target)?mm(e.Wt,t.target):gm(e.Wt,t.target);const o=t.resumeToken.toBase64();return new Bm(t.targetId,uf(t.target),n,o,t.sequenceNumber,r,i)}function Sg(e){const t=ym({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Mf(t,t.limit,"L"):t}class Ig{getBundleMetadata(e,t){return kg(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:wg(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return kg(e).put({bundleId:(n=t).id,createTime:vg(nm(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Tg(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:Sg(t.bundledQuery),readTime:wg(t.readTime)};var t}))}saveNamedQuery(e,t){return Tg(e).put(function(e){return{name:e.name,readTime:vg(nm(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function kg(e){return cg(e,Wm.store)}function Tg(e){return cg(e,Gm.store)}class xg{constructor(){this.Gt=new Ng}addToCollectionParentIndex(e,t){return this.Gt.add(t),Zm.resolve()}getCollectionParents(e,t){return Zm.resolve(this.Gt.getEntries(t))}}class Ng{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Cp(Td.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Cp(Td.comparator)).toArray()}}class Cg{constructor(){this.zt=new Ng}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.zt.add(t)}));const i={collectionId:n,parent:Cm(r)};return Ag(e).put(i)}return Zm.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[wd(t),""],!1,!0);return Ag(e).Lt(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Pm(r.parent))}return n}))}}function Ag(e){return cg(e,Km.store)}const Og={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pg{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Pg(e,Pg.DEFAULT_COLLECTION_PERCENTILE,Pg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Dg(e,t,n){const r=e.store(Mm.store),i=e.store(Fm.store),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const u=r.Kt({range:s},((e,t,n)=>(a++,n.delete())));o.push(u.next((()=>{rd(1===a)})));const c=[];for(const e of n.mutations){const r=Fm.key(t,e.key.path,n.batchId);o.push(i.delete(r)),c.push(e.key)}return Zm.waitFor(o).next((()=>c))}function Rg(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw nd();t=e.noDocument}return JSON.stringify(t).length}Pg.DEFAULT_COLLECTION_PERCENTILE=10,Pg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pg.DEFAULT=new Pg(41943040,Pg.DEFAULT_COLLECTION_PERCENTILE,Pg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pg.DISABLED=new Pg(-1,0,0);class Lg{constructor(e,t,n,r){this.userId=e,this.N=t,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(e,t,n,r){rd(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Lg(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fg(e).Kt({index:Mm.userMutationsIndex,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Ug(e),o=Fg(e);return o.add({}).next((s=>{rd("number"==typeof s);const a=new lg(s,t,n,r),u=function(e,t,n){const r=n.baseMutations.map((t=>fm(e.Wt,t))),i=n.mutations.map((t=>fm(e.Wt,t)));return new Mm(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.N,this.userId,a),c=[];let l=new Cp(((e,t)=>yd(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Fm.key(this.userId,e.key.path,s);l=l.add(e.key.path.popLast()),c.push(o.put(u)),c.push(i.put(t,Fm.PLACEHOLDER))}return l.forEach((t=>{c.push(this.Ht.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Jt[s]=a.keys()})),Zm.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return Fg(e).get(t).next((e=>e?(rd(e.userId===this.userId),bg(this.N,e)):null))}Xt(e,t){return this.Jt[t]?Zm.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Jt[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Fg(e).Kt({index:Mm.userMutationsIndex,range:r},((e,t,r)=>{t.userId===this.userId&&(rd(t.batchId>=n),i=bg(this.N,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Fg(e).Kt({index:Mm.userMutationsIndex,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fg(e).Lt(Mm.userMutationsIndex,t).next((e=>e.map((e=>bg(this.N,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Fm.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Ug(e).Kt({range:r},((n,r,o)=>{const[s,a,u]=n,c=Pm(a);if(s===this.userId&&t.path.isEqual(c))return Fg(e).get(u).next((e=>{if(!e)throw nd();rd(e.userId===this.userId),i.push(bg(this.N,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Cp(yd);const r=[];return t.forEach((t=>{const i=Fm.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=Ug(e).Kt({range:o},((e,r,i)=>{const[o,s,a]=e,u=Pm(s);o===this.userId&&t.path.isEqual(u)?n=n.add(a):i.done()}));r.push(s)})),Zm.waitFor(r).next((()=>this.Zt(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Fm.prefixForPath(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new Cp(yd);return Ug(e).Kt({range:o},((e,t,i)=>{const[o,a,u]=e,c=Pm(a);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(u)):i.done()})).next((()=>this.Zt(e,s)))}Zt(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Fg(e).get(t).next((e=>{if(null===e)throw nd();rd(e.userId===this.userId),n.push(bg(this.N,e))})))})),Zm.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Dg(e.Qt,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.te(t.batchId)})),Zm.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Zm.resolve();const n=IDBKeyRange.lowerBound(Fm.prefixForUser(this.userId)),r=[];return Ug(e).Kt({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Pm(e[1]);r.push(t)}else n.done()})).next((()=>{rd(0===r.length)}))}))}containsKey(e,t){return Mg(e,this.userId,t)}ee(e){return jg(e).get(this.userId).next((e=>e||new Lm(this.userId,-1,"")))}}function Mg(e,t,n){const r=Fm.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Ug(e).Kt({range:o,qt:!0},((e,n,r)=>{const[o,a,u]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function Fg(e){return cg(e,Mm.store)}function Ug(e){return cg(e,Fm.store)}function jg(e){return cg(e,Lm.store)}class Vg{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Vg(0)}static ie(){return new Vg(-1)}}class zg{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next((t=>{const n=new Vg(t.highestTargetId);return t.highestTargetId=n.next(),this.oe(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.re(e).next((e=>_d.fromTimestamp(new bd(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.re(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.re(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.oe(e,r))))}addTargetData(e,t){return this.ae(e,t).next((()=>this.re(e).next((n=>(n.targetCount+=1,this.ce(t,n),this.oe(e,n))))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Bg(e).delete(t.targetId))).next((()=>this.re(e))).next((t=>(rd(t.targetCount>0),t.targetCount-=1,this.oe(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Bg(e).Kt(((o,s)=>{const a=_g(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Zm.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Bg(e).Kt(((e,n)=>{const r=_g(n);t(r)}))}re(e){return qg(e).get($m.key).next((e=>(rd(null!==e),e)))}oe(e,t){return qg(e).put($m.key,t)}ae(e,t){return Bg(e).put(Eg(this.N,t))}ce(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.re(e).next((e=>e.targetCount))}getTargetData(e,t){const n=uf(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Bg(e).Kt({range:r,index:Bm.queryTargetsIndexName},((e,n,r)=>{const o=_g(n);cf(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=$g(e);return t.forEach((t=>{const o=Cm(t.path);r.push(i.put(new qm(n,o))),r.push(this.referenceDelegate.addReference(e,n,t))})),Zm.waitFor(r)}removeMatchingKeys(e,t,n){const r=$g(e);return Zm.forEach(t,(t=>{const i=Cm(t.path);return Zm.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=$g(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=$g(e);let i=Up();return r.Kt({range:n,qt:!0},((e,t,n)=>{const r=Pm(e[1]),o=new zd(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=Cm(t.path),r=IDBKeyRange.bound([n],[wd(n)],!1,!0);let i=0;return $g(e).Kt({index:qm.documentTargetsIndex,qt:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}Et(e,t){return Bg(e).get(t).next((e=>e?_g(e):null))}}function Bg(e){return cg(e,Bm.store)}function qg(e){return cg(e,$m.store)}function $g(e){return cg(e,qm.store)}async function Kg(e){if(e.code!==od.FAILED_PRECONDITION||e.message!==Ym)throw e;Zh("LocalStore","Unexpectedly lost primary lease")}function Hg([e,t],[n,r]){const i=yd(e,n);return 0===i?yd(t,r):i}class Wg{constructor(e){this.ue=e,this.buffer=new Cp(Hg),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Hg(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Gg{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){const t=this.de?3e5:6e4;Zh("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.we=null,this.de=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){rg(e)?Zh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Kg(e)}await this._e(e)}))}}class Qg{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Zm.resolve(pd.T);const n=new Wg(t);return this.me.forEachTarget(e,(e=>n.fe(e.sequenceNumber))).next((()=>this.me.ye(e,(e=>n.fe(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.me.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Zh("LruGarbageCollector","Garbage collection skipped; disabled"),Zm.resolve(Og)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Zh("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Og):this.pe(e,t)))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let n,r,i,o,s,a,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Zh("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(u=Date.now(),Jh()<=ir.DEBUG&&Zh("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${r} in `+(s-o)+"ms\n"+`\tRemoved ${i} targets in `+(a-s)+"ms\n"+`\tRemoved ${e} documents in `+(u-a)+"ms\n"+`Total Duration: ${u-c}ms`),Zm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}class Yg{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Qg(e,t)}(this,t)}ge(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Ee(e){let t=0;return this.ye(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Te(e,((e,n)=>t(n)))}addReference(e,t,n){return Jg(e,n)}removeReference(e,t,n){return Jg(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Jg(e,t)}Ie(e,t){return function(e,t){let n=!1;return jg(e).jt((r=>Mg(e,r,t).next((e=>(e&&(n=!0),Zm.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Te(e,((o,s)=>{if(s<=t){const t=this.Ie(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o),$g(e).delete([0,Cm(o.path)]))))}));r.push(t)}})).next((()=>Zm.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Jg(e,t)}Te(e,t){const n=$g(e);let r,i=pd.T;return n.Kt({index:qm.documentTargetsIndex},(([e,n],{path:o,sequenceNumber:s})=>{0===e?(i!==pd.T&&t(new zd(Pm(r)),i),i=s,r=o):i=pd.T})).next((()=>{i!==pd.T&&t(new zd(Pm(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Jg(e,t){return $g(e).put(function(e,t){return new qm(0,Cm(e.path),t)}(t,e.currentSequenceNumber))}class Zg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){Sd(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return Id(this.inner)}}class Xg{constructor(){this.changes=new Zg((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:_d.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:of.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Zm.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ey{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,n){return ry(e).put(iy(t),n)}removeEntry(e,t){const n=ry(e),r=iy(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Ae(e,n))))}getEntry(e,t){return ry(e).get(iy(t)).next((e=>this.Re(t,e)))}Pe(e,t){return ry(e).get(iy(t)).next((e=>({document:this.Re(t,e),size:Rg(e)})))}getEntries(e,t){let n=Pp();return this.be(e,t,((e,t)=>{const r=this.Re(e,t);n=n.insert(e,r)})).next((()=>n))}ve(e,t){let n=Pp(),r=new Tp(zd.comparator);return this.be(e,t,((e,t)=>{const i=this.Re(e,t);n=n.insert(e,i),r=r.insert(e,Rg(t))})).next((()=>({documents:n,Ve:r})))}be(e,t,n){if(t.isEmpty())return Zm.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let o=i.getNext();return ry(e).Kt({range:r},((e,t,r)=>{const s=zd.fromSegments(e);for(;o&&zd.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Mt(o.path.toArray()):r.done()})).next((()=>{for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))}getDocumentsMatchingQuery(e,t,n){let r=Pp();const i=t.path.length+1,o={};if(n.isEqual(_d.min())){const e=t.path.toArray();o.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=gg(n);o.range=IDBKeyRange.lowerBound([e,r],!0),o.index=Vm.collectionReadTimeIndex}return ry(e).Kt(o,((e,n,o)=>{if(e.length!==i)return;const s=pg(this.N,n);t.path.isPrefixOf(s.key.path)?Vf(t,s)&&(r=r.insert(s.key,s)):o.done()})).next((()=>r))}newChangeBuffer(e){return new ty(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return ny(e).get(zm.key).next((e=>(rd(!!e),e)))}Ae(e,t){return ny(e).put(zm.key,t)}Re(e,t){if(t){const e=pg(this.N,t);if(!e.isNoDocument()||!e.version.isEqual(_d.min()))return e}return of.newInvalidDocument(e)}}class ty extends Xg{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new Zg((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Cp(((e,t)=>yd(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.De.get(i);if(o.document.isValidDocument()){const a=mg(this.Se.N,o.document,this.getReadTime(i));r=r.add(i.path.popLast());const u=Rg(a);n+=u-s,t.push(this.Se.addEntry(e,i,a))}else if(n-=s,this.trackRemovals){const n=mg(this.Se.N,of.newNoDocument(i,_d.min()),this.getReadTime(i));t.push(this.Se.addEntry(e,i,n))}else t.push(this.Se.removeEntry(e,i))})),r.forEach((n=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,n))})),t.push(this.Se.updateMetadata(e,n)),Zm.waitFor(t)}getFromCache(e,t){return this.Se.Pe(e,t).next((e=>(this.De.set(t,e.size),e.document)))}getAllFromCache(e,t){return this.Se.ve(e,t).next((({documents:e,Ve:t})=>(t.forEach(((e,t)=>{this.De.set(e,t)})),e)))}}function ny(e){return cg(e,zm.store)}function ry(e){return cg(e,Vm.store)}function iy(e){return e.path.toArray()}class oy{constructor(e){this.N=e}Ct(e,t,n,r){rd(n<r&&n>=0&&r<=11);const i=new Xm("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Rm.store)}(e),function(e){e.createObjectStore(Lm.store,{keyPath:Lm.keyPath}),e.createObjectStore(Mm.store,{keyPath:Mm.keyPath,autoIncrement:!0}).createIndex(Mm.userMutationsIndex,Mm.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Fm.store)}(e),sy(e),function(e){e.createObjectStore(Vm.store)}(e));let o=Zm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(qm.store),e.deleteObjectStore(Bm.store),e.deleteObjectStore($m.store)}(e),sy(e)),o=o.next((()=>function(e){const t=e.store($m.store),n=new $m(0,0,_d.min().toTimestamp(),0);return t.put($m.key,n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store(Mm.store).Lt().next((n=>{e.deleteObjectStore(Mm.store),e.createObjectStore(Mm.store,{keyPath:Mm.keyPath,autoIncrement:!0}).createIndex(Mm.userMutationsIndex,Mm.userMutationsKeyPath,{unique:!0});const r=t.store(Mm.store),i=n.map((e=>r.put(e)));return Zm.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore(Hm.store,{keyPath:Hm.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Ce(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore(zm.store)}(e),this.Ne(i))))),n<7&&r>=7&&(o=o.next((()=>this.xe(i)))),n<8&&r>=8&&(o=o.next((()=>this.ke(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(Vm.store);t.createIndex(Vm.readTimeIndex,Vm.readTimeIndexPath,{unique:!1}),t.createIndex(Vm.collectionReadTimeIndex,Vm.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((()=>this.$e(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore(Wm.store,{keyPath:Wm.keyPath})}(e),function(e){e.createObjectStore(Gm.store,{keyPath:Gm.keyPath})}(e)}))),o}Ne(e){let t=0;return e.store(Vm.store).Kt(((e,n)=>{t+=Rg(n)})).next((()=>{const n=new zm(t);return e.store(zm.store).put(zm.key,n)}))}Ce(e){const t=e.store(Lm.store),n=e.store(Mm.store);return t.Lt().next((t=>Zm.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Lt(Mm.userMutationsIndex,r).next((n=>Zm.forEach(n,(n=>{rd(n.userId===t.userId);const r=bg(this.N,n);return Dg(e,t.userId,r).next((()=>{}))}))))}))))}xe(e){const t=e.store(qm.store),n=e.store(Vm.store);return e.store($m.store).get($m.key).next((e=>{const r=[];return n.Kt(((n,i)=>{const o=new Td(n),s=function(e){return[0,Cm(e)]}(o);r.push(t.get(s).next((n=>n?Zm.resolve():(n=>t.put(new qm(0,Cm(n),e.highestListenSequenceNumber)))(o))))})).next((()=>Zm.waitFor(r)))}))}ke(e,t){e.createObjectStore(Km.store,{keyPath:Km.keyPath});const n=t.store(Km.store),r=new Ng,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Cm(r)})}};return t.store(Vm.store).Kt({qt:!0},((e,t)=>{const n=new Td(e);return i(n.popLast())})).next((()=>t.store(Fm.store).Kt({qt:!0},(([e,t,n],r)=>{const o=Pm(t);return i(o.popLast())}))))}$e(e){const t=e.store(Bm.store);return t.Kt(((e,n)=>{const r=_g(n),i=Eg(this.N,r);return t.put(i)}))}}function sy(e){e.createObjectStore(qm.store,{keyPath:qm.keyPath}).createIndex(qm.documentTargetsIndex,qm.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Bm.store,{keyPath:Bm.keyPath}).createIndex(Bm.queryTargetsIndexName,Bm.queryTargetsKeyPath,{unique:!0}),e.createObjectStore($m.store)}const ay="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class uy{constructor(e,t,n,r,i,o,s,a,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=o,this.document=s,this.Fe=u,this.Me=c,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=e=>Promise.resolve(),!uy.Pt())throw new sd(od.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Yg(this,r),this.We=t+"main",this.N=new fg(a),this.Ge=new eg(this.We,11,new oy(this.N)),this.ze=new zg(this.referenceDelegate,this.N),this.Ht=new Cg,this.He=function(e,t){return new ey(e,t)}(this.N,this.Ht),this.Je=new Ig,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===c&&Xh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new sd(od.FAILED_PRECONDITION,ay);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.ze.getHighestSequenceNumber(e)))})).then((e=>{this.Le=new pd(e,this.Fe)})).then((()=>{this.Be=!0})).catch((e=>(this.Ge&&this.Ge.close(),Promise.reject(e))))}nn(e){return this.Qe=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((async()=>{this.started&&await this.Xe()})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>ly(e).put(new Hm(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next((()=>{if(this.isPrimary)return this.sn(e).next((e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable((()=>this.Qe(!1))))}))})).next((()=>this.rn(e))).next((t=>this.isPrimary&&!t?this.on(e).next((()=>!1)):!!t&&this.an(e).next((()=>!0)))))).catch((e=>{if(rg(e))return Zh("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Zh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable((()=>this.Qe(e))),this.isPrimary=e}))}sn(e){return cy(e).get(Rm.key).next((e=>Zm.resolve(this.cn(e))))}un(e){return ly(e).delete(this.clientId)}async hn(){if(this.isPrimary&&!this.ln(this.je,18e5)){this.je=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=cg(e,Hm.store);return t.Lt().next((e=>{const n=this.fn(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Zm.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ye)for(const t of e)this.Ye.removeItem(this.dn(t.clientId))}}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Xe().then((()=>this.hn())).then((()=>this.en()))))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Zm.resolve(!0):cy(e).get(Rm.key).next((t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new sd(od.FAILED_PRECONDITION,ay);return!1}}return!(!this.networkEnabled||!this.inForeground)||ly(e).Lt().next((e=>void 0===this.fn(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Zh("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Be=!1,this._n(),this.Ke&&(this.Ke.cancel(),this.Ke=null),this.mn(),this.gn(),await this.Ge.runTransaction("shutdown","readwrite",[Rm.store,Hm.store],(e=>{const t=new ug(e,pd.T);return this.on(t).next((()=>this.un(t)))})),this.Ge.close(),this.yn()}fn(e,t){return e.filter((e=>this.ln(e.updateTimeMs,t)&&!this.wn(e.clientId)))}pn(){return this.runTransaction("getActiveClients","readonly",(e=>ly(e).Lt().next((e=>this.fn(e,18e5).map((e=>e.clientId))))))}get started(){return this.Be}getMutationQueue(e){return Lg.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,n){Zh("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite";let i;return this.Ge.runTransaction(e,r,Qm,(r=>(i=new ug(r,this.Le?this.Le.next():pd.T),"readwrite-primary"===t?this.sn(i).next((e=>!!e||this.rn(i))).next((t=>{if(!t)throw Xh(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable((()=>this.Qe(!1))),new sd(od.FAILED_PRECONDITION,Ym);return n(i)})).next((e=>this.an(i).next((()=>e)))):this.En(i).next((()=>n(i)))))).then((e=>(i.raiseOnCommittedEvent(),e)))}En(e){return cy(e).get(Rm.key).next((e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.cn(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new sd(od.FAILED_PRECONDITION,ay)}))}an(e){const t=new Rm(this.clientId,this.allowTabSynchronization,Date.now());return cy(e).put(Rm.key,t)}static Pt(){return eg.Pt()}on(e){const t=cy(e);return t.get(Rm.key).next((e=>this.cn(e)?(Zh("IndexedDbPersistence","Releasing primary lease."),t.delete(Rm.key)):Zm.resolve()))}ln(e,t){const n=Date.now();return!(e<n-t||e>n&&(Xh(`Detected an update time that is in the future: ${e} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe())))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),!Dn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Zh("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Xh("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){Xh("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cy(e){return cg(e,Rm.store)}function ly(e){return cg(e,Hm.store)}function hy(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class dy{constructor(e,t){this.progress=e,this.Tn=t}}class fy{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.Rn(e,t,n)))}Rn(e,t,n){return this.He.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}Pn(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}bn(e,t){return this.He.getEntries(e,t).next((t=>this.vn(e,t).next((()=>t))))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.Pn(t,e)))}getDocumentsMatchingQuery(e,t,n){return function(e){return zd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):Df(t)?this.Sn(e,t,n):this.Dn(e,t,n)}Vn(e,t){return this.An(e,new zd(t)).next((e=>{let t=Rp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Sn(e,t,n){const r=t.collectionGroup;let i=Rp();return this.Ht.getCollectionParents(e,r).next((o=>Zm.forEach(o,(o=>{const s=function(e,t){return new Tf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.Dn(e,s,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}Dn(e,t,n){let r,i;return this.He.getDocumentsMatchingQuery(e,t,n).next((n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t)))).next((t=>(i=t,this.Cn(e,i,r).next((e=>{r=e;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=of.newInvalidDocument(n),r=r.insert(n,i)),lp(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((e,n)=>{Vf(t,n)||(r=r.remove(e))})),r)))}Cn(e,t,n){let r=Up();for(const e of t)for(const t of e.mutations)t instanceof mp&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.He.getEntries(e,r).next((e=>(e.forEach(((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))})),i)))}}class py{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=Up(),r=Up();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new py(e,t.fromCache,n,r)}}class my{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(_d.min())?this.Fn(e,t):this.On.bn(e,r).next((i=>{const o=this.Mn(t,i);return(Cf(t)||Af(t))&&this.Ln(t.limitType,o,r,n)?this.Fn(e,t):(Jh()<=ir.DEBUG&&Zh("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),jf(t)),this.On.getDocumentsMatchingQuery(e,t,n).next((e=>(o.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}Mn(e,t){let n=new Cp(zf(e));return t.forEach(((t,r)=>{Vf(e,r)&&(n=n.add(r))})),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return Jh()<=ir.DEBUG&&Zh("QueryEngine","Using full collection scan to execute query:",jf(t)),this.On.getDocumentsMatchingQuery(e,t,_d.min())}}class gy{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new Tp(yd),this.qn=new Zg((e=>uf(e)),cf),this.Kn=_d.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new fy(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Un)))}}function yy(e,t,n,r){return new gy(e,t,n,r)}async function vy(e,t){const n=id(e);let r=n.In,i=n.Qn;const o=await n.persistence.runTransaction("Handle user change","readonly",(e=>{let o;return n.In.getAllMutationBatches(e).next((s=>(o=s,r=n.persistence.getMutationQueue(t),i=new fy(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)))).next((t=>{const n=[],r=[];let s=Up();for(const e of o){n.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return i.bn(e,s).next((e=>({Wn:e,removedBatchIds:n,addedBatchIds:r})))}))}));return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),o}function wy(e){const t=id(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.ze.getLastRemoteSnapshotVersion(e)))}function by(e,t,n,r,i){let o=Up();return n.forEach((e=>o=o.add(e))),t.getEntries(e,o).next((e=>{let o=Pp();return n.forEach(((n,s)=>{const a=e.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(_d.min())?(t.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s,u),o=o.insert(n,s)):Zh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function _y(e,t){const n=id(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t))))}function Ey(e,t){const n=id(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.ze.getTargetData(e,t).next((i=>i?(r=i,Zm.resolve(r)):n.ze.allocateTargetId(e).next((i=>(r=new dg(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e}))}async function Sy(e,t,n){const r=id(e),i=r.Un.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!rg(e))throw e;Zh("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)}function Iy(e,t,n){const r=id(e);let i=_d.min(),o=Up();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=id(e),i=r.qn.get(n);return void 0!==i?Zm.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,Lf(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Bn.getDocumentsMatchingQuery(e,t,n?i:_d.min(),n?o:Up()))).next((e=>({documents:e,Gn:o})))))}function ky(e,t){const n=id(e),r=id(n.ze),i=n.Un.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.Et(e,t).next((e=>e?e.target:null))))}function Ty(e){const t=id(e);return t.persistence.runTransaction("Get new document changes","readonly",(e=>function(e,t,n){const r=id(e);let i=Pp(),o=gg(n);const s=ry(t),a=IDBKeyRange.lowerBound(o,!0);return s.Kt({index:Vm.readTimeIndex,range:a},((e,t)=>{const n=pg(r.N,t);i=i.insert(n.key,n),o=t.readTime})).next((()=>({Tn:i,readTime:yg(o)})))}(t.jn,e,t.Kn))).then((({Tn:e,readTime:n})=>(t.Kn=n,e)))}async function xy(e,t,n=Up()){const r=await Ey(e,Lf(Sg(t.bundledQuery))),i=id(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=nm(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Je.saveNamedQuery(e,t);const s=r.withResumeToken(Ad.EMPTY_BYTE_STRING,o);return i.Un=i.Un.insert(s.targetId,s),i.ze.updateTargetData(e,s).next((()=>i.ze.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.ze.addMatchingKeys(e,n,r.targetId))).next((()=>i.Je.saveNamedQuery(e,t)))}))}class Ny{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Zm.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:nm(n.createTime)}),Zm.resolve()}getNamedQuery(e,t){return Zm.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:Sg(e.bundledQuery),readTime:nm(e.readTime)}}(t)),Zm.resolve()}}class Cy{constructor(){this.Zn=new Cp(Ay.ts),this.es=new Cp(Ay.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new Ay(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.rs(new Ay(e,t))}os(e,t){e.forEach((e=>this.removeReference(e,t)))}cs(e){const t=new zd(new Td([])),n=new Ay(t,e),r=new Ay(t,e+1),i=[];return this.es.forEachInRange([n,r],(e=>{this.rs(e),i.push(e.key)})),i}us(){this.Zn.forEach((e=>this.rs(e)))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new zd(new Td([])),n=new Ay(t,e),r=new Ay(t,e+1);let i=Up();return this.es.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Ay(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ay{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return zd.comparator(e.key,t.key)||yd(e.ls,t.ls)}static ns(e,t){return yd(e.ls,t.ls)||zd.comparator(e.key,t.key)}}class Oy{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new Cp(Ay.ts)}checkEmpty(e){return Zm.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++,this.In.length>0&&this.In[this.In.length-1];const o=new lg(i,t,n,r);this.In.push(o);for(const t of r)this.ds=this.ds.add(new Ay(t.key,i)),this.Ht.addToCollectionParentIndex(e,t.key.path.popLast());return Zm.resolve(o)}lookupMutationBatch(e,t){return Zm.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this._s(n),i=r<0?0:r;return Zm.resolve(this.In.length>i?this.In[i]:null)}getHighestUnacknowledgedBatchId(){return Zm.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Zm.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ay(t,0),r=new Ay(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],(e=>{const t=this.ws(e.ls);i.push(t)})),Zm.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Cp(yd);return t.forEach((e=>{const t=new Ay(e,0),r=new Ay(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],(e=>{n=n.add(e.ls)}))})),Zm.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;zd.isDocumentKey(i)||(i=i.child(""));const o=new Ay(new zd(i),0);let s=new Cp(yd);return this.ds.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.ls)),!0)}),o),Zm.resolve(this.gs(s))}gs(e){const t=[];return e.forEach((e=>{const n=this.ws(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){rd(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return Zm.forEach(t.mutations,(r=>{const i=new Ay(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.ds=n}))}te(e){}containsKey(e,t){const n=new Ay(t,0),r=this.ds.firstAfterOrEqual(n);return Zm.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.In.length,Zm.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class Py{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new Tp(zd.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:s,readTime:n}),this.size+=s-o,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Zm.resolve(n?n.document.clone():of.newInvalidDocument(t))}getEntries(e,t){let n=Pp();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():of.newInvalidDocument(e))})),Zm.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=Pp();const i=new zd(t.path.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:e,value:{document:i,readTime:s}}=o.getNext();if(!t.path.isPrefixOf(e.path))break;s.compareTo(n)<=0||Vf(t,i)&&(r=r.insert(i.key,i.clone()))}return Zm.resolve(r)}Es(e,t){return Zm.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Dy(this)}getSize(e){return Zm.resolve(this.size)}}class Dy extends Xg{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)})),Zm.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class Ry{constructor(e){this.persistence=e,this.Ts=new Zg((e=>uf(e)),cf),this.lastRemoteSnapshotVersion=_d.min(),this.highestTargetId=0,this.Is=0,this.As=new Cy,this.targetCount=0,this.Rs=Vg.se()}forEachTarget(e,t){return this.Ts.forEach(((e,n)=>t(n))),Zm.resolve()}getLastRemoteSnapshotVersion(e){return Zm.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Zm.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Zm.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),Zm.resolve()}ae(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Vg(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Zm.resolve()}updateTargetData(e,t){return this.ae(t),Zm.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Zm.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Ts.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Ts.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Zm.waitFor(i).next((()=>r))}getTargetCount(e){return Zm.resolve(this.targetCount)}getTargetData(e,t){const n=this.Ts.get(t)||null;return Zm.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),Zm.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Zm.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Zm.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return Zm.resolve(n)}containsKey(e,t){return Zm.resolve(this.As.containsKey(t))}}class Ly{constructor(e,t){this.Ps={},this.Le=new pd(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new Ry(this),this.Ht=new xg,this.He=function(e,t){return new Py(e,t)}(this.Ht,(e=>this.referenceDelegate.bs(e))),this.N=new fg(t),this.Je=new Ny(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new Oy(this.Ht,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){Zh("MemoryPersistence","Starting transaction:",e);const r=new My(this.Le.next());return this.referenceDelegate.vs(),n(r).next((e=>this.referenceDelegate.Vs(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ss(e,t){return Zm.or(Object.values(this.Ps).map((n=>()=>n.containsKey(e,t))))}}class My extends Jm{constructor(e){super(),this.currentSequenceNumber=e}}class Fy{constructor(e){this.persistence=e,this.Ds=new Cy,this.Cs=null}static Ns(e){return new Fy(e)}get xs(){if(this.Cs)return this.Cs;throw nd()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),Zm.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),Zm.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Zm.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach((e=>this.xs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.xs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Zm.forEach(this.xs,(n=>{const r=zd.fromPath(n);return this.ks(e,r).next((e=>{e||t.removeEntry(r)}))})).next((()=>(this.Cs=null,t.apply(e))))}updateLimboDocument(e,t){return this.ks(e,t).next((e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())}))}bs(e){return 0}ks(e,t){return Zm.or([()=>Zm.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function Uy(e,t){return`firestore_clients_${e}_${t}`}function jy(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function Vy(e,t){return`firestore_targets_${e}_${t}`}class zy{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static $s(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new sd(r.error.code,r.error.message))),o?new zy(e,t,r.state,i):(Xh("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class By{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static $s(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new sd(n.error.code,n.error.message))),i?new By(e,n.state,r):(Xh("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qy{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Vp();for(let e=0;r&&e<n.activeTargetIds.length;++e)r=Vd(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new qy(e,i):(Xh("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class $y{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new $y(t.clientId,t.onlineState):(Xh("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ky{constructor(){this.activeTargetIds=Vp()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hy{constructor(e,t,n,r,i){this.window=e,this.Oe=t,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Tp(yd),this.started=!1,this.Ks=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.js=Uy(this.persistenceKey,this.Ls),this.Qs=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new Ky),this.Ws=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Hs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Js=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.pn();for(const t of e){if(t===this.Ls)continue;const e=this.getItem(Uy(this.persistenceKey,t));if(e){const n=qy.$s(t,e);n&&(this.qs=this.qs.insert(n.clientId,n))}}this.Ys();const t=this.storage.getItem(this.Hs);if(t){const e=this.Xs(t);e&&this.Zs(e)}for(const e of this.Ks)this.Us(e);this.Ks=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,n){this.ei(e,t,n),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Vy(this.persistenceKey,e));if(n){const r=By.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Vy(this.persistenceKey,e))}updateQueryState(e,t,n){this.ii(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.ni(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Zh("SharedClientState","READ",e,t),t}setItem(e,t){Zh("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Zh("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){const t=e;if(t.storageArea===this.storage){if(Zh("SharedClientState","EVENT",t.key,t.newValue),t.key===this.js)return void Xh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ws.test(t.key)){if(null==t.newValue){const e=this.ai(t.key);return this.ci(e,null)}{const e=this.ui(t.key,t.newValue);if(e)return this.ci(e.clientId,e)}}else if(this.Gs.test(t.key)){if(null!==t.newValue){const e=this.hi(t.key,t.newValue);if(e)return this.li(e)}}else if(this.zs.test(t.key)){if(null!==t.newValue){const e=this.fi(t.key,t.newValue);if(e)return this.di(e)}}else if(t.key===this.Hs){if(null!==t.newValue){const e=this.Xs(t.newValue);if(e)return this.Zs(e)}}else if(t.key===this.Qs){const e=function(e){let t=pd.T;if(null!=e)try{const n=JSON.parse(e);rd("number"==typeof n),t=n}catch(e){Xh("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==pd.T&&this.sequenceNumberHandler(e)}else if(t.key===this.Js)return this.syncEngine.wi()}else this.Ks.push(t)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,n){const r=new zy(this.currentUser,e,t,n),i=jy(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}ni(e){const t=jy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){const t={clientId:this.Ls,onlineState:e};this.storage.setItem(this.Hs,JSON.stringify(t))}ii(e,t,n){const r=Vy(this.persistenceKey,e),i=new By(e,t,n);this.setItem(r,i.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const n=this.ai(e);return qy.$s(n,t)}hi(e,t){const n=this.Gs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return zy.$s(new Gh(i),r,t)}fi(e,t){const n=this.zs.exec(e),r=Number(n[1]);return By.$s(r,t)}Xs(e){return $y.$s(e)}async li(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine._i(e.batchId,e.state,e.error);Zh("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const n=t?this.qs.insert(e,t):this.qs.remove(e),r=this.ti(this.qs),i=this.ti(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.gi(o,s).then((()=>{this.qs=n}))}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=Vp();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Wy{constructor(){this.yi=new Ky,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Ky,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Gy{Ei(e){}shutdown(){}}class Qy{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Zh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}Ri(){Zh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Yy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Jy{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class Zy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Fi=t+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const i=this.Bi(e,t);Zh("RestConnection","Sending: ",i,n);const o={};return this.Ui(o,r),this.qi(e,i,o,n).then((e=>(Zh("RestConnection","Received: ",e),e)),(t=>{throw ed("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t}))}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Qh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){const n=Yy[e];return`${this.Fi}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise(((i,o)=>{const s=new Wh;s.listenOnce(zh.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Vh.NO_ERROR:const t=s.getResponseJson();Zh("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Vh.TIMEOUT:Zh("Connection",'RPC "'+e+'" timed out'),o(new sd(od.DEADLINE_EXCEEDED,"Request time out"));break;case Vh.HTTP_ERROR:const n=s.getStatus();if(Zh("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){const e=s.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(od).indexOf(t)>=0?t:od.UNKNOWN}(e.status);o(new sd(t,e.message))}else o(new sd(od.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new sd(od.UNAVAILABLE,"Connection failed."));break;default:nd()}}finally{Zh("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);s.send(t,"POST",a,n,15)}))}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new Lh,i=Nc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Kh({})),this.Ui(o.initMessageHeaders,t),Pn()||Ln()||On().indexOf("Electron/")>=0||Mn()||On().indexOf("MSAppHost/")>=0||Rn()||(o.httpHeadersOverwriteParam="$httpHeaders");const s=n.join("");Zh("Connection","Creating WebChannel: "+s,o);const a=r.createWebChannel(s,o);let u=!1,c=!1;const l=new Jy({vi:e=>{c?Zh("Connection","Not sending because WebChannel is closed:",e):(u||(Zh("Connection","Opening WebChannel transport."),a.open(),u=!0),Zh("Connection","WebChannel sending:",e),a.send(e))},Vi:()=>a.close()}),h=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return h(a,Hh.EventType.OPEN,(()=>{c||Zh("Connection","WebChannel transport opened.")})),h(a,Hh.EventType.CLOSE,(()=>{c||(c=!0,Zh("Connection","WebChannel transport closed"),l.$i())})),h(a,Hh.EventType.ERROR,(e=>{c||(c=!0,ed("Connection","WebChannel transport errored:",e),l.$i(new sd(od.UNAVAILABLE,"The operation could not be completed")))})),h(a,Hh.EventType.MESSAGE,(e=>{var t;if(!c){const n=e.data[0];rd(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Zh("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=Ep[e];if(void 0!==t)return kp(t)}(e),n=i.message;void 0===t&&(t=od.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,l.$i(new sd(t,n)),a.close()}else Zh("Connection","WebChannel received:",n),l.Oi(n)}})),h(i,Bh.STAT_EVENT,(e=>{e.stat===qh?Zh("Connection","Detected buffering proxy"):e.stat===$h&&Zh("Connection","Detected no buffering proxy")})),setTimeout((()=>{l.ki()}),0),l}}function Xy(){return"undefined"!=typeof window?window:null}function ev(){return"undefined"!=typeof document?document:null}function tv(e){return new Zp(e,!0)}class nv{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&Zh("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,(()=>(this.Ji=Date.now(),e()))),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class rv{constructor(e,t,n,r,i,o){this.Oe=e,this.er=n,this.nr=r,this.credentialsProvider=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new nv(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}async stop(){this.ar()&&await this.close(0)}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,(()=>this.dr())))}wr(e){this._r(),this.stream.send(e)}async dr(){if(this.cr())return this.close(0)}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}async close(e,t){this._r(),this.rr.cancel(),this.sr++,3!==e?this.rr.reset():t&&t.code===od.RESOURCE_EXHAUSTED?(Xh(t.toString()),Xh("Using maximum backoff delay to prevent overloading the backend."),this.rr.Yi()):t&&t.code===od.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ci(t)}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then((e=>{this.sr===t&&this.yr(e)}),(t=>{e((()=>{const e=new sd(od.UNKNOWN,"Fetching auth token failed: "+t.message);return this.pr(e)}))}))}yr(e){const t=this.gr(this.sr);this.stream=this.Er(e),this.stream.Si((()=>{t((()=>(this.state=2,this.listener.Si())))})),this.stream.Ci((e=>{t((()=>this.pr(e)))})),this.stream.onMessage((e=>{t((()=>this.onMessage(e)))}))}ur(){this.state=4,this.rr.Xi((async()=>{this.state=0,this.start()}))}pr(e){return Zh("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget((()=>this.sr===e?t():(Zh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iv extends rv{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i),this.N=r}Er(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:nd()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.D?(rd(void 0===t||"string"==typeof t),Ad.fromBase64String(t||"")):(rd(void 0===t||t instanceof Uint8Array),Ad.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?od.UNKNOWN:kp(e.code);return new sd(t,e.message||"")}(s);n=new Kp(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=sm(e,r.document.name),o=nm(r.document.updateTime),s=new nf({mapValue:{fields:r.document.fields}}),a=of.newFoundDocument(i,o,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new qp(u,c,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=sm(e,r.document),o=r.readTime?nm(r.readTime):_d.min(),s=of.newNoDocument(i,o),a=r.removedTargetIds||[];n=new qp([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=sm(e,r.document),o=r.removedTargetIds||[];n=new qp([],o,i,null)}else{if(!("filter"in t))return nd();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new _p(r),o=e.targetId;n=new $p(o,i)}}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return _d.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?_d.min():t.readTime?nm(t.readTime):_d.min()}(e);return this.listener.Tr(t,n)}Ir(e){const t={};t.database=cm(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=lf(r)?{documents:mm(e,r)}:{query:gm(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=em(e,t.resumeToken):t.snapshotVersion.compareTo(_d.min())>0&&(n.readTime=Xp(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nd()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.N,e);n&&(t.labels=n),this.wr(t)}Ar(e){const t={};t.database=cm(this.N),t.removeTarget=e,this.wr(t)}}class ov extends rv{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle",t,n,i),this.N=r,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(e){return this.nr.ji("Write",e)}onMessage(e){if(rd(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(e,t){return e&&e.length>0?(rd(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?nm(e.updateTime):nm(t);return n.isEqual(_d.min())&&(n=nm(t)),new op(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=nm(e.commitTime);return this.listener.vr(n,t)}return rd(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=cm(this.N),this.wr(e)}br(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>fm(this.N,e)))};this.wr(t)}}class sv extends class{}{constructor(e,t,n){super(),this.credentials=e,this.nr=t,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new sd(od.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Li(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===od.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new sd(od.UNKNOWN,e.toString())}))}Ki(e,t,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Ki(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===od.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new sd(od.UNKNOWN,e.toString())}))}terminate(){this.Dr=!0}}class av{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve()))))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Xh(t),this.$r=!1):Zh("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class uv{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=i,this.Qr.Ei((e=>{n.enqueueAndForget((async()=>{yv(this)&&(Zh("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=id(e);t.Kr.add(4),await lv(t),t.Wr.set("Unknown"),t.Kr.delete(4),await cv(t)}(this))}))})),this.Wr=new av(n,r)}}async function cv(e){if(yv(e))for(const t of e.jr)await t(!0)}async function lv(e){for(const t of e.jr)await t(!1)}function hv(e,t){const n=id(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),gv(n)?mv(n):Rv(n).cr()&&fv(n,t))}function dv(e,t){const n=id(e),r=Rv(n);n.qr.delete(t),r.cr()&&pv(n,t),0===n.qr.size&&(r.cr()?r.lr():yv(n)&&n.Wr.set("Unknown"))}function fv(e,t){e.Gr.Y(t.targetId),Rv(e).Ir(t)}function pv(e,t){e.Gr.Y(t),Rv(e).Ar(t)}function mv(e){e.Gr=new Wp({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.qr.get(t)||null}),Rv(e).start(),e.Wr.Or()}function gv(e){return yv(e)&&!Rv(e).ar()&&e.qr.size>0}function yv(e){return 0===id(e).Kr.size}function vv(e){e.Gr=void 0}async function wv(e){e.qr.forEach(((t,n)=>{fv(e,t)}))}async function bv(e,t){vv(e),gv(e)?(e.Wr.Lr(t),mv(e)):e.Wr.set("Unknown")}async function _v(e,t,n){if(e.Wr.set("Online"),t instanceof Kp&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.qr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.qr.delete(r),e.Gr.removeTarget(r))}(e,t)}catch(n){Zh("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ev(e,n)}else if(t instanceof qp?e.Gr.rt(t):t instanceof $p?e.Gr.ft(t):e.Gr.ct(t),!n.isEqual(_d.min()))try{const t=await wy(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Gr._t(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.qr.get(r);i&&e.qr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.qr.get(t);if(!n)return;e.qr.set(t,n.withResumeToken(Ad.EMPTY_BYTE_STRING,n.snapshotVersion)),pv(e,t);const r=new dg(n.target,t,1,n.sequenceNumber);fv(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Zh("RemoteStore","Failed to raise snapshot:",t),await Ev(e,t)}}async function Ev(e,t,n){if(!rg(t))throw t;e.Kr.add(1),await lv(e),e.Wr.set("Offline"),n||(n=()=>wy(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Zh("RemoteStore","Retrying IndexedDB access"),await n(),e.Kr.delete(1),await cv(e)}))}function Sv(e,t){return t().catch((n=>Ev(e,n,t)))}async function Iv(e){const t=id(e),n=Lv(t);let r=t.Ur.length>0?t.Ur[t.Ur.length-1].batchId:-1;for(;kv(t);)try{const e=await _y(t.localStore,r);if(null===e){0===t.Ur.length&&n.lr();break}r=e.batchId,Tv(t,e)}catch(e){await Ev(t,e)}xv(t)&&Nv(t)}function kv(e){return yv(e)&&e.Ur.length<10}function Tv(e,t){e.Ur.push(t);const n=Lv(e);n.cr()&&n.Pr&&n.br(t.mutations)}function xv(e){return yv(e)&&!Lv(e).ar()&&e.Ur.length>0}function Nv(e){Lv(e).start()}async function Cv(e){Lv(e).Sr()}async function Av(e){const t=Lv(e);for(const n of e.Ur)t.br(n.mutations)}async function Ov(e,t,n){const r=e.Ur.shift(),i=hg.from(r,t,n);await Sv(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Iv(e)}async function Pv(e,t){t&&Lv(e).Pr&&await async function(e,t){if(Ip(n=t.code)&&n!==od.ABORTED){const n=e.Ur.shift();Lv(e).hr(),await Sv(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Iv(e)}var n}(e,t),xv(e)&&Nv(e)}async function Dv(e,t){const n=id(e);t?(n.Kr.delete(2),await cv(n)):t||(n.Kr.add(2),await lv(n),n.Wr.set("Unknown"))}function Rv(e){return e.zr||(e.zr=function(e,t,n){const r=id(e);return r.Cr(),new iv(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:wv.bind(null,e),Ci:bv.bind(null,e),Tr:_v.bind(null,e)}),e.jr.push((async t=>{t?(e.zr.hr(),gv(e)?mv(e):e.Wr.set("Unknown")):(await e.zr.stop(),vv(e))}))),e.zr}function Lv(e){return e.Hr||(e.Hr=function(e,t,n){const r=id(e);return r.Cr(),new ov(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:Cv.bind(null,e),Ci:Pv.bind(null,e),Vr:Av.bind(null,e),vr:Ov.bind(null,e)}),e.jr.push((async t=>{t?(e.Hr.hr(),await Iv(e)):(await e.Hr.stop(),e.Ur.length>0&&(Zh("RemoteStore",`Stopping write stream with ${e.Ur.length} pending writes`),e.Ur=[]))}))),e.Hr}class Mv{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ad,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Mv(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sd(od.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fv(e,t){if(Xh("AsyncQueue",`${t}: ${e}`),rg(e))return new sd(od.UNAVAILABLE,`${t}: ${e}`);throw e}class Uv{constructor(e){this.comparator=e?(t,n)=>e(t,n)||zd.comparator(t.key,n.key):(e,t)=>zd.comparator(e.key,t.key),this.keyedMap=Rp(),this.sortedSet=new Tp(this.comparator)}static emptySet(e){return new Uv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Uv))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Uv;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class jv{constructor(){this.Jr=new Tp(zd.comparator)}track(e){const t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):nd():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Vv{constructor(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Vv(e,t,Uv.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class zv{constructor(){this.Xr=void 0,this.listeners=[]}}class Bv{constructor(){this.queries=new Zg((e=>Uf(e)),Ff),this.onlineState="Unknown",this.Zr=new Set}}async function qv(e,t){const n=id(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new zv),i)try{o.Xr=await n.onListen(r)}catch(e){const n=Fv(e,`Initialization of query '${jf(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.eo(n.onlineState),o.Xr&&t.no(o.Xr)&&Wv(n)}async function $v(e,t){const n=id(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Kv(e,t){const n=id(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.no(e)&&(r=!0);i.Xr=e}}r&&Wv(n)}function Hv(e,t,n){const r=id(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function Wv(e){e.Zr.forEach((e=>{e.next()}))}class Gv{constructor(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Vv(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.uo&&n||e.docs.isEmpty()&&"Offline"!==t)}oo(e){if(e.docChanges.length>0)return!0;const t=this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}co(e){e=Vv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class Qv{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class Yv{constructor(e){this.N=e}zn(e){return sm(this.N,e)}Hn(e){return e.metadata.exists?dm(this.N,e.document,!1):of.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return nm(e)}}class Jv{constructor(e,t,n){this.lo=e,this.localStore=t,this.N=n,this.queries=[],this.documents=[],this.progress=Zv(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,n=new Yv(this.N);for(const r of e)if(r.metadata.queries){const e=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Up()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=id(e);let o=Up(),s=Pp(),a=Mp();for(const e of n){const n=t.zn(e.metadata.name);e.document&&(o=o.add(n)),s=s.insert(n,t.Hn(e)),a=a.insert(n,t.Jn(e.metadata.readTime))}const u=i.jn.newChangeBuffer({trackRemovals:!0}),c=await Ey(i,function(e){return Lf(Nf(Td.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>by(e,u,s,_d.min(),a).next((t=>(u.apply(e),t))).next((t=>i.ze.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.ze.addMatchingKeys(e,o,c.targetId))).next((()=>i.Qn.vn(e,t))).next((()=>t))))))}(this.localStore,new Yv(this.N),this.documents,this.lo.id),t=this.wo(this.documents);for(const e of this.queries)await xy(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",new dy(Object.assign({},this.progress),e)}}function Zv(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Xv{constructor(e){this.key=e}}class ew{constructor(e){this.key=e}}class tw{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=Up(),this.mutatedKeys=Up(),this.po=zf(e),this.Eo=new Uv(this.po)}get To(){return this._o}Io(e,t){const n=t?t.Ao:new jv,r=t?t.Eo:this.Eo;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a=Cf(this.query)&&r.size===this.query.limit?r.last():null,u=Af(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),l=Vf(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;c&&l?c.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Ro(c,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.po(l,a)>0||u&&this.po(l,u)<0)&&(s=!0)):!c&&l?(n.track({type:0,doc:l}),f=!0):c&&!l&&(n.track({type:1,doc:c}),f=!0,(a||u)&&(s=!0)),f&&(l?(o=o.add(l),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),Cf(this.query)||Af(this.query))for(;o.size>this.query.limit;){const e=Cf(this.query)?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Eo:o,Ao:n,Ln:s,mutatedKeys:i}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;const i=e.Ao.Yr();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nd()}};return n(e)-n(t)}(e.type,t.type)||this.po(e.doc,t.doc))),this.Po(n);const o=t?this.bo():[],s=0===this.yo.size&&this.current?1:0,a=s!==this.mo;return this.mo=s,0!==i.length||a?{snapshot:new Vv(this.query,e.Eo,r,i,e.mutatedKeys,0===s,a,!1),vo:o}:{vo:o}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new jv,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations}Po(e){e&&(e.addedDocuments.forEach((e=>this._o=this._o.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this._o=this._o.delete(e))),this.current=e.current)}bo(){if(!this.current)return[];const e=this.yo;this.yo=Up(),this.Eo.forEach((e=>{this.Vo(e.key)&&(this.yo=this.yo.add(e.key))}));const t=[];return e.forEach((e=>{this.yo.has(e)||t.push(new ew(e))})),this.yo.forEach((n=>{e.has(n)||t.push(new Xv(n))})),t}So(e){this._o=e.Gn,this.yo=Up();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return Vv.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class nw{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class rw{constructor(e){this.key=e,this.Co=!1}}class iw{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.No={},this.xo=new Zg((e=>Uf(e)),Ff),this.ko=new Map,this.$o=new Set,this.Oo=new Tp(zd.comparator),this.Fo=new Map,this.Mo=new Cy,this.Lo={},this.Bo=new Map,this.Uo=Vg.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}async function ow(e,t){const n=Ow(e);let r,i;const o=n.xo.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Do();else{const e=await Ey(n.localStore,Lf(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await sw(n,t,r,"current"===o),n.isPrimaryClient&&hv(n.remoteStore,e)}return i}async function sw(e,t,n,r){e.Ko=(t,n,r)=>async function(e,t,n,r){let i=t.view.Io(n);i.Ln&&(i=await Iy(e.localStore,t.query,!1).then((({documents:e})=>t.view.Io(e,i))));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return yw(e,t.targetId,s.vo),s.snapshot}(e,t,n,r);const i=await Iy(e.localStore,t,!0),o=new tw(t,i.Gn),s=o.Io(i.documents),a=Bp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(s,e.isPrimaryClient,a);yw(e,n,u.vo);const c=new nw(t,n,o);return e.xo.set(t,c),e.ko.has(n)?e.ko.get(n).push(t):e.ko.set(n,[t]),u.snapshot}async function aw(e,t){const n=id(e),r=n.xo.get(t),i=n.ko.get(r.targetId);if(i.length>1)return n.ko.set(r.targetId,i.filter((e=>!Ff(e,t)))),void n.xo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Sy(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),dv(n.remoteStore,r.targetId),mw(n,r.targetId)})).catch(Kg)):(mw(n,r.targetId),await Sy(n.localStore,r.targetId,!0))}async function uw(e,t){const n=id(e);try{const e=await function(e,t){const n=id(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const s=[];t.targetChanges.forEach(((t,o)=>{const a=i.get(o);if(!a)return;s.push(n.ze.removeMatchingKeys(e,t.removedDocuments,o).next((()=>n.ze.addMatchingKeys(e,t.addedDocuments,o))));const u=t.resumeToken;if(u.approximateByteSize()>0){const c=a.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return rd(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,t)&&s.push(n.ze.updateTargetData(e,c))}}));let a=Pp();if(t.documentUpdates.forEach(((r,i)=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(by(e,o,t.documentUpdates,r,void 0).next((e=>{a=e}))),!r.isEqual(_d.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next((t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Zm.waitFor(s).next((()=>o.apply(e))).next((()=>n.Qn.vn(e,a))).next((()=>a))})).then((e=>(n.Un=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fo.get(t);r&&(rd(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?rd(r.Co):e.removedDocuments.size>0&&(rd(r.Co),r.Co=!1))})),await bw(n,e,t)}catch(e){await Kg(e)}}function cw(e,t,n){const r=id(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xo.forEach(((n,r)=>{const i=r.view.eo(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=id(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.eo(t)&&(r=!0)})),r&&Wv(n)}(r.eventManager,t),e.length&&r.No.Tr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function lw(e,t,n){const r=id(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fo.get(t),o=i&&i.key;if(o){let e=new Tp(zd.comparator);e=e.insert(o,of.newNoDocument(o,_d.min()));const n=Up().add(o),i=new zp(_d.min(),new Map,new Cp(yd),e,n);await uw(r,i),r.Oo=r.Oo.remove(o),r.Fo.delete(t),ww(r)}else await Sy(r.localStore,t,!1).then((()=>mw(r,t,n))).catch(Kg)}async function hw(e,t){const n=id(e),r=t.batch.batchId;try{const e=await function(e,t){const n=id(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Zm.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);rd(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),s.next((()=>e.In.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.In.performConsistencyCheck(e))).next((()=>n.Qn.bn(e,r)))}))}(n.localStore,t);pw(n,r,null),fw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bw(n,e)}catch(e){await Kg(e)}}async function dw(e,t,n){const r=id(e);try{const e=await function(e,t){const n=id(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.In.lookupMutationBatch(e,t).next((t=>(rd(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t)))).next((()=>n.In.performConsistencyCheck(e))).next((()=>n.Qn.bn(e,r)))}))}(r.localStore,t);pw(r,t,n),fw(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await bw(r,e)}catch(n){await Kg(n)}}function fw(e,t){(e.Bo.get(t)||[]).forEach((e=>{e.resolve()})),e.Bo.delete(t)}function pw(e,t,n){const r=id(e);let i=r.Lo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function mw(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ko.get(t))e.xo.delete(r),n&&e.No.jo(r,n);e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach((t=>{e.Mo.containsKey(t)||gw(e,t)}))}function gw(e,t){e.$o.delete(t.path.canonicalString());const n=e.Oo.get(t);null!==n&&(dv(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),ww(e))}function yw(e,t,n){for(const r of n)r instanceof Xv?(e.Mo.addReference(r.key,t),vw(e,r)):r instanceof ew?(Zh("SyncEngine","Document no longer in limbo: "+r.key),e.Mo.removeReference(r.key,t),e.Mo.containsKey(r.key)||gw(e,r.key)):nd()}function vw(e,t){const n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(Zh("SyncEngine","New document in limbo: "+n),e.$o.add(r),ww(e))}function ww(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){const t=e.$o.values().next().value;e.$o.delete(t);const n=new zd(Td.fromString(t)),r=e.Uo.next();e.Fo.set(r,new rw(n)),e.Oo=e.Oo.insert(n,r),hv(e.remoteStore,new dg(Lf(Nf(n.path)),r,2,pd.T))}}async function bw(e,t,n){const r=id(e),i=[],o=[],s=[];r.xo.isEmpty()||(r.xo.forEach(((e,a)=>{s.push(r.Ko(a,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=py.kn(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.No.Tr(i),await async function(e,t){const n=id(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Zm.forEach(t,(t=>Zm.forEach(t.Nn,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Zm.forEach(t.xn,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!rg(e))throw e;Zh("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Un.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Un=n.Un.insert(t,i)}}}(r.localStore,o))}async function _w(e,t){const n=id(e);if(!n.currentUser.isEqual(t)){Zh("SyncEngine","User change. New user:",t.toKey());const e=await vy(n.localStore,t);n.currentUser=t,function(e,t){e.Bo.forEach((e=>{e.forEach((e=>{e.reject(new sd(od.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Bo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await bw(n,e.Wn)}}function Ew(e,t){const n=id(e),r=n.Fo.get(t);if(r&&r.Co)return Up().add(r.key);{let e=Up();const r=n.ko.get(t);if(!r)return e;for(const t of r){const r=n.xo.get(t);e=e.unionWith(r.view.To)}return e}}async function Sw(e,t){const n=id(e),r=await Iy(n.localStore,t.query,!0),i=t.view.So(r);return n.isPrimaryClient&&yw(n,t.targetId,i.vo),i}async function Iw(e){const t=id(e);return Ty(t.localStore).then((e=>bw(t,e)))}async function kw(e,t,n,r){const i=id(e),o=await function(e,t){const n=id(e),r=id(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Xt(e,t).next((t=>t?n.Qn.bn(e,t):Zm.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await Iv(i.remoteStore):"acknowledged"===n||"rejected"===n?(pw(i,t,r||null),fw(i,t),function(e,t){id(id(e).In).te(t)}(i.localStore,t)):nd(),await bw(i,o)):Zh("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Tw(e,t,n){const r=id(e),i=[],o=[];for(const e of t){let t;const n=r.ko.get(e);if(n&&0!==n.length){t=await Ey(r.localStore,Lf(n[0]));for(const e of n){const t=r.xo.get(e),n=await Sw(r,t);n.snapshot&&o.push(n.snapshot)}}else{const n=await ky(r.localStore,e);t=await Ey(r.localStore,n),await sw(r,xw(n),e,!1)}i.push(t)}return r.No.Tr(o),i}function xw(e){return xf(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Nw(e){const t=id(e);return id(id(t.localStore).persistence).pn()}async function Cw(e,t,n,r){const i=id(e);if(i.qo)Zh("SyncEngine","Ignoring unexpected query state notification.");else if(i.ko.has(t))switch(n){case"current":case"not-current":{const e=await Ty(i.localStore),r=zp.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await bw(i,e,r);break}case"rejected":await Sy(i.localStore,t,!0),mw(i,t,r);break;default:nd()}}async function Aw(e,t,n){const r=Ow(e);if(r.qo){for(const e of t){if(r.ko.has(e)){Zh("SyncEngine","Adding an already active target "+e);continue}const t=await ky(r.localStore,e),n=await Ey(r.localStore,t);await sw(r,xw(t),n.targetId,!1),hv(r.remoteStore,n)}for(const e of n)r.ko.has(e)&&await Sy(r.localStore,e,!1).then((()=>{dv(r.remoteStore,e),mw(r,e)})).catch(Kg)}}function Ow(e){const t=id(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=uw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ew.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lw.bind(null,t),t.No.Tr=Kv.bind(null,t.eventManager),t.No.jo=Hv.bind(null,t.eventManager),t}function Pw(e){const t=id(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dw.bind(null,t),t}class Dw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.N=tv(e.databaseInfo.databaseId),this.sharedClientState=this.Wo(e),this.persistence=this.Go(e),await this.persistence.start(),this.gcScheduler=this.zo(e),this.localStore=this.Ho(e)}zo(e){return null}Ho(e){return yy(this.persistence,new my,e.initialUser,this.N)}Go(e){return new Ly(Fy.Ns,this.N)}Wo(e){return new Wy}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Rw extends Dw{constructor(e,t,n){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await async function(e){const t=id(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",(e=>function(e){const t=ry(e);let n=_d.min();return t.Kt({index:Vm.readTimeIndex,reverse:!0},((e,t,r)=>{t.readTime&&(n=yg(t.readTime)),r.done()})).next((()=>n))}(e))).then((e=>{t.Kn=e}))}(this.localStore),await this.Jo.initialize(this,e),await Pw(this.Jo.syncEngine),await Iv(this.Jo.remoteStore),await this.persistence.nn((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve())))}Ho(e){return yy(this.persistence,new my,e.initialUser,this.N)}zo(e){const t=this.persistence.referenceDelegate.garbageCollector;return new Gg(t,e.asyncQueue)}Go(e){const t=hy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Pg.withCacheSize(this.cacheSizeBytes):Pg.DEFAULT;return new uy(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Xy(),ev(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new Wy}}class Lw extends Rw{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Jo.syncEngine;this.sharedClientState instanceof Hy&&(this.sharedClientState.syncEngine={_i:kw.bind(null,t),mi:Cw.bind(null,t),gi:Aw.bind(null,t),pn:Nw.bind(null,t),wi:Iw.bind(null,t)},await this.sharedClientState.start()),await this.persistence.nn((async e=>{await async function(e,t){const n=id(e);if(Ow(n),Pw(n),!0===t&&!0!==n.qo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Tw(n,e.toArray());n.qo=!0,await Dv(n.remoteStore,!0);for(const e of t)hv(n.remoteStore,e)}else if(!1===t&&!1!==n.qo){const e=[];let t=Promise.resolve();n.ko.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(mw(n,i),Sy(n.localStore,i,!0)))),dv(n.remoteStore,i)})),await t,await Tw(n,e),function(e){const t=id(e);t.Fo.forEach(((e,n)=>{dv(t.remoteStore,n)})),t.Mo.us(),t.Fo=new Map,t.Oo=new Tp(zd.comparator)}(n),n.qo=!1,await Dv(n.remoteStore,!1)}}(this.Jo.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop())}))}Wo(e){const t=Xy();if(!Hy.Pt(t))throw new sd(od.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=hy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Hy(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Mw{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>cw(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=_w.bind(null,this.syncEngine),await Dv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Bv}createDatastore(e){const t=tv(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Zy(r));var r;return function(e,t,n){return new sv(e,t,n)}(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>cw(this.syncEngine,e,0),o=Qy.Pt()?new Qy:new Gy,new uv(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new iw(e,t,n,r,i,o);return s&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=id(e);Zh("RemoteStore","RemoteStore shutting down."),t.Kr.add(5),await lv(t),t.Qr.shutdown(),t.Wr.set("Unknown")}(this.remoteStore)}}function Fw(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class Uw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class jw{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new ad,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then((e=>{e&&e.ho()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))}),(e=>this.metadata.reject(e)))}close(){return this.Zo.cancel()}async getMetadata(){return this.metadata.promise}async Qo(){return await this.getMetadata(),this.ea()}async ea(){const e=await this.na();if(null===e)return null;const t=this.ta.decode(e),n=Number(t);isNaN(n)&&this.sa(`length string (${t}) is not valid number`);const r=await this.ia(n);return new Qv(JSON.parse(r),e.length+n)}ra(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async na(){for(;this.ra()<0&&!await this.oa(););if(0===this.buffer.length)return null;const e=this.ra();e<0&&this.sa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ia(e){for(;this.buffer.length<e;)await this.oa()&&this.sa("Reached the end of bundle when more is expected.");const t=this.ta.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}async oa(){const e=await this.Zo.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Vw{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new sd(od.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=id(e),r=cm(n.N)+"/documents",i={documents:t.map((e=>om(n.N,e)))},o=await n.Ki("BatchGetDocuments",r,i),s=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){rd(!!t.found),t.found.name,t.found.updateTime;const n=sm(e,t.found.name),r=nm(t.found.updateTime),i=new nf({mapValue:{fields:t.found.fields}});return of.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){rd(!!t.missing),rd(!!t.readTime);const n=sm(e,t.missing),r=nm(t.readTime);return of.newNoDocument(n,r)}(e,t):nd()}(n.N,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());rd(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new wp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=zd.fromPath(t);this.mutations.push(new bp(n,this.precondition(n)))})),await async function(e,t){const n=id(e),r=cm(n.N)+"/documents",i={writes:t.map((e=>fm(n.N,e)))};await n.Li("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw nd();t=_d.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new sd(od.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?sp.updateTime(t):sp.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_d.min()))throw new sd(od.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sp.updateTime(t)}return sp.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class zw{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.aa=5,this.rr=new nv(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){this.rr.Xi((async()=>{const e=new Vw(this.datastore),t=this.ua(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ha(e)}))))})).catch((e=>{this.ha(e)}))}))}ua(e){try{const t=this.updateFunction(e);return!Ud(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget((()=>(this.ca(),Promise.resolve())))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Ip(t)}return!1}}class Bw{constructor(e,t,n){this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Gh.UNAUTHENTICATED,this.clientId=gd.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,(async e=>{Zh("FirestoreClient","Received user=",e.uid),await this.credentialListener(e),this.user=e}))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new sd(od.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ad;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.credentials.shutdown(),e.resolve()}catch(t){const n=Fv(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function qw(e,t){e.asyncQueue.verifyOperationInProgress(),Zh("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await vy(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function $w(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Kw(e);Zh("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>async function(e,t){const n=id(e);n.asyncQueue.verifyOperationInProgress(),Zh("RemoteStore","RemoteStore received new credentials");const r=yv(n);n.Kr.add(3),await lv(n),r&&n.Wr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Kr.delete(3),await cv(n)}(t.remoteStore,e))),e.onlineComponents=t}async function Kw(e){return e.offlineComponents||(Zh("FirestoreClient","Using default OfflineComponentProvider"),await qw(e,new Dw)),e.offlineComponents}async function Hw(e){return e.onlineComponents||(Zh("FirestoreClient","Using default OnlineComponentProvider"),await $w(e,new Mw)),e.onlineComponents}function Ww(e){return Kw(e).then((e=>e.persistence))}function Gw(e){return Kw(e).then((e=>e.localStore))}function Qw(e){return Hw(e).then((e=>e.remoteStore))}function Yw(e){return Hw(e).then((e=>e.syncEngine))}async function Jw(e){const t=await Hw(e),n=t.eventManager;return n.onListen=ow.bind(null,t.syncEngine),n.onUnlisten=aw.bind(null,t.syncEngine),n}function Zw(e,t,n={}){const r=new ad;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Uw({next:o=>{t.enqueueAndForget((()=>$v(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new sd(od.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new sd(od.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Gv(Nf(n.path),o,{includeMetadataChanges:!0,uo:!0});return qv(e,s)}(await Jw(e),e.asyncQueue,t,n,r))),r.promise}function Xw(e,t,n={}){const r=new ad;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Uw({next:n=>{t.enqueueAndForget((()=>$v(e,s))),n.fromCache&&"server"===r.source?i.reject(new sd(od.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Gv(n,o,{includeMetadataChanges:!0,uo:!0});return qv(e,s)}(await Jw(e),e.asyncQueue,t,n,r))),r.promise}class eb{constructor(e,t,n,r,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a}}class tb{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof tb&&e.projectId===this.projectId&&e.database===this.database}}const nb=new Map;function rb(e,t,n){if(!n)throw new sd(od.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ib(e,t,n,r){if(!0===t&&!0===r)throw new sd(od.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ob(e){if(!zd.isDocumentKey(e))throw new sd(od.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function sb(e){if(zd.isDocumentKey(e))throw new sd(od.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ab(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){if(e.constructor){const t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":nd()}function ub(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new sd(od.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ab(e);throw new sd(od.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function cb(e,t){if(t<=0)throw new sd(od.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class lb{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new sd(od.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new sd(od.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ib("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hb{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lb({}),this._settingsFrozen=!1,e instanceof tb?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new sd(od.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tb(e.options.projectId)}(e))}get app(){if(!this._app)throw new sd(od.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new sd(od.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lb(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new cd;switch(e.type){case"gapi":const t=e.client;return rd(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new fd(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new sd(od.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=nb.get(e);t&&(Zh("ComponentProvider","Removing Datastore"),nb.delete(e),t.terminate())}(this),Promise.resolve()}}class db{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pb(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new db(this.firestore,e,this._key)}}class fb{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new fb(this.firestore,e,this._query)}}class pb extends fb{constructor(e,t,n){super(e,t,Nf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new db(this.firestore,null,new zd(e))}withConverter(e){return new pb(this.firestore,e,this._path)}}function mb(e,t,...n){if(e=Jn(e),rb("collection","path",t),e instanceof hb){const r=Td.fromString(t,...n);return sb(r),new pb(e,null,r)}{if(!(e instanceof db||e instanceof pb))throw new sd(od.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=Td.fromString(e.path,...n).child(Td.fromString(t));return sb(r),new pb(e.firestore,null,r)}}function gb(e,t,...n){if(e=Jn(e),1===arguments.length&&(t=gd.I()),rb("doc","path",t),e instanceof hb){const r=Td.fromString(t,...n);return ob(r),new db(e,null,new zd(r))}{if(!(e instanceof db||e instanceof pb))throw new sd(od.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Td.fromString(t,...n));return ob(r),new db(e.firestore,e instanceof pb?e.converter:null,new zd(r))}}function yb(e,t){return e=Jn(e),t=Jn(t),(e instanceof db||e instanceof pb)&&(t instanceof db||t instanceof pb)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function vb(e,t){return e=Jn(e),t=Jn(t),e instanceof fb&&t instanceof fb&&e.firestore===t.firestore&&Ff(e._query,t._query)&&e.converter===t.converter}class wb{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new nv(this,"async_queue_retry"),this.Ea=()=>{const e=ev();e&&Zh("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const e=ev();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ta(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=ev();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ea)}}enqueue(e){if(this.Ta(),this.wa)return new Promise((()=>{}));const t=new ad;return this.Ia((()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.da.push(e),this.Aa())))}async Aa(){if(0!==this.da.length){try{await this.da[0](),this.da.shift(),this.rr.reset()}catch(e){if(!rg(e))throw e;Zh("AsyncQueue","Operation failed with retryable error: "+e)}this.da.length>0&&this.rr.Xi((()=>this.Aa()))}}Ia(e){const t=this.fa.then((()=>(this.ga=!0,e().catch((e=>{throw this.ma=e,this.ga=!1,Xh("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((e=>(this.ga=!1,e))))));return this.fa=t,t}enqueueAfterDelay(e,t,n){this.Ta(),this.pa.indexOf(e)>-1&&(t=0);const r=Mv.createAndSchedule(this,e,t,n,(e=>this.Ra(e)));return this._a.push(r),r}Ta(){this.ma&&nd()}verifyOperationInProgress(){}async Pa(){let e;do{e=this.fa,await e}while(e!==this.fa)}ba(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.Pa().then((()=>{this._a.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pa()}))}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function bb(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class _b{constructor(){this._progressObserver={},this._taskCompletionResolver=new ad,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Eb extends hb{constructor(e,t){super(e,t),this.type="firestore",this._queue=new wb,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Ib(this),this._firestoreClient.terminate()}}function Sb(e){return e._firestoreClient||Ib(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ib(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new eb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Bw(e._credentials,e._queue,r)}function kb(e,t,n){const r=new ad;return e.asyncQueue.enqueue((async()=>{try{await qw(e,n),await $w(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===od.FAILED_PRECONDITION||e.code===od.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then((()=>r.promise))}function Tb(e){if(e._initialized||e._terminated)throw new sd(od.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class xb{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new sd(od.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nd(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nb{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nb(Ad.fromBase64String(e))}catch(e){throw new sd(od.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Nb(Ad.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Cb{constructor(e){this._methodName=e}}class Ab{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new sd(od.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new sd(od.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yd(this._lat,e._lat)||yd(this._long,e._long)}}const Ob=/^__.*__$/;class Pb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new mp(e,this.data,this.fieldMask,t,this.fieldTransforms):new pp(e,this.data,t,this.fieldTransforms)}}class Db{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new mp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Rb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nd()}}class Lb{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sa(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new Lb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}$a(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return t_(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(Rb(this.Da)&&Ob.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class Mb{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||tv(e)}Ba(e,t,n,r=!1){return new Lb({Da:e,methodName:t,La:n,path:Nd.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Fb(e){const t=e._freezeSettings(),n=tv(e._databaseId);return new Mb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ub(e,t,n,r,i,o={}){const s=e.Ba(o.merge||o.mergeFields?2:0,t,n,i);Jb("Data must be an object, but it was:",s,r);const a=Qb(r,s);let u,c;if(o.merge)u=new Cd(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Zb(t,r,n);if(!s.contains(i))throw new sd(od.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);n_(e,i)||e.push(i)}u=new Cd(e),c=s.fieldTransforms.filter((e=>u.covers(e.field)))}else u=null,c=s.fieldTransforms;return new Pb(new nf(a),u,c)}class jb extends Cb{_toFieldTransform(e){if(2!==e.Da)throw 1===e.Da?e.Fa(`${this._methodName}() can only appear at the top level of your update data`):e.Fa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jb}}function Vb(e,t,n){return new Lb({Da:3,La:t.settings.La,methodName:e._methodName,xa:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}class zb extends Cb{_toFieldTransform(e){return new ip(e.path,new Yf)}isEqual(e){return e instanceof zb}}class Bb extends Cb{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Vb(this,e,!0),n=this.Ua.map((e=>Gb(e,t))),r=new Jf(n);return new ip(e.path,r)}isEqual(e){return this===e}}class qb extends Cb{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Vb(this,e,!0),n=this.Ua.map((e=>Gb(e,t))),r=new Xf(n);return new ip(e.path,r)}isEqual(e){return this===e}}class $b extends Cb{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new tp(e.N,Kf(e.N,this.qa));return new ip(e.path,t)}isEqual(e){return this===e}}function Kb(e,t,n,r){const i=e.Ba(1,t,n);Jb("Data must be an object, but it was:",i,r);const o=[],s=nf.empty();Sd(r,((e,r)=>{const a=e_(t,e,n);r=Jn(r);const u=i.$a(a);if(r instanceof jb)o.push(a);else{const e=Gb(r,u);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Cd(o);return new Db(s,a,i.fieldTransforms)}function Hb(e,t,n,r,i,o){const s=e.Ba(1,t,n),a=[Zb(t,r,n)],u=[i];if(o.length%2!=0)throw new sd(od.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<o.length;e+=2)a.push(Zb(t,o[e])),u.push(o[e+1]);const c=[],l=nf.empty();for(let e=a.length-1;e>=0;--e)if(!n_(c,a[e])){const t=a[e];let n=u[e];n=Jn(n);const r=s.$a(t);if(n instanceof jb)c.push(t);else{const e=Gb(n,r);null!=e&&(c.push(t),l.set(t,e))}}const h=new Cd(c);return new Db(l,h,s.fieldTransforms)}function Wb(e,t,n,r=!1){return Gb(n,e.Ba(r?4:3,t))}function Gb(e,t){if(Yb(e=Jn(e)))return Jb("Unsupported field value:",t,e),Qb(e,t);if(e instanceof Cb)return function(e,t){if(!Rb(t.Da))throw t.Fa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Fa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Gb(i,t.Oa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Jn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Kf(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=bd.fromDate(e);return{timestampValue:Xp(t.N,n)}}if(e instanceof bd){const n=new bd(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Xp(t.N,n)}}if(e instanceof Ab)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Nb)return{bytesValue:em(t.N,e._byteString)};if(e instanceof db){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:rm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa(`Unsupported field value: ${ab(e)}`)}(e,t)}function Qb(e,t){const n={};return Id(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sd(e,((e,r)=>{const i=Gb(r,t.Na(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Yb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof bd||e instanceof Ab||e instanceof Nb||e instanceof db||e instanceof Cb)}function Jb(e,t,n){if(!Yb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ab(n);throw"an object"===r?t.Fa(e+" a custom object"):t.Fa(e+" "+r)}}function Zb(e,t,n){if((t=Jn(t))instanceof xb)return t._internalPath;if("string"==typeof t)return e_(e,t);throw t_("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const Xb=new RegExp("[~\\*/\\[\\]]");function e_(e,t,n){if(t.search(Xb)>=0)throw t_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new xb(...t.split("."))._internalPath}catch(r){throw t_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function t_(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new sd(od.INVALID_ARGUMENT,a+e+u)}function n_(e,t){return e.some((e=>e.isEqual(t)))}class r_{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new db(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new i_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(o_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class i_ extends r_{data(){return super.data()}}function o_(e,t){return"string"==typeof t?e_(e,t):t instanceof xb?t._internalPath:t._delegate._internalPath}class s_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class a_ extends r_{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new u_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(o_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class u_ extends a_{data(e={}){return super.data(e)}}class c_{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new s_(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new u_(this._firestore,this._userDataWriter,n.key,n,new s_(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new sd(od.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new u_(e._firestore,e._userDataWriter,n.doc.key,n.doc,new s_(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new u_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new s_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:l_(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function l_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nd()}}function h_(e,t){return e instanceof a_&&t instanceof a_?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof c_&&t instanceof c_&&e._firestore===t._firestore&&vb(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function d_(e){if(Af(e)&&0===e.explicitOrderBy.length)throw new sd(od.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class f_{}function p_(e,...t){for(const n of t)e=n._apply(e);return e}class m_ extends f_{constructor(e,t,n){super(),this.Ka=e,this.ja=t,this.Qa=n,this.type="where"}_apply(e){const t=Fb(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new sd(od.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on FieldPath.documentId().`);if("in"===o||"not-in"===o){E_(s,o);const t=[];for(const n of s)t.push(__(r,e,n));a={arrayValue:{values:t}}}else a=__(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||E_(s,o),a=Wb(n,"where",s,"in"===o||"not-in"===o);const u=hf.create(i,o,a);return function(e,t){if(t.v()){const n=Pf(e);if(null!==n&&!n.isEqual(t.field))throw new sd(od.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=Of(e);null!==r&&S_(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new sd(od.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new sd(od.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,u),u}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new fb(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new Tf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class g_ extends f_{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new sd(od.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new sd(od.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Ef(t,n);return function(e,t){if(null===Of(e)){const n=Pf(e);null!==n&&S_(0,n,t.field)}}(e,r),r}(e._query,this.Ka,this.Wa);return new fb(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Tf(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class y_ extends f_{constructor(e,t,n){super(),this.type=e,this.Ga=t,this.za=n}_apply(e){return new fb(e.firestore,e.converter,Mf(e._query,this.Ga,this.za))}}class v_ extends f_{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=b_(e,this.type,this.Ha,this.Ja);return new fb(e.firestore,e.converter,function(e,t){return new Tf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class w_ extends f_{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=b_(e,this.type,this.Ha,this.Ja);return new fb(e.firestore,e.converter,function(e,t){return new Tf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function b_(e,t,n,r){if(n[0]=Jn(n[0]),n[0]instanceof r_)return function(e,t,n,r,i){if(!r)throw new sd(od.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const n of Rf(e))if(n.field.isKeyField())o.push(Qd(t,r.key));else{const e=r.data.field(n.field);if(Ld(e))throw new sd(od.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new sd(od.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new bf(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Fb(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new sd(od.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let o=0;o<i.length;o++){const u=i[o];if(s[o].field.isKeyField()){if("string"!=typeof u)throw new sd(od.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof u}`);if(!Df(e)&&-1!==u.indexOf("/"))throw new sd(od.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${u}' contains a slash.`);const n=e.path.child(Td.fromString(u));if(!zd.isDocumentKey(n))throw new sd(od.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new zd(n);a.push(Qd(t,i))}else{const e=Wb(n,r,u);a.push(e)}}return new bf(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function __(e,t,n){if("string"==typeof(n=Jn(n))){if(""===n)throw new sd(od.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Df(t)&&-1!==n.indexOf("/"))throw new sd(od.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Td.fromString(n));if(!zd.isDocumentKey(r))throw new sd(od.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qd(e,new zd(r))}if(n instanceof db)return Qd(e,n._key);throw new sd(od.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${ab(n)}.`)}function E_(e,t){if(!Array.isArray(e)||0===e.length)throw new sd(od.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new sd(od.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function S_(e,t,n){if(!n.isEqual(t))throw new sd(od.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class I_{convertValue(e,t="none"){switch(Bd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nd()}}convertObject(e,t){const n={};return Sd(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Ab(Dd(e.latitude),Dd(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Md(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Fd(e));default:return null}}convertTimestamp(e){const t=Pd(e);return new bd(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Td.fromString(e);rd(Nm(n));const r=new tb(n.get(1),n.get(3)),i=new zd(n.popFirst(5));return r.isEqual(t)||Xh(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function k_(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class T_ extends I_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nb(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new db(this.firestore,null,t)}}class x_{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Fb(e)}set(e,t,n){this._verifyNotCommitted();const r=N_(e,this._firestore),i=k_(r.converter,t,n),o=Ub(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,sp.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=N_(e,this._firestore);let o;return o="string"==typeof(t=Jn(t))||t instanceof xb?Hb(this._dataReader,"WriteBatch.update",i._key,t,n,r):Kb(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(o.toMutation(i._key,sp.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=N_(e,this._firestore);return this._mutations=this._mutations.concat(new wp(t._key,sp.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new sd(od.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function N_(e,t){if((e=Jn(e)).firestore!==t)throw new sd(od.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class C_ extends I_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nb(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new db(this.firestore,null,t)}}function A_(e,t,n){e=ub(e,db);const r=ub(e.firestore,Eb),i=k_(e.converter,t,n);return D_(r,[Ub(Fb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,sp.none())])}function O_(e,t,n,...r){e=ub(e,db);const i=ub(e.firestore,Eb),o=Fb(i);let s;return s="string"==typeof(t=Jn(t))||t instanceof xb?Hb(o,"updateDoc",e._key,t,n,r):Kb(o,"updateDoc",e._key,t),D_(i,[s.toMutation(e._key,sp.exists(!0))])}function P_(e,...t){var n,r,i;e=Jn(e);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||bb(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(bb(t[s])){const e=t[s];t[s]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[s+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[s+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,c,l;if(e instanceof db)c=ub(e.firestore,Eb),l=Nf(e._key.path),u={next:n=>{t[s]&&t[s](R_(c,e,n))},error:t[s+1],complete:t[s+2]};else{const n=ub(e,fb);c=ub(n.firestore,Eb),l=n._query;const r=new C_(c);u={next:e=>{t[s]&&t[s](new c_(c,r,n,e))},error:t[s+1],complete:t[s+2]},d_(e._query)}return function(e,t,n,r){const i=new Uw(r),o=new Gv(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>qv(await Jw(e),o))),()=>{i.Xo(),e.asyncQueue.enqueueAndForget((async()=>$v(await Jw(e),o)))}}(Sb(c),l,a,u)}function D_(e,t){return function(e,t){const n=new ad;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Pw(e);try{const e=await function(e,t){const n=id(e),r=bd.now(),i=t.reduce(((e,t)=>e.add(t.key)),Up());let o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Qn.bn(e,i).next((i=>{o=i;const s=[];for(const e of t){const t=hp(e,o.get(e.key));null!=t&&s.push(new mp(e.key,t,rf(t.value.mapValue),sp.exists(!0)))}return n.In.addMutationBatch(e,r,s,t)})))).then((e=>(e.applyToLocalDocumentSet(o),{batchId:e.batchId,changes:o})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Lo[e.currentUser.toKey()];r||(r=new Tp(yd)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,e.batchId,n),await bw(r,e.changes),await Iv(r.remoteStore)}catch(e){const t=Fv(e,"Failed to persist write");n.reject(t)}}(await Yw(e),t,n))),n.promise}(Sb(e),t)}function R_(e,t,n){const r=n.docs.get(t._key),i=new C_(e);return new a_(e,i,t._key,r,new s_(n.hasPendingWrites,n.fromCache),t.converter)}class L_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Fb(e)}get(e){const t=N_(e,this._firestore),n=new T_(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return nd();const r=e[0];if(r.isFoundDocument())return new r_(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new r_(this._firestore,n,t._key,null,t.converter);throw nd()}))}set(e,t,n){const r=N_(e,this._firestore),i=k_(r.converter,t,n),o=Ub(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n,...r){const i=N_(e,this._firestore);let o;return o="string"==typeof(t=Jn(t))||t instanceof xb?Hb(this._dataReader,"Transaction.update",i._key,t,n,r):Kb(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,o),this}delete(e){const t=N_(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=N_(e,this._firestore),n=new C_(this._firestore);return super.get(e).then((e=>new a_(this._firestore,n,t._key,e._document,new s_(!1,!1),t.converter)))}}function M_(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new sd("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function F_(){if("undefined"==typeof Uint8Array)throw new sd("unimplemented","Uint8Arrays are not available in this environment.")}function U_(){if("undefined"==typeof atob)throw new sd("unimplemented","Blobs are unavailable in Firestore in this environment.")}Qh=Tr,br(new Xn("firestore",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new Eb(n,new hd(e.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r}),"PUBLIC")),Or("@firebase/firestore","3.0.1",void 0);class j_{constructor(e){this._delegate=e}static fromBase64String(e){return U_(),new j_(Nb.fromBase64String(e))}static fromUint8Array(e){return F_(),new j_(Nb.fromUint8Array(e))}toBase64(){return U_(),this._delegate.toBase64()}toUint8Array(){return F_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function V_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class z_{enableIndexedDbPersistence(e,t){return function(e,t){Tb(e=ub(e,Eb));const n=Sb(e),r=e._freezeSettings(),i=new Mw;return kb(n,i,new Rw(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){Tb(e=ub(e,Eb));const t=Sb(e),n=e._freezeSettings(),r=new Mw;return kb(t,r,new Lw(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new sd(od.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ad;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!eg.Pt())return Promise.resolve();const t=e+"main";await eg.delete(t)}(hy(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class B_{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof tb||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||ed("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const o=(e=ub(e,hb))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&ed("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Gh.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=_n({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Nn(JSON.stringify({alg:"none",type:"JWT"})),Nn(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new sd(od.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Gh(o)}e._credentials=new ld(new ud(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Ww(e),n=await Qw(e);return t.setNetworkEnabled(!0),function(e){const t=id(e);return t.Kr.delete(0),cv(t)}(n)}))}(Sb(e=ub(e,Eb)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Ww(e),n=await Qw(e);return t.setNetworkEnabled(!1),async function(e){const t=id(e);t.Kr.add(0),await lv(t),t.Wr.set("Offline")}(n)}))}(Sb(e=ub(e,Eb)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,ib("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new ad;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=id(e);yv(n.remoteStore)||Zh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=id(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.In.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Bo.get(e)||[];r.push(t),n.Bo.set(e,r)}catch(e){const n=Fv(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Yw(e),t))),t.promise}(Sb(e=ub(e,Eb)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new Uw(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){id(e).Zr.add(t),t.next()}(await Jw(e),n))),()=>{n.Xo(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){id(e).Zr.delete(t)}(await Jw(e),n)))}}(Sb(e=ub(e,Eb)),bb(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new sd("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new nE(this,mb(this._delegate,e))}catch(e){throw G_(e,"collection()","Firestore.collection()")}}doc(e){try{return new W_(this,gb(this._delegate,e))}catch(e){throw G_(e,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new X_(this,function(e,t){if(e=ub(e,hb),rb("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new sd(od.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fb(e,null,function(e){return new Tf(Td.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw G_(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t){return function(e,t){const n=new ad;return e.asyncQueue.enqueueAndForget((async()=>{const r=await function(e){return Hw(e).then((e=>e.datastore))}(e);new zw(e.asyncQueue,r,t,n).run()})),n.promise}(Sb(e),(n=>t(new L_(e,n))))}(this._delegate,(t=>e(new $_(this,t))))}batch(){return Sb(this._delegate),new K_(new x_(this._delegate,(e=>D_(this._delegate,e))))}loadBundle(e){return function(e,t){const n=Sb(e=ub(e,Eb)),r=new _b;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new jw(e,t)}(function(e,t){if(e instanceof Uint8Array)return Fw(e,t);if(e instanceof ArrayBuffer)return Fw(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,tv(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=id(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=id(e),r=nm(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Je.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(Zv(r));const i=new Jv(r,e.localStore,t.N);let o=await t.Qo();for(;o;){const e=await i.fo(o);e&&n._updateProgress(e),o=await t.Qo()}const s=await i.complete();await bw(e,s.Tn,void 0),await function(e,t){const n=id(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Je.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress)}catch(e){ed("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}})(r,t,n).then((()=>{r.sharedClientState.notifyBundleLoaded()}))}(await Yw(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=id(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Je.getNamedQuery(e,t)))}(await Gw(e),t)))}(Sb(e=ub(e,Eb)),t).then((t=>t?new fb(e,null,t.query):null))}(this._delegate,e).then((e=>e?new X_(this,e):null))}}class q_ extends I_{constructor(e){super(),this.firestore=e}convertBytes(e){return new j_(new Nb(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return W_.forKey(t,this.firestore,null)}}class $_{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new q_(e)}get(e){const t=rE(e);return this._delegate.get(t).then((e=>new J_(this._firestore,new a_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=rE(e);return n?(M_("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=rE(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=rE(e);return this._delegate.delete(t),this}}class K_{constructor(e){this._delegate=e}set(e,t,n){const r=rE(e);return n?(M_("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=rE(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=rE(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class H_{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new u_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Z_(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=H_.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new H_(e,new q_(e),t),r.set(t,i)),i}}H_.INSTANCES=new WeakMap;class W_{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new q_(e)}static forPath(e,t,n){if(e.length%2!=0)throw new sd("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new W_(t,new db(t._delegate,n,new zd(e)))}static forKey(e,t,n){return new W_(t,new db(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new nE(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new nE(this.firestore,mb(this._delegate,e))}catch(e){throw G_(e,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Jn(e))instanceof db&&yb(this._delegate,e)}set(e,t){t=M_("DocumentReference.set",t);try{return t?A_(this._delegate,e,t):A_(this._delegate,e)}catch(e){throw G_(e,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?O_(this._delegate,e):O_(this._delegate,e,t,...n)}catch(e){throw G_(e,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return D_(ub(e.firestore,Eb),[new wp(e._key,sp.none())])}(this._delegate)}onSnapshot(...e){const t=Q_(e),n=Y_(e,(e=>new J_(this.firestore,new a_(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return P_(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=ub(e,db);const t=ub(e.firestore,Eb),n=Sb(t),r=new C_(t);return function(e,t){const n=new ad;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=id(e);return n.persistence.runTransaction("read document","readonly",(e=>n.Qn.An(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new sd(od.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Fv(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await Gw(e),t,n))),n.promise}(n,e._key).then((n=>new a_(t,r,e._key,n,new s_(null!==n&&n.hasLocalMutations,!0),e.converter)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=ub(e,db);const t=ub(e.firestore,Eb);return Zw(Sb(t),e._key,{source:"server"}).then((n=>R_(t,e,n)))}(this._delegate):function(e){e=ub(e,db);const t=ub(e.firestore,Eb);return Zw(Sb(t),e._key).then((n=>R_(t,e,n)))}(this._delegate),t.then((e=>new J_(this.firestore,new a_(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new W_(this.firestore,e?this._delegate.withConverter(H_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function G_(e,t,n){return e.message=e.message.replace(t,n),e}function Q_(e){for(const t of e)if("object"==typeof t&&!V_(t))return t;return{}}function Y_(e,t){var n,r;let i;return i=V_(e[0])?e[0]:V_(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class J_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new W_(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return h_(this._delegate,e._delegate)}}class Z_ extends J_{data(e){const t=this._delegate.data(e);return function(e,t){e||nd()}(void 0!==t),t}}class X_{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new q_(e)}where(e,t,n){try{return new X_(this.firestore,p_(this._delegate,function(e,t,n){const r=t,i=o_("where",e);return new m_(i,r,n)}(e,t,n)))}catch(e){throw G_(e,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new X_(this.firestore,p_(this._delegate,function(e,t="asc"){const n=t,r=o_("orderBy",e);return new g_(r,n)}(e,t)))}catch(e){throw G_(e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new X_(this.firestore,p_(this._delegate,function(e){return cb("limit",e),new y_("limit",e,"F")}(e)))}catch(e){throw G_(e,"limit()","Query.limit()")}}limitToLast(e){try{return new X_(this.firestore,p_(this._delegate,function(e){return cb("limitToLast",e),new y_("limitToLast",e,"L")}(e)))}catch(e){throw G_(e,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new X_(this.firestore,p_(this._delegate,function(...e){return new v_("startAt",e,!0)}(...e)))}catch(e){throw G_(e,"startAt()","Query.startAt()")}}startAfter(...e){try{return new X_(this.firestore,p_(this._delegate,function(...e){return new v_("startAfter",e,!1)}(...e)))}catch(e){throw G_(e,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new X_(this.firestore,p_(this._delegate,function(...e){return new w_("endBefore",e,!0)}(...e)))}catch(e){throw G_(e,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new X_(this.firestore,p_(this._delegate,function(...e){return new w_("endAt",e,!1)}(...e)))}catch(e){throw G_(e,"endAt()","Query.endAt()")}}isEqual(e){return vb(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=ub(e,fb);const t=ub(e.firestore,Eb),n=Sb(t),r=new C_(t);return function(e,t){const n=new ad;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Iy(e,t,!0),i=new tw(t,r.Gn),o=i.Io(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=Fv(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await Gw(e),t,n))),n.promise}(n,e._query).then((n=>new c_(t,r,e,n)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=ub(e,fb);const t=ub(e.firestore,Eb),n=Sb(t),r=new C_(t);return Xw(n,e._query,{source:"server"}).then((n=>new c_(t,r,e,n)))}(this._delegate):function(e){e=ub(e,fb);const t=ub(e.firestore,Eb),n=Sb(t),r=new C_(t);return d_(e._query),Xw(n,e._query).then((n=>new c_(t,r,e,n)))}(this._delegate),t.then((e=>new tE(this.firestore,new c_(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=Q_(e),n=Y_(e,(e=>new tE(this.firestore,new c_(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return P_(this._delegate,t,n)}withConverter(e){return new X_(this.firestore,e?this._delegate.withConverter(H_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class eE{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Z_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new X_(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Z_(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new eE(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Z_(this._firestore,n))}))}isEqual(e){return h_(this._delegate,e._delegate)}}class nE extends X_{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new W_(this.firestore,e):null}doc(e){try{return new W_(this.firestore,void 0===e?gb(this._delegate):gb(this._delegate,e))}catch(e){throw G_(e,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=ub(e.firestore,Eb),r=gb(e),i=k_(e.converter,t);return D_(n,[Ub(Fb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,sp.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new W_(this.firestore,e)))}isEqual(e){return yb(this._delegate,e._delegate)}withConverter(e){return new nE(this.firestore,e?this._delegate.withConverter(H_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function rE(e){return ub(e,db)}class iE{constructor(...e){this._delegate=new xb(...e)}static documentId(){return new iE(Nd.keyField().canonicalString())}isEqual(e){return(e=Jn(e))instanceof xb&&this._delegate._internalPath.isEqual(e._internalPath)}}class oE{constructor(e){this._delegate=e}static serverTimestamp(){const e=new zb("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new oE(e)}static delete(){const e=new jb("deleteField");return e._methodName="FieldValue.delete",new oE(e)}static arrayUnion(...e){const t=function(...e){return new Bb("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new oE(t)}static arrayRemove(...e){const t=function(...e){return new qb("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new oE(t)}static increment(e){const t=function(e){return new $b("increment",e)}(e);return t._methodName="FieldValue.increment",new oE(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const sE={Firestore:B_,GeoPoint:Ab,Timestamp:bd,Blob:j_,Transaction:$_,WriteBatch:K_,DocumentReference:W_,DocumentSnapshot:J_,Query:X_,QueryDocumentSnapshot:Z_,QuerySnapshot:tE,CollectionReference:nE,FieldPath:iE,FieldValue:oE,setLogLevel:function(e){!function(e){Yh.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};function aE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aE(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.INTERNAL.registerComponent(new Xn("firestore-compat",(e=>((e,t)=>new B_(e,t,new z_))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate())),"PUBLIC").setServiceProps(Object.assign({},sE))),e.registerVersion("@firebase/firestore-compat","0.1.1")}(jr),jr.initializeApp({apiKey:"AIzaSyCv5EiRyE15HVfcfH9EV0_Y_2mfu34jGUY",authDomain:"crwn-grooming.firebaseapp.com",projectId:"crwn-grooming",storageBucket:"crwn-grooming.appspot.com",messagingSenderId:"361126739192",appId:"1:361126739192:web:8c33df93f0521360f90f0d",measurementId:"G-MZ0YNT277X"});var cE=function(){var e=o(y().mark((function e(t,n){var r,i,o,s;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=hE.doc("users/".concat(t.uid)),e.next=5,r.get();case 5:if(e.sent.exists){e.next=17;break}return i=t.displayName,o=t.email,s=new Date,e.prev=9,e.next=12,r.set(uE({displayName:i,email:o,createdAt:s},n));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error");case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,n){return e.apply(this,arguments)}}(),lE=jr.auth(),hE=jr.firestore(),dE=new jr.auth.GoogleAuthProvider;dE.setCustomParameters({prompt:"select_account"});var fE=function(){return lE.signInWithPopup(dE)},pE=n(3519),mE=n.n(pE),gE=n(5658),yE={};yE.styleTagTransform=C(),yE.setAttributes=k(),yE.insert=S().bind(null,"head"),yE.domAPI=_(),yE.insertStyleElement=x(),w()(gE.Z,yE),gE.Z&&gE.Z.locals&&gE.Z.locals;const vE=lt((function(e){return{itemCount:kt(e)}}),(function(e){return{toggleCart:function(){return e(Lt())}}}))((function(e){var n=e.toggleCart,r=e.itemCount;return t.createElement("div",{className:"shop-icon-container",onClick:n},t.createElement("img",{src:mE(),alt:"",className:"shop-icon"}),t.createElement("span",{className:"item-count"},r))}));var wE=n(2627),bE={};bE.styleTagTransform=C(),bE.setAttributes=k(),bE.insert=S().bind(null,"head"),bE.domAPI=_(),bE.insertStyleElement=x(),w()(wE.Z,bE),wE.Z&&wE.Z.locals&&wE.Z.locals;var _E=n(2321),EE={};EE.styleTagTransform=C(),EE.setAttributes=k(),EE.insert=S().bind(null,"head"),EE.domAPI=_(),EE.insertStyleElement=x(),w()(_E.Z,EE),_E.Z&&_E.Z.locals&&_E.Z.locals;const SE=function(e){var n=e.items,r=n.img,i=n.price,o=n.name,s=n.quantity;return t.createElement("div",{className:"cart-item"},t.createElement("img",{src:r,alt:"item"}),t.createElement("div",{className:"items-info"},t.createElement("span",{className:"name"},o),t.createElement("span",{className:"price"},s," x $",i)))},IE=Ne(lt((function(e){return{cartItems:It(e)}}))((function(e){var n=e.cartItems,r=e.history,i=e.dispatch;return t.createElement("div",{className:"cart-dropdown"},t.createElement("div",{className:"cart-items"},n.length?n.map((function(e){return t.createElement(SE,{key:e.id,items:e})})):t.createElement("span",{className:"no-items-message"},"Your Cart is Empty")),t.createElement(Wt,{onClick:function(){r.push("/checkout"),i(Lt())},child:"GOT TO CHECKOUT"}))}))),kE=lt(gt({currentUser:mt((function(e){return e.user}),(function(e){return e.currentUser})),hidden:Tt}))((function(e){var n=e.currentUser,r=e.hidden;return t.createElement("header",null,t.createElement(mn,{to:"/",className:"logo-container"},t.createElement("img",{src:wn(),alt:""})),t.createElement("div",{className:"nav"},t.createElement(mn,{className:"nav-item",to:"/shop"},"Shop"),t.createElement(mn,{className:"nav-item",to:"/contact"},"Contact"),n?t.createElement("div",{className:"nav-item",onClick:function(){lE.signOut()},style:{cursor:"pointer"}}," Sign-out"):t.createElement(mn,{className:"nav-item",to:"/signin"},"Sign-in"),t.createElement(vE,null)),r?null:t.createElement(IE,null))}));var TE=n(9499),xE={};xE.styleTagTransform=C(),xE.setAttributes=k(),xE.insert=S().bind(null,"head"),xE.domAPI=_(),xE.insertStyleElement=x(),w()(TE.Z,xE),TE.Z&&TE.Z.locals&&TE.Z.locals;var NE=n(2394),CE={};CE.styleTagTransform=C(),CE.setAttributes=k(),CE.insert=S().bind(null,"head"),CE.domAPI=_(),CE.insertStyleElement=x(),w()(NE.Z,CE),NE.Z&&NE.Z.locals&&NE.Z.locals;var AE=n(1031),OE={};OE.styleTagTransform=C(),OE.setAttributes=k(),OE.insert=S().bind(null,"head"),OE.domAPI=_(),OE.insertStyleElement=x(),w()(AE.Z,OE),AE.Z&&AE.Z.locals&&AE.Z.locals;var PE=["handleChange","label"];const DE=function(e){var n=e.handleChange,r=e.label,i=R(e,PE);return t.createElement("div",{className:"group"},t.createElement("input",P({className:"form-input",onChange:n},i)),r?t.createElement("label",{className:"".concat(i.value.length?"shrink":""," form-input-label")},r):null)};const RE=function(e){h(a,e);var n,r,i=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(n);if(r){var i=p(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return f(this,e)});function a(e){var t;return s(this,a),m(c(t=i.call(this,e)),"handleSubmit",function(){var e=o(y().mark((function e(n){var r,i,o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=t.state,i=r.email,o=r.password,e.prev=2,e.next=5,lE.signInWithEmailAndPassword(i,o);case 5:t.setState({email:"",password:""}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()),m(c(t),"handleChange",(function(e){var n=e.target,r=n.value,i=n.name;t.setState(m({},i,r))})),t.state={email:"",password:""},t}return u(a,[{key:"render",value:function(){return console.log(this.state),t.createElement("div",{className:"sign-in"},t.createElement("h2",null,"I Already have an Account"),t.createElement("span",null,"Sign In with your Email and Password"),t.createElement("form",{id:"sign-in-form",onSubmit:this.handleSubmit},t.createElement(DE,{type:"email",name:"email",value:this.state.email,required:!0,handleChange:this.handleChange,label:"email"}),t.createElement(DE,{type:"password",name:"password",value:this.state.password,required:!0,handleChange:this.handleChange,label:"password"}),t.createElement("div",{className:"btns"},t.createElement(Wt,{type:"submit",value:"submit form",child:"Sign-in"}),t.createElement(Wt,{type:"button",onClick:fE,child:"Sign-in with google",isGoogleIn:!0}))))}}]),a}(t.Component);var LE=n(1014),ME={};ME.styleTagTransform=C(),ME.setAttributes=k(),ME.insert=S().bind(null,"head"),ME.domAPI=_(),ME.insertStyleElement=x(),w()(LE.Z,ME),LE.Z&&LE.Z.locals&&LE.Z.locals;const FE=function(e){h(a,e);var n,r,i=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(n);if(r){var i=p(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return f(this,e)});function a(e){var t;return s(this,a),m(c(t=i.call(this,e)),"handleSubmit",function(){var e=o(y().mark((function e(n){var r,i,o,s,a,u,c;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.state,i=r.displayName,o=r.email,s=r.password,a=r.confirmPassword,n.preventDefault(),s===a){e.next=5;break}return alert("not match"),e.abrupt("return");case 5:return e.prev=5,e.next=8,lE.createUserWithEmailAndPassword(o,s);case 8:return u=e.sent,c=u.user,e.next=12,cE(c,{displayName:i});case 12:t.setState({displayName:"",email:"",password:"",confirmPassword:""}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}()),m(c(t),"handleChange",(function(e){var n=e.target,r=n.value,i=n.name;t.setState(m({},i,r))})),t.state={displayName:"",email:"",password:"",confirmPassword:""},t}return u(a,[{key:"render",value:function(){var e=this.state,n=e.displayName,r=e.email,i=e.password,o=e.confirmPassword;return t.createElement("div",{className:"sign-up"},t.createElement("h2",null,"I don't have a account"),t.createElement("span",null,"Sign up with you email and passwords"),t.createElement("form",{id:"sign-up-form",onSubmit:this.handleSubmit},t.createElement(DE,{type:"text",name:"displayName",value:n,handleChange:this.handleChange,label:"name",required:!0}),t.createElement(DE,{type:"email",name:"email",value:r,handleChange:this.handleChange,label:"email",required:!0}),t.createElement(DE,{type:"password",name:"password",value:i,handleChange:this.handleChange,label:"password",required:!0}),t.createElement(DE,{type:"password",name:"confirmPassword",value:o,handleChange:this.handleChange,label:"confirm password",required:!0}),t.createElement(Wt,{type:"submit",child:"Sign-Up"})))}}]),a}(t.Component),UE=function(){return t.createElement("div",{className:"sign-in-sign-up"},t.createElement(RE,null),t.createElement(FE,null))};var jE=" SET_CURRENT_USER";function VE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VE(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var BE=function(e){h(a,e);var n,r,i=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(n);if(r){var i=p(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return f(this,e)});function a(){var e;s(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(c(e=i.call.apply(i,[this].concat(n))),"unsubscribeFromAuth",null),e}return u(a,[{key:"componentDidMount",value:function(){var e=this.props.setCurrentUser;this.unsubscribeFromAuth=lE.onAuthStateChanged(function(){var t=o(y().mark((function t(n){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return t.next=3,cE(n);case 3:t.sent.onSnapshot((function(t){e(zE({id:t.id},t.data()))})),t.next=8;break;case 7:e(n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){var e=this;return t.createElement("div",null,t.createElement(kE,null),t.createElement(xe,null,t.createElement(Te,{exact:!0,path:"/",component:bt}),t.createElement(Te,{path:"/shop",component:sn}),t.createElement(Te,{exact:!0,path:"/checkout",component:jt}),t.createElement(Te,{exact:!0,path:"/signin",render:function(){return e.props.currentUser?t.createElement(Ee,{to:"/"}):t.createElement(UE,null)}})))}}]),a}(t.Component);const qE=lt((function(e){return{currentUser:e.user.currentUser}}),(function(e){return{setCurrentUser:function(t){e(function(e){return{type:jE,payload:e}}(t))}}}))(BE);var $E=n(9847),KE={};function HE(e){return(HE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QE(e,t){return!t||"object"!==HE(t)&&"function"!=typeof t?JE(e):t}function YE(e){return(YE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function JE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZE(e,t){return(ZE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function XE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}KE.styleTagTransform=C(),KE.setAttributes=k(),KE.insert=S().bind(null,"head"),KE.domAPI=_(),KE.insertStyleElement=x(),w()($E.Z,KE),$E.Z&&$E.Z.locals&&$E.Z.locals;var eS=function(e){function t(){var e,n;WE(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return XE(JE(n=QE(this,(e=YE(t)).call.apply(e,[this].concat(i)))),"state",{bootstrapped:!1}),XE(JE(n),"_unsubscribe",void 0),XE(JE(n),"handlePersistorState",(function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally((function(){return n.setState({bootstrapped:!0})})):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())})),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZE(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"==typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&GE(n.prototype,r),t}(t.PureComponent);function tS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tS(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rS(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}XE(eS,"defaultProps",{children:null,loading:null});var iS="function"==typeof Symbol&&Symbol.observable||"@@observable",oS=function(){return Math.random().toString(36).substring(7).split("").join(".")},sS={INIT:"@@redux/INIT"+oS(),REPLACE:"@@redux/REPLACE"+oS(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+oS()}};function aS(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function uS(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(rS(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(rS(1));return n(uS)(e,t)}if("function"!=typeof e)throw new Error(rS(2));var i=e,o=t,s=[],a=s,u=!1;function c(){a===s&&(a=s.slice())}function l(){if(u)throw new Error(rS(3));return o}function h(e){if("function"!=typeof e)throw new Error(rS(4));if(u)throw new Error(rS(5));var t=!0;return c(),a.push(e),function(){if(t){if(u)throw new Error(rS(6));t=!1,c();var n=a.indexOf(e);a.splice(n,1),s=null}}}function d(e){if(!aS(e))throw new Error(rS(7));if(void 0===e.type)throw new Error(rS(8));if(u)throw new Error(rS(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=s=a,n=0;n<t.length;n++)(0,t[n])();return e}function f(e){if("function"!=typeof e)throw new Error(rS(10));i=e,d({type:sS.REPLACE})}function p(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(rS(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[iS]=function(){return this},e}return d({type:sS.INIT}),(r={dispatch:d,subscribe:h,getState:l,replaceReducer:f})[iS]=p,r}function cS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var lS=n(4500),hS=n.n(lS),dS="persist:",fS="persist/FLUSH",pS="persist/REHYDRATE",mS="persist/PAUSE",gS="persist/PERSIST",yS="persist/PURGE",vS="persist/REGISTER";function wS(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function bS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bS(n,!0).forEach((function(t){ES(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bS(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ES(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SS={registry:[],bootstrapped:!1},IS=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vS:return _S({},e,{registry:[].concat(wS(e.registry),[t.key])});case pS:var n=e.registry.indexOf(t.key),r=wS(e.registry);return r.splice(n,1),_S({},e,{registry:r,bootstrapped:0===r.length});default:return e}};function kS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kS(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xS={currentUser:null};function NS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CS(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var OS=function(e,t){return e.find((function(e){return e.id===t.id}))?e.map((function(e){return e.id===t.id?AS(AS({},e),{},{quantity:e.quantity+1}):e})):[].concat(function(e){if(Array.isArray(e))return NS(e)}(n=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return NS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NS(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[AS(AS({},t),{},{quantity:1})]);var n},PS=function(e,t){return 1===e.find((function(e){return e.id===t.id})).quantity?e.filter((function(e){return e.id!==t.id})):e.map((function(e){return e.id===t.id?AS(AS({},e),{},{quantity:e.quantity-1}):e}))};function DS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DS(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var LS={hidden:!0,cartItems:[]};var MS={sections:[{title:"Shampoos",img:"https://manilla.lt/img/cms/hair%20shampoo.jpg",id:1,linkurl:"shop/shampoos"},{title:"Shower Gels",img:"https://static5.depositphotos.com/1001001/469/i/600/depositphotos_4696043-stock-photo-bath-amenities.jpg",id:2,linkurl:"shop/ShowerGels"},{title:"Deaodorants",img:"https://img.mensxp.com/media/content/2018/Apr/roll-on-deodorants-thatll-ensure-you-never-smell-bad-1400x653-1523615135.jpg",id:3,linkurl:"shop/DEAODORANTS"},{title:"Body Powders",img:"https://blog.fendrihan.com/wp-content/uploads/2017/01/Lifestyle2-4.jpg",id:4,linkurl:"shop/BodyPowders"},{title:"Face Scrubs",img:"https://www.apetogentleman.com/wp-content/uploads/2020/05/best-face-scrubs.jpg",id:5,linkurl:"shop/FaceScrubs"},{title:"Bar Soaps",img:"https://hips.hearstapps.com/vader-prod.s3.amazonaws.com/1579902150-bar-soap-for-men-10-1579902145.jpg",id:6,linkurl:"shop/BarSoap"}]};var FS={collections:{shampoos:{title:"Shampoos",id:1,routeName:"shampoos",items:[{id:1,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/fuzzylogic_2_360x.jpg?v=1573059489",name:"Billy Jealousy Fuzzy Logic Strengthening Shampoo",price:22},{id:2,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/grooming-lounge_2122_2992265_2000x.jpg?v=1574185189",name:"Acqua Di Parma Colonia Hair Shampoo",price:52},{id:3,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/Duke-Cannon-News-Anchor-Shampoo_2000x.jpg?v=1594826249",name:"Duke Cannon News Anchor",price:14},{id:4,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/Jack_Black_All_Over_Wash_10_oz_2000x.png?v=1580742599",name:"Jack Black All-Over Wash",price:21},{id:5,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/8e18iq9nvyo6m_xgfigwccrmplnoz_1mia3plpxfixy_2000x.png?v=1573061733",name:"Brickell Daily Strengthening Shampoo",price:20},{id:6,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/2581912_2000x.jpg?v=1573062467",name:"Billy Jealousy Monsoon Mist Tea Tree Shampoo",price:16},{id:7,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/ms-ds_2000x.jpg?v=1573663040",name:"MenScience Daily Shampoo",price:26},{id:8,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/evergreen_2000x.png?v=1573062245",name:"Brickell All in One Wash for Men",price:26},{id:9,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/BaxterDeepCleanShampoo_2000x.jpg?v=1605735064",name:"Baxter of California Deep Clean Shampoo",price:34}]},ShowerGels:{title:"ShowerGels",id:2,routeName:"showergels",items:[{id:10,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/molton_brown_tobacco_absolute_body_wash_front_2000x.jpg?v=1630504808",name:"Molton Brown Tobacco Shower Gel",price:32},{id:11,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/molton_brown_russian_leather_body_wash_front_2000x.jpg?v=1573062524",name:"Molton Brown Russian  Shower Gel",price:32},{id:12,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/invigoratingmintbodywash_2000x.png?v=1573061721",name:"Brickell Invigorating Mint Body Wash",price:25},{id:13,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/molton_brown_eucalyptus_body_wash_front_2000x.jpg?v=1573058864",name:"Molton Brown Infusing  Shower Gel",price:"Sold out"},{id:14,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/molton_brown_ylang_ylang_body_wash_front_2000x.jpg?v=1573058890",name:"Molton Brown Relaxing Ylang-Ylang Shower Gel",price:23},{id:15,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/11.ultra_clean_shower_gel_front_-700x700_2000x.jpg?v=1573665318",name:"Recipe for Men Ultra Clean Shower Gel",price:20},{id:16,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/DevilsDelightWash_2000x.jpg?v=1628524464",name:"Billy Jealousy Devil's Delight",price:"Sold Out"},{id:17,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/molton_brown_orange_bergamot_body_wash_front_2000x.jpg?v=1573060306",name:"Molton Brown Orange Bergamot Shower Gel",price:32}]},DEAODORANTS:{title:"DEAODORANTS",id:3,routeName:"DEAODORANTS",items:[{id:18,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/brickell_mint_deodorant_2000x.jpg?v=1573063121",name:"Brickell Fresh Mint Deodorant",price:18},{id:19,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/ursa_major_base_layer_deodorant_2000x.jpg?v=1573062263",name:"Ursa Major Base Layer Deodorant",price:15},{id:20,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/CopyofCopyof75661005_600x.png?v=1622568535",name:"Oars + Alps Natural Deodorant",price:14},{id:21,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/Balla-Sprayr-Original_2000x.jpg?v=1582736634",name:"Balla For Men Body Spray",price:22},{id:22,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/61huc5wfj9l._sy355_600x.jpg?v=1573063018",name:"Taylor of Old Bond Street Deodorant Stick",price:"Sold Out"},{id:23,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/kiehlssuperblyefficientantiperspirantdeodorant_2000x.jpg?v=1573662165",name:"Kiehl's Superbly Efficient Deodorant",price:22},{id:24,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/mg_1439_600x.jpg?v=1578935282",name:"Recipe for Men Antiperspirant Deodorant",price:"Sold Out"}]},BodyPowders:{title:"BodyPowders",id:4,routeName:"bodypowders",items:[{id:25,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/SuperPowder_600x.jpg?v=1627586151",name:"Grooming Lounge Super Powder",price:20},{id:26,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/AnthonyNoSweat_600x.jpg?v=1622743449",name:"Anthony No Sweat Body Defense",price:22},{id:27,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/bodypowder_2000x.png?v=1623781035",name:"Brickell Stay Fresh Body Powder",price:22},{id:28,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/powder_1_600x.jpg?v=1573060063",name:"MenScience Advanced Body Powderr",price:"Sold Out"},{id:29,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/dry_goods_combo_1_600x.jpg?v=1573062834",name:"Dry Goods Combo Pack",price:39},{id:30,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/Grooming_Lounge_Core_Values_Set_1_600x.jpg?v=1627586879",name:"Grooming Lounge Core Values Kit",price:51}]},FaceScrubs:{title:"FaceScrubs",id:5,routeName:"facescrubs",items:[{id:31,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/gl_kitbadges-04_2000x.jpg?v=1573061432",name:"Create Your Own Skincare Regimen Kit",price:"Free"},{id:32,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/brcharcoalfacewash_2000x.png?v=1573061706",name:"Brickell Purifying Charcoal Face Wash",price:25},{id:33,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/algae_facial_cleanser_12oz_2000x.jpg?v=1573057646",name:"Anthony Algae Facial Cleanser",price:36},{id:34,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/kiehls-oil-eliminator-cleanser_600x.jpg?v=1573666088",name:"Kiehl's Oil Eliminator Deep Cleansing Exfoliating Face Wash",price:24},{id:35,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/1118117_02_kiehls_agedefender_dualactioncleanser_150ml_rgb_r1_web_2000x.jpg?v=1573062328",name:"Kiehl's Age Defender Dual-Action Exfoliating Cleanser",price:"Sold Out"}]},BarSoaps:{title:"BarSoaps",id:6,routeName:"barsoaps",items:[{id:36,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/Duke-Cannon-Big-Ass-Brick-Of-Soap-VIctory-Front_646e01a9-b65a-430b-a172-e745c6919754_600x.jpg?v=1584040067",name:"Duke Cannon Supply Co. Big Ass Brick of Soap",price:10},{id:37,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/Grooming-Lounge-Bar-Soap-3-Pack_2000x.jpg?v=1604264799",name:"Grooming Lounge Our Body Bar 3-Pack",price:45},{id:38,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/fgjejwejw_2000x.png?v=1573063084",name:"Taylor of Old Bond Street Bath Soap",price:16},{id:39,img:"https://cdn.shopify.com/s/files/1/0176/8397/2150/products/AnthonyExfoliatingandCleansingBarandBox_3_600x.png?v=1612802705",name:"Anthony Exfoliating",price:20}]}}};function US(e){return(US="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zS(e,t,n,r){r.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jS(n,!0).forEach((function(t){VS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jS(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e&&"object"===US(e)&&Object.keys(e).forEach((function(r){"_persist"!==r&&t[r]===n[r]&&(i[r]=e[r])})),i}function BS(e){return JSON.stringify(e)}function qS(e){var t,n=e.transforms||[],r="".concat(void 0!==e.keyPrefix?e.keyPrefix:dS).concat(e.key),i=e.storage;return e.debug,t=!1===e.deserialize?function(e){return e}:"function"==typeof e.deserialize?e.deserialize:$S,i.getItem(r).then((function(e){if(e)try{var r={},i=t(e);return Object.keys(i).forEach((function(e){r[e]=n.reduceRight((function(t,n){return n.out(t,e,i)}),t(i[e]))})),r}catch(e){throw e}}))}function $S(e){return JSON.parse(e)}function KS(e){}function HS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HS(n,!0).forEach((function(t){GS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HS(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const QS=(YS={key:"root",storage:n(6734).Z,whiteLists:["cart"]},JS=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:sS.INIT}))throw new Error(rS(12));if(void 0===n(void 0,{type:sS.PROBE_UNKNOWN_ACTION()}))throw new Error(rS(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},a=0;a<s.length;a++){var u=s[a],c=n[u],l=e[u],h=c(l,t);if(void 0===h)throw t&&t.type,new Error(rS(14));i[u]=h,r=r||h!==l}return(r=r||s.length!==Object.keys(e).length)?i:e}}({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xS,t=arguments.length>1?arguments[1]:void 0;return t.type==jE?TS(TS({},e),{},{currentUser:t.payload}):e},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LS,t=arguments.length>1?arguments[1]:void 0;return t.type===At?RS(RS({},e),{},{hidden:!e.hidden}):t.type===Ot?RS(RS({},e),{},{cartItems:OS(e.cartItems,t.payload)}):t.type===Dt?RS(RS({},e),{},{cartItems:e.cartItems.filter((function(e){return e.id!==t.payload.id}))}):t.type===Pt?RS(RS({},e),{},{cartItems:PS(e.cartItems,t.payload)}):e},main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:MS,t=arguments.length>1?arguments[1]:void 0;if(t.type)return e},shop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:FS,t=arguments.length>1?arguments[1]:void 0;if(t.type)return e}}),ZS=void 0!==YS.version?YS.version:-1,XS=void 0===YS.stateReconciler?zS:YS.stateReconciler,eI=YS.getStoredState||qS,tI=void 0!==YS.timeout?YS.timeout:5e3,nI=null,rI=!1,iI=!0,oI=function(e){return e._persist.rehydrated&&nI&&!iI&&nI.update(e),e},function(e,t){var n=e||{},r=n._persist,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,["_persist"]);if(t.type===gS){var o=!1,s=function(e,n){o||(t.rehydrate(YS.key,e,n),o=!0)};if(tI&&setTimeout((function(){!o&&s(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(YS.key,'"')))}),tI),iI=!1,nI||(nI=function(e){var t,n=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],o=e.throttle||0,s="".concat(void 0!==e.keyPrefix?e.keyPrefix:dS).concat(e.key),a=e.storage;t=!1===e.serialize?function(e){return e}:"function"==typeof e.serialize?e.serialize:BS;var u=e.writeFailHandler||null,c={},l={},h=[],d=null,f=null;function p(){if(0===h.length)return d&&clearInterval(d),void(d=null);var e=h.shift(),n=i.reduce((function(t,n){return n.in(t,e,c)}),c[e]);if(void 0!==n)try{l[e]=t(n)}catch(e){console.error("redux-persist/createPersistoid: error serializing state",e)}else delete l[e];0===h.length&&(Object.keys(l).forEach((function(e){void 0===c[e]&&delete l[e]})),f=a.setItem(s,t(l)).catch(g))}function m(e){return!(r&&-1===r.indexOf(e)&&"_persist"!==e||n&&-1!==n.indexOf(e))}function g(e){u&&u(e)}return{update:function(e){Object.keys(e).forEach((function(t){m(t)&&c[t]!==e[t]&&-1===h.indexOf(t)&&h.push(t)})),Object.keys(c).forEach((function(t){void 0===e[t]&&m(t)&&-1===h.indexOf(t)&&void 0!==c[t]&&h.push(t)})),null===d&&(d=setInterval(p,o)),c=e},flush:function(){for(;0!==h.length;)p();return f||Promise.resolve()}}}(YS)),r)return WS({},JS(i,t),{_persist:r});if("function"!=typeof t.rehydrate||"function"!=typeof t.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return t.register(YS.key),eI(YS).then((function(e){(YS.migrate||function(e,t){return Promise.resolve(e)})(e,ZS).then((function(e){s(e)}),(function(e){s(void 0,e)}))}),(function(e){s(void 0,e)})),WS({},JS(i,t),{_persist:{version:ZS,rehydrated:!1}})}if(t.type===yS)return rI=!0,t.result(function(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:dS).concat(e.key);return t.removeItem(n,KS)}(YS)),WS({},JS(i,t),{_persist:r});if(t.type===fS)return t.result(nI&&nI.flush()),WS({},JS(i,t),{_persist:r});if(t.type===mS)iI=!0;else if(t.type===pS){if(rI)return WS({},i,{_persist:WS({},r,{rehydrated:!0})});if(t.key===YS.key){var a=JS(i,t),u=t.payload,c=WS({},!1!==XS&&void 0!==u?XS(u,e,a,YS):a,{_persist:WS({},r,{rehydrated:!0})});return oI(c)}}if(!r)return JS(e,t);var l=JS(i,t);return l===i?e:oI(WS({},l,{_persist:r}))});var YS,JS,ZS,XS,eI,tI,nI,rI,iI,oI,sI=[hS()],aI=uS(QS,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(rS(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=cS.apply(void 0,o)(n.dispatch),nS(nS({},n),{},{dispatch:r})}}}.apply(void 0,sI)),uI=function(e,t,n){var r=!1,i=uS(IS,SS,void 0),o=function(e){i.dispatch({type:vS,key:e})},s=function(t,n,o){var s={type:pS,payload:n,err:o,key:t};e.dispatch(s),i.dispatch(s),r&&a.getState().bootstrapped&&(r(),r=!1)},a=_S({},i,{purge:function(){var t=[];return e.dispatch({type:yS,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:fS,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:mS})},persist:function(){e.dispatch({type:gS,register:o,rehydrate:s})}});return a.persist(),a}(aI);r.render(t.createElement(Me,{store:aI},t.createElement(cn,null,t.createElement(eS,{persistor:uI},t.createElement(qE,null)))),document.getElementById("app"))})()})();